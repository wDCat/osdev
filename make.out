contious_heap.c: In function ‘halloc’:
contious_heap.c:60:24: warning: suggest parentheses around ‘-’ in operand of ‘&’ [-Wparentheses]
         size += 0x1000 - hinfo->addr & 0xFFF;
                        ^
In file included from ./include/system.h:4:0,
                 from ./include/contious_heap.h:8,
                 from contious_heap.c:5:
contious_heap.c: In function ‘hfree’:
contious_heap.c:147:49: warning: passing argument 1 of ‘puthex’ makes integer from pointer without a cast
                 dumphex("combine next header:", next_header);
                                                 ^
./include/screen.h:29:12: note: in definition of macro ‘dumphex’
     puthex(x); \
            ^
./include/screen.h:55:6: note: expected ‘uint32_t’ but argument is of type ‘struct hole_header_t *’
 void puthex(uint32_t n);
      ^
In file included from ./include/contious_heap.h:8:0,
                 from contious_heap.c:5:
contious_heap.c: At top level:
./include/system.h:82:27: warning: inline function ‘itoa’ declared but never defined
 extern inline const char *itoa(int i, char result[]);
                           ^
./include/system.h:82:27: warning: inline function ‘itoa’ declared but never defined
In file included from fs_node.c:5:0:
./include/fs_node.h:19:39: warning: ‘struct fs_node’ declared inside parameter list
 typedef int32_t (*read_type_t)(struct fs_node *, __fs_special_t *fsp, uint32_t, uint32_t, uint8_t *);
                                       ^
./include/fs_node.h:19:39: warning: its scope is only this definition or declaration, which is probably not what you want
./include/fs_node.h:21:40: warning: ‘struct fs_node’ declared inside parameter list
 typedef int32_t (*write_type_t)(struct fs_node *, __fs_special_t *fsp, uint32_t, uint32_t, uint8_t *);
                                        ^
./include/fs_node.h:23:36: warning: ‘struct fs_node’ declared inside parameter list
 typedef void (*open_type_t)(struct fs_node *, __fs_special_t *fsp);
                                    ^
./include/fs_node.h:25:37: warning: ‘struct fs_node’ declared inside parameter list
 typedef void (*close_type_t)(struct fs_node *, __fs_special_t *fsp);
                                     ^
./include/fs_node.h:28:101: warning: ‘struct dirent’ declared inside parameter list
 typedef int32_t (*readdir_type_t)(struct fs_node *node, __fs_special_t *fsp, uint32_t count, struct dirent *result);
                                                                                                     ^
./include/fs_node.h:28:101: warning: ‘struct fs_node’ declared inside parameter list
./include/fs_node.h:30:95: warning: ‘struct fs_node’ declared inside parameter list
 typedef int (*finddir_type_t)(struct fs_node *, __fs_special_t *fsp, const char *name, struct fs_node *result_out);
                                                                                               ^
In file included from ./include/fs_node.h:8:0,
                 from fs_node.c:5:
./include/system.h:82:27: warning: inline function ‘itoa’ declared but never defined
 extern inline const char *itoa(int i, char result[]);
                           ^
./include/system.h:82:27: warning: inline function ‘itoa’ declared but never defined
fs_node.c: In function ‘read_fs’:
fs_node.c:8:1: warning: control reaches end of non-void function [-Wreturn-type]
 }
 ^
fs_node.c: In function ‘write_fs’:
fs_node.c:11:1: warning: control reaches end of non-void function [-Wreturn-type]
 }
 ^
gdt.c: In function ‘gdt_flush’:
gdt.c:27:13: warning: assignment makes integer from pointer without a cast
     gp.base = gdt_;
             ^
gdt.c:29:12: warning: type defaults to ‘int’ in declaration of ‘_gdt_flush’
     extern _gdt_flush();
            ^
In file included from include/gdt.h:8:0,
                 from gdt.c:5:
gdt.c: At top level:
include/system.h:82:27: warning: inline function ‘itoa’ declared but never defined
 extern inline const char *itoa(int i, char result[]);
                           ^
include/system.h:82:27: warning: inline function ‘itoa’ declared but never defined
In file included from heap_array_list.c:7:0:
heap_array_list.c: In function ‘create_heap_array_list’:
./include/kmalloc.h:25:21: warning: initialization makes pointer from integer without a cast
 #define kmalloc(sz) kmalloc_internal(sz,false,NULL,kernel_heap)
                     ^
heap_array_list.c:10:32: note: in expansion of macro ‘kmalloc’
     heap_array_list_t *alist = kmalloc(sizeof(heap_array_list_t));
                                ^
heap_array_list.c:11:20: warning: assignment makes pointer from integer without a cast
     alist->headers = kmalloc(sizeof(header_info_t) * max_size);
                    ^
heap_array_list.c: In function ‘insert_item_ordered’:
heap_array_list.c:24:21: warning: passing argument 1 of ‘dmemcpy’ from incompatible pointer type
             dmemcpy(&al->headers[x + 1], &al->headers[x], sizeof(header_info_t) * (al->size - x));
                     ^
In file included from ./include/heap_array_list.h:8:0,
                 from heap_array_list.c:5:
./include/system.h:74:23: note: expected ‘unsigned char *’ but argument is of type ‘struct header_info_t *’
 extern unsigned char *dmemcpy(unsigned char *dest, const unsigned char *src, int count);
                       ^
heap_array_list.c:24:42: warning: passing argument 2 of ‘dmemcpy’ from incompatible pointer type
             dmemcpy(&al->headers[x + 1], &al->headers[x], sizeof(header_info_t) * (al->size - x));
                                          ^
In file included from ./include/heap_array_list.h:8:0,
                 from heap_array_list.c:5:
./include/system.h:74:23: note: expected ‘const unsigned char *’ but argument is of type ‘struct header_info_t *’
 extern unsigned char *dmemcpy(unsigned char *dest, const unsigned char *src, int count);
                       ^
heap_array_list.c:25:20: warning: passing argument 1 of ‘memset’ from incompatible pointer type
             memset(&al->headers[x], 0, sizeof(header_info_t));
                    ^
In file included from ./include/heap_array_list.h:8:0,
                 from heap_array_list.c:5:
./include/system.h:76:23: note: expected ‘unsigned char *’ but argument is of type ‘struct header_info_t *’
 extern unsigned char *memset(unsigned char *dest, unsigned char val, int count);
                       ^
heap_array_list.c:26:20: warning: passing argument 1 of ‘memcpy’ from incompatible pointer type
             memcpy(&al->headers[x], info, sizeof(header_info_t));
                    ^
In file included from ./include/heap_array_list.h:8:0,
                 from heap_array_list.c:5:
./include/system.h:72:23: note: expected ‘unsigned char *’ but argument is of type ‘struct header_info_t *’
 extern unsigned char *memcpy(unsigned char *dest, const unsigned char *src, int count);
                       ^
heap_array_list.c:26:37: warning: passing argument 2 of ‘memcpy’ from incompatible pointer type
             memcpy(&al->headers[x], info, sizeof(header_info_t));
                                     ^
In file included from ./include/heap_array_list.h:8:0,
                 from heap_array_list.c:5:
./include/system.h:72:23: note: expected ‘const unsigned char *’ but argument is of type ‘struct header_info_t *’
 extern unsigned char *memcpy(unsigned char *dest, const unsigned char *src, int count);
                       ^
heap_array_list.c:29:17: warning: implicit declaration of function ‘strformat’ [-Wimplicit-function-declaration]
                 PANIC("Out of array.");
                 ^
heap_array_list.c: In function ‘remove_item’:
heap_array_list.c:44:16: warning: passing argument 1 of ‘memset’ from incompatible pointer type
         memset(&al->headers[index], 0, sizeof(header_info_t));
                ^
In file included from ./include/heap_array_list.h:8:0,
                 from heap_array_list.c:5:
./include/system.h:76:23: note: expected ‘unsigned char *’ but argument is of type ‘struct header_info_t *’
 extern unsigned char *memset(unsigned char *dest, unsigned char val, int count);
                       ^
heap_array_list.c:46:16: warning: passing argument 1 of ‘memcpy’ from incompatible pointer type
         memcpy(&al->headers[index], &al->headers[index + 1], sizeof(header_info_t) * (al->size - index - 1));
                ^
In file included from ./include/heap_array_list.h:8:0,
                 from heap_array_list.c:5:
./include/system.h:72:23: note: expected ‘unsigned char *’ but argument is of type ‘struct header_info_t *’
 extern unsigned char *memcpy(unsigned char *dest, const unsigned char *src, int count);
                       ^
heap_array_list.c:46:37: warning: passing argument 2 of ‘memcpy’ from incompatible pointer type
         memcpy(&al->headers[index], &al->headers[index + 1], sizeof(header_info_t) * (al->size - index - 1));
                                     ^
In file included from ./include/heap_array_list.h:8:0,
                 from heap_array_list.c:5:
./include/system.h:72:23: note: expected ‘const unsigned char *’ but argument is of type ‘struct header_info_t *’
 extern unsigned char *memcpy(unsigned char *dest, const unsigned char *src, int count);
                       ^
heap_array_list.c: In function ‘find_suit_hole’:
heap_array_list.c:56:40: warning: suggest parentheses around ‘-’ in operand of ‘&’ [-Wparentheses]
             if (page_align && ((0x1000 - al->headers[x].addr & 0xFFF) + size >= al->headers[x].size)) {
                                        ^
In file included from ./include/heap_array_list.h:8:0,
                 from heap_array_list.c:5:
heap_array_list.c: At top level:
./include/system.h:82:27: warning: inline function ‘itoa’ declared but never defined
 extern inline const char *itoa(int i, char result[]);
                           ^
./include/system.h:82:27: warning: inline function ‘itoa’ declared but never defined
ide.c: In function ‘ide_read_buffer’:
ide.c:75:51: warning: passing argument 2 of ‘insl’ makes pointer from integer without a cast
         insl(channels[channel].base + reg - 0x00, buffer, quads);
                                                   ^
ide.c:57:20: note: expected ‘void *’ but argument is of type ‘unsigned int’
 static inline void insl(uint16_t port, void *addr, unsigned long count) {
                    ^
ide.c:77:51: warning: passing argument 2 of ‘insl’ makes pointer from integer without a cast
         insl(channels[channel].base + reg - 0x06, buffer, quads);
                                                   ^
ide.c:57:20: note: expected ‘void *’ but argument is of type ‘unsigned int’
 static inline void insl(uint16_t port, void *addr, unsigned long count) {
                    ^
ide.c:79:51: warning: passing argument 2 of ‘insl’ makes pointer from integer without a cast
         insl(channels[channel].ctrl + reg - 0x0A, buffer, quads);
                                                   ^
ide.c:57:20: note: expected ‘void *’ but argument is of type ‘unsigned int’
 static inline void insl(uint16_t port, void *addr, unsigned long count) {
                    ^
ide.c:81:52: warning: passing argument 2 of ‘insl’ makes pointer from integer without a cast
         insl(channels[channel].bmide + reg - 0x0E, buffer, quads);
                                                    ^
ide.c:57:20: note: expected ‘void *’ but argument is of type ‘unsigned int’
 static inline void insl(uint16_t port, void *addr, unsigned long count) {
                    ^
In file included from ./include/ide.h:8:0,
                 from ide.c:5:
ide.c: In function ‘ide_initialize’:
./include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
ide.c:270:13: note: in expansion of macro ‘dprintf’
             dprintf("[%d]Drive %s size:%x channel:%x model:%s",
             ^
In file included from ide.c:6:0:
./include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/system.h:7:0,
                 from ./include/ide.h:8,
                 from ide.c:5:
./dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
./include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
ide.c:270:13: note: in expansion of macro ‘dprintf’
             dprintf("[%d]Drive %s size:%x channel:%x model:%s",
             ^
In file included from ide.c:6:0:
./include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/ide.h:8:0,
                 from ide.c:5:
ide.c: At top level:
./include/system.h:82:27: warning: inline function ‘itoa’ declared but never defined
 extern inline const char *itoa(int i, char result[]);
                           ^
./include/system.h:82:27: warning: inline function ‘itoa’ declared but never defined
ide.c:13:22: warning: ‘atapi_packet’ defined but not used [-Wunused-variable]
 unsigned static char atapi_packet[12] = {0xA8, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0};
                      ^
ide.c: In function ‘ide_read’:
ide.c:54:5: warning: ‘result’ may be used uninitialized in this function [-Wmaybe-uninitialized]
     return result;
     ^
idt.c: In function ‘idt_install’:
idt.c:27:15: warning: assignment makes integer from pointer without a cast
     idtp.base = &idt;
               ^
idt.c:30:12: warning: passing argument 1 of ‘memset’ from incompatible pointer type
     memset(&idt, 0, sizeof(struct idt_entry) * 256);
            ^
In file included from include/idt.h:8:0,
                 from idt.c:5:
include/system.h:76:23: note: expected ‘unsigned char *’ but argument is of type ‘struct idt_entry (*)[256]’
 extern unsigned char *memset(unsigned char *dest, unsigned char val, int count);
                       ^
idt.c: At top level:
include/system.h:82:27: warning: inline function ‘itoa’ declared but never defined
 extern inline const char *itoa(int i, char result[]);
                           ^
include/system.h:82:27: warning: inline function ‘itoa’ declared but never defined
In file included from include/irqs.h:8:0,
                 from irqs.c:5:
include/system.h:82:27: warning: inline function ‘itoa’ declared but never defined
 extern inline const char *itoa(int i, char result[]);
                           ^
include/system.h:82:27: warning: inline function ‘itoa’ declared but never defined
In file included from ./fs/vfs/include/vfs.h:9:0,
                 from include/proc.h:11,
                 from include/syscall.h:9,
                 from isrs.c:11:
./include/fs_node.h:19:39: warning: ‘struct fs_node’ declared inside parameter list
 typedef int32_t (*read_type_t)(struct fs_node *, __fs_special_t *fsp, uint32_t, uint32_t, uint8_t *);
                                       ^
./include/fs_node.h:19:39: warning: its scope is only this definition or declaration, which is probably not what you want
./include/fs_node.h:21:40: warning: ‘struct fs_node’ declared inside parameter list
 typedef int32_t (*write_type_t)(struct fs_node *, __fs_special_t *fsp, uint32_t, uint32_t, uint8_t *);
                                        ^
./include/fs_node.h:23:36: warning: ‘struct fs_node’ declared inside parameter list
 typedef void (*open_type_t)(struct fs_node *, __fs_special_t *fsp);
                                    ^
./include/fs_node.h:25:37: warning: ‘struct fs_node’ declared inside parameter list
 typedef void (*close_type_t)(struct fs_node *, __fs_special_t *fsp);
                                     ^
./include/fs_node.h:28:101: warning: ‘struct dirent’ declared inside parameter list
 typedef int32_t (*readdir_type_t)(struct fs_node *node, __fs_special_t *fsp, uint32_t count, struct dirent *result);
                                                                                                     ^
./include/fs_node.h:28:101: warning: ‘struct fs_node’ declared inside parameter list
./include/fs_node.h:30:95: warning: ‘struct fs_node’ declared inside parameter list
 typedef int (*finddir_type_t)(struct fs_node *, __fs_special_t *fsp, const char *name, struct fs_node *result_out);
                                                                                               ^
isrs.c: In function ‘fault_handler’:
isrs.c:23:9: warning: unused variable ‘a’ [-Wunused-variable]
     int a = 0;
         ^
In file included from ./include/page.h:8:0,
                 from isrs.c:5:
isrs.c: At top level:
./include/system.h:82:27: warning: inline function ‘itoa’ declared but never defined
 extern inline const char *itoa(int i, char result[]);
                           ^
./include/system.h:82:27: warning: inline function ‘itoa’ declared but never defined
In file included from ./fs/vfs/include/vfs.h:9:0,
                 from ./include/proc.h:11,
                 from keyboard.c:5:
./include/fs_node.h:19:39: warning: ‘struct fs_node’ declared inside parameter list
 typedef int32_t (*read_type_t)(struct fs_node *, __fs_special_t *fsp, uint32_t, uint32_t, uint8_t *);
                                       ^
./include/fs_node.h:19:39: warning: its scope is only this definition or declaration, which is probably not what you want
./include/fs_node.h:21:40: warning: ‘struct fs_node’ declared inside parameter list
 typedef int32_t (*write_type_t)(struct fs_node *, __fs_special_t *fsp, uint32_t, uint32_t, uint8_t *);
                                        ^
./include/fs_node.h:23:36: warning: ‘struct fs_node’ declared inside parameter list
 typedef void (*open_type_t)(struct fs_node *, __fs_special_t *fsp);
                                    ^
./include/fs_node.h:25:37: warning: ‘struct fs_node’ declared inside parameter list
 typedef void (*close_type_t)(struct fs_node *, __fs_special_t *fsp);
                                     ^
./include/fs_node.h:28:101: warning: ‘struct dirent’ declared inside parameter list
 typedef int32_t (*readdir_type_t)(struct fs_node *node, __fs_special_t *fsp, uint32_t count, struct dirent *result);
                                                                                                     ^
./include/fs_node.h:28:101: warning: ‘struct fs_node’ declared inside parameter list
./include/fs_node.h:30:95: warning: ‘struct fs_node’ declared inside parameter list
 typedef int (*finddir_type_t)(struct fs_node *, __fs_special_t *fsp, const char *name, struct fs_node *result_out);
                                                                                               ^
In file included from ./include/page.h:8:0,
                 from ./include/proc.h:9,
                 from keyboard.c:5:
keyboard.c: In function ‘keyboard_handler’:
./include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
keyboard.c:17:5: note: in expansion of macro ‘dprintf’
     dprintf("key down:%x", scancode);
     ^
In file included from keyboard.c:7:0:
./include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/system.h:7:0,
                 from ./include/page.h:8,
                 from ./include/proc.h:9,
                 from keyboard.c:5:
./dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
./include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
keyboard.c:17:5: note: in expansion of macro ‘dprintf’
     dprintf("key down:%x", scancode);
     ^
In file included from keyboard.c:7:0:
./include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/page.h:8:0,
                 from ./include/proc.h:9,
                 from keyboard.c:5:
keyboard.c: At top level:
./include/system.h:82:27: warning: inline function ‘itoa’ declared but never defined
 extern inline const char *itoa(int i, char result[]);
                           ^
./include/system.h:82:27: warning: inline function ‘itoa’ declared but never defined
In file included from keyboard.c:6:0:
./include/irqs.h:43:14: warning: ‘irq_routines’ defined but not used [-Wunused-variable]
 static void *irq_routines[16] = {
              ^
In file included from kmalloc.c:5:0:
kmalloc.c: In function ‘kmalloc_paging’:
./include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
kmalloc.c:26:9: note: in expansion of macro ‘dprintf’
         dprintf("allocated space:%x", r);
         ^
In file included from kmalloc.c:7:0:
./include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/system.h:7:0,
                 from kmalloc.c:5:
./dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
./include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
kmalloc.c:26:9: note: in expansion of macro ‘dprintf’
         dprintf("allocated space:%x", r);
         ^
In file included from kmalloc.c:7:0:
./include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from kmalloc.c:5:0:
./include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
kmalloc.c:29:9: note: in expansion of macro ‘dprintf’
         dprintf("heap not present.");
         ^
In file included from kmalloc.c:7:0:
./include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/system.h:7:0,
                 from kmalloc.c:5:
./dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
./include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
kmalloc.c:29:9: note: in expansion of macro ‘dprintf’
         dprintf("heap not present.");
         ^
In file included from kmalloc.c:7:0:
./include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from kmalloc.c:5:0:
kmalloc.c: In function ‘kmalloc_internal’:
kmalloc.c:36:32: warning: comparison between pointer and integer
     ASSERT(heap_placement_addr >= &end);
                                ^
./include/system.h:20:10: note: in definition of macro ‘ASSERT’
     if(!(x)){\
          ^
kmalloc.c:41:42: warning: passing argument 1 of ‘get_physical_address’ makes integer from pointer without a cast
             *phys = get_physical_address(ret);
                                          ^
In file included from kmalloc.c:6:0:
./include/page.h:93:10: note: expected ‘uint32_t’ but argument is of type ‘void *’
 uint32_t get_physical_address(uint32_t va);
          ^
kmalloc.c:43:9: warning: return makes integer from pointer without a cast
         return ret;
         ^
In file included from kmalloc.c:5:0:
kmalloc.c: In function ‘kfree’:
./include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
kmalloc.c:61:5: note: in expansion of macro ‘dprintf’
     dprintf("try to free:%x", ptr);
     ^
In file included from kmalloc.c:7:0:
./include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/system.h:7:0,
                 from kmalloc.c:5:
./dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
./include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
kmalloc.c:61:5: note: in expansion of macro ‘dprintf’
     dprintf("try to free:%x", ptr);
     ^
In file included from kmalloc.c:7:0:
./include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
kmalloc.c:62:22: warning: comparisons like ‘X<=Y<=Z’ do not have their mathematical meaning [-Wparentheses]
     if (KPHEAP_START < (uint32_t) ptr < KPHEAP_START + KPHEAP_SIZE) {
                      ^
kmalloc.c:63:34: warning: passing argument 2 of ‘pheap_free’ makes integer from pointer without a cast
         pheap_free(kernel_pheap, ptr);
                                  ^
In file included from include/kmalloc.h:10:0,
                 from kmalloc.c:9:
include/paging_heap.h:21:6: note: expected ‘uint32_t’ but argument is of type ‘void *’
 void pheap_free(paging_heap_t *heap, uint32_t pointer);
      ^
In file included from kmalloc.c:5:0:
./include/system.h:97:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
            ^
kmalloc.c:65:9: note: in expansion of macro ‘deprintf’
         deprintf("try to free a unknown[%x] memory space.", ptr);
         ^
In file included from kmalloc.c:7:0:
./include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/system.h:7:0,
                 from kmalloc.c:5:
./dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
./include/system.h:97:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
                          ^
kmalloc.c:65:9: note: in expansion of macro ‘deprintf’
         deprintf("try to free a unknown[%x] memory space.", ptr);
         ^
In file included from kmalloc.c:7:0:
./include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from kmalloc.c:5:0:
kmalloc.c: At top level:
./include/system.h:82:27: warning: inline function ‘itoa’ declared but never defined
 extern inline const char *itoa(int i, char result[]);
                           ^
./include/system.h:82:27: warning: inline function ‘itoa’ declared but never defined
In file included from fs/catmfs/include/catrfmt.h:10:0,
                 from main.c:17:
./include/fs_node.h:19:39: warning: ‘struct fs_node’ declared inside parameter list
 typedef int32_t (*read_type_t)(struct fs_node *, __fs_special_t *fsp, uint32_t, uint32_t, uint8_t *);
                                       ^
./include/fs_node.h:19:39: warning: its scope is only this definition or declaration, which is probably not what you want
./include/fs_node.h:21:40: warning: ‘struct fs_node’ declared inside parameter list
 typedef int32_t (*write_type_t)(struct fs_node *, __fs_special_t *fsp, uint32_t, uint32_t, uint8_t *);
                                        ^
./include/fs_node.h:23:36: warning: ‘struct fs_node’ declared inside parameter list
 typedef void (*open_type_t)(struct fs_node *, __fs_special_t *fsp);
                                    ^
./include/fs_node.h:25:37: warning: ‘struct fs_node’ declared inside parameter list
 typedef void (*close_type_t)(struct fs_node *, __fs_special_t *fsp);
                                     ^
./include/fs_node.h:28:101: warning: ‘struct dirent’ declared inside parameter list
 typedef int32_t (*readdir_type_t)(struct fs_node *node, __fs_special_t *fsp, uint32_t count, struct dirent *result);
                                                                                                     ^
./include/fs_node.h:28:101: warning: ‘struct fs_node’ declared inside parameter list
./include/fs_node.h:30:95: warning: ‘struct fs_node’ declared inside parameter list
 typedef int (*finddir_type_t)(struct fs_node *, __fs_special_t *fsp, const char *name, struct fs_node *result_out);
                                                                                               ^
main.c: In function ‘heap_test’:
main.c:51:5: warning: implicit declaration of function ‘create_heap’ [-Wimplicit-function-declaration]
     heap_t *heap = create_heap(KHEAP_START, KHEAP_START + KHEAP_SIZE, KHEAP_START + KHEAP_SIZE * 2, kernel_dir);
     ^
main.c:51:20: warning: initialization makes pointer from integer without a cast
     heap_t *heap = create_heap(KHEAP_START, KHEAP_START + KHEAP_SIZE, KHEAP_START + KHEAP_SIZE * 2, kernel_dir);
                    ^
In file included from ./include/system.h:4:0,
                 from ./include/isrs.h:8,
                 from main.c:1:
main.c:53:34: warning: passing argument 1 of ‘puthex’ makes integer from pointer without a cast
     dumphex("alloced mem addr:", mem);
                                  ^
./include/screen.h:29:12: note: in definition of macro ‘dumphex’
     puthex(x); \
            ^
./include/screen.h:55:6: note: expected ‘uint32_t’ but argument is of type ‘void *’
 void puthex(uint32_t n);
      ^
main.c:55:34: warning: passing argument 1 of ‘puthex’ makes integer from pointer without a cast
     dumphex("alloced mem addr:", mem2);
                                  ^
./include/screen.h:29:12: note: in definition of macro ‘dumphex’
     puthex(x); \
            ^
./include/screen.h:55:6: note: expected ‘uint32_t’ but argument is of type ‘void *’
 void puthex(uint32_t n);
      ^
main.c:57:34: warning: passing argument 1 of ‘puthex’ makes integer from pointer without a cast
     dumphex("alloced mem addr:", mem3);
                                  ^
./include/screen.h:29:12: note: in definition of macro ‘dumphex’
     puthex(x); \
            ^
./include/screen.h:55:6: note: expected ‘uint32_t’ but argument is of type ‘void *’
 void puthex(uint32_t n);
      ^
main.c:62:17: warning: passing argument 2 of ‘hfree’ makes integer from pointer without a cast
     hfree(heap, mem2);
                 ^
In file included from ./include/kmalloc.h:9:0,
                 from main.c:3:
./include/contious_heap.h:35:6: note: expected ‘uint32_t’ but argument is of type ‘void *’
 void hfree(heap_t *heap, uint32_t addr);
      ^
main.c:65:17: warning: passing argument 2 of ‘hfree’ makes integer from pointer without a cast
     hfree(heap, mem3);
                 ^
In file included from ./include/kmalloc.h:9:0,
                 from main.c:3:
./include/contious_heap.h:35:6: note: expected ‘uint32_t’ but argument is of type ‘void *’
 void hfree(heap_t *heap, uint32_t addr);
      ^
In file included from ./include/system.h:4:0,
                 from ./include/isrs.h:8,
                 from main.c:1:
main.c:69:34: warning: passing argument 1 of ‘puthex’ makes integer from pointer without a cast
     dumphex("alloced mem addr:", mem4);
                                  ^
./include/screen.h:29:12: note: in definition of macro ‘dumphex’
     puthex(x); \
            ^
./include/screen.h:55:6: note: expected ‘uint32_t’ but argument is of type ‘void *’
 void puthex(uint32_t n);
      ^
main.c:73:34: warning: passing argument 1 of ‘puthex’ makes integer from pointer without a cast
     dumphex("alloced mem addr:", mem5);
                                  ^
./include/screen.h:29:12: note: in definition of macro ‘dumphex’
     puthex(x); \
            ^
./include/screen.h:55:6: note: expected ‘uint32_t’ but argument is of type ‘void *’
 void puthex(uint32_t n);
      ^
main.c:76:17: warning: passing argument 2 of ‘hfree’ makes integer from pointer without a cast
     hfree(heap, mem4);
                 ^
In file included from ./include/kmalloc.h:9:0,
                 from main.c:3:
./include/contious_heap.h:35:6: note: expected ‘uint32_t’ but argument is of type ‘void *’
 void hfree(heap_t *heap, uint32_t addr);
      ^
main.c:79:17: warning: passing argument 2 of ‘hfree’ makes integer from pointer without a cast
     hfree(heap, mem5);
                 ^
In file included from ./include/kmalloc.h:9:0,
                 from main.c:3:
./include/contious_heap.h:35:6: note: expected ‘uint32_t’ but argument is of type ‘void *’
 void hfree(heap_t *heap, uint32_t addr);
      ^
main.c:82:17: warning: passing argument 2 of ‘hfree’ makes integer from pointer without a cast
     hfree(heap, mem);
                 ^
In file included from ./include/kmalloc.h:9:0,
                 from main.c:3:
./include/contious_heap.h:35:6: note: expected ‘uint32_t’ but argument is of type ‘void *’
 void hfree(heap_t *heap, uint32_t addr);
      ^
In file included from ./include/isrs.h:8:0,
                 from main.c:1:
main.c: In function ‘get_phy_test’:
./include/system.h:9:14: warning: passing argument 4 of ‘kmalloc_internal’ makes pointer from integer without a cast
 #define true 1
              ^
main.c:167:53: note: in expansion of macro ‘true’
     uint32_t *a = kmalloc_internal(10, false, &phy, true);
                                                     ^
In file included from main.c:3:0:
./include/kmalloc.h:23:10: note: expected ‘struct heap_t *’ but argument is of type ‘int’
 uint32_t kmalloc_internal(uint32_t sz, bool align, uint32_t *phys, heap_t *heap);
          ^
main.c:167:19: warning: initialization makes pointer from integer without a cast
     uint32_t *a = kmalloc_internal(10, false, &phy, true);
                   ^
main.c:168:47: warning: passing argument 1 of ‘get_physical_address’ makes integer from pointer without a cast
     uint32_t geted_phy = get_physical_address(a);
                                               ^
In file included from main.c:6:0:
./include/page.h:93:10: note: expected ‘uint32_t’ but argument is of type ‘uint32_t *’
 uint32_t get_physical_address(uint32_t va);
          ^
main.c:169:10: warning: large integer implicitly truncated to unsigned type [-Woverflow]
     *a = 0xFAFAFAFAF;
          ^
In file included from ./include/isrs.h:8:0,
                 from main.c:1:
main.c: In function ‘move_kernel_stack’:
./include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
main.c:283:5: note: in expansion of macro ‘dprintf’
     dprintf("kernel stack:ebp:%x esp:%x", ebp, esp);
     ^
In file included from main.c:11:0:
include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/system.h:7:0,
                 from ./include/isrs.h:8,
                 from main.c:1:
./dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
./include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
main.c:283:5: note: in expansion of macro ‘dprintf’
     dprintf("kernel stack:ebp:%x esp:%x", ebp, esp);
     ^
In file included from main.c:11:0:
include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
main.c: At top level:
main.c:288:5: warning: first argument of ‘main’ should be ‘int’ [-Wmain]
 int main(multiboot_info_t *mul_arg, uint32_t init_esp_arg) {
     ^
main.c:288:5: warning: second argument of ‘main’ should be ‘char **’ [-Wmain]
main.c: In function ‘main’:
main.c:295:12: warning: passing argument 1 of ‘memcpy’ from incompatible pointer type
     memcpy(&mul, mul_arg, sizeof(multiboot_info_t));
            ^
In file included from ./include/isrs.h:8:0,
                 from main.c:1:
./include/system.h:72:23: note: expected ‘unsigned char *’ but argument is of type ‘struct multiboot_info_t *’
 extern unsigned char *memcpy(unsigned char *dest, const unsigned char *src, int count);
                       ^
main.c:295:18: warning: passing argument 2 of ‘memcpy’ from incompatible pointer type
     memcpy(&mul, mul_arg, sizeof(multiboot_info_t));
                  ^
In file included from ./include/isrs.h:8:0,
                 from main.c:1:
./include/system.h:72:23: note: expected ‘const unsigned char *’ but argument is of type ‘struct multiboot_info_t *’
 extern unsigned char *memcpy(unsigned char *dest, const unsigned char *src, int count);
                       ^
./include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
main.c:298:5: note: in expansion of macro ‘dprintf’
     dprintf("init esp:%x", init_esp);
     ^
In file included from main.c:11:0:
include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/system.h:7:0,
                 from ./include/isrs.h:8,
                 from main.c:1:
./dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
./include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
main.c:298:5: note: in expansion of macro ‘dprintf’
     dprintf("init esp:%x", init_esp);
     ^
In file included from main.c:11:0:
include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
main.c:291:14: warning: unused variable ‘initrd_start’ [-Wunused-variable]
     uint32_t initrd_start = *((uint32_t *) mul_arg->mods_addr);
              ^
In file included from ./include/isrs.h:8:0,
                 from main.c:1:
main.c: At top level:
./include/system.h:82:27: warning: inline function ‘itoa’ declared but never defined
 extern inline const char *itoa(int i, char result[]);
                           ^
./include/system.h:82:27: warning: inline function ‘itoa’ declared but never defined
In file included from main.c:2:0:
./include/irqs.h:43:14: warning: ‘irq_routines’ defined but not used [-Wunused-variable]
 static void *irq_routines[16] = {
              ^
In file included from main.c:5:0:
./include/ide.h:14:20: warning: ‘outl’ declared ‘static’ but never defined [-Wunused-function]
 static inline void outl(uint32_t value, uint16_t port);
                    ^
./include/ide.h:16:24: warning: ‘inl’ declared ‘static’ but never defined [-Wunused-function]
 static inline uint32_t inl(uint16_t port);
                        ^
In file included from main.c:13:0:
include/keyboard.h:10:22: warning: ‘kbdus’ defined but not used [-Wunused-variable]
 static unsigned char kbdus[128] =
                      ^
main.c: In function ‘move_kernel_stack’:
main.c:286:1: warning: control reaches end of non-void function [-Wreturn-type]
 }
 ^
page.c: In function ‘move_frame’:
page.c:98:12: warning: passing argument 1 of ‘memcpy’ makes pointer from integer without a cast
     memcpy(pm_src, pm_target, 0x1000);
            ^
In file included from ./include/contious_heap.h:8:0,
                 from ./include/kmalloc.h:9,
                 from page.c:5:
./include/system.h:72:23: note: expected ‘unsigned char *’ but argument is of type ‘uint32_t’
 extern unsigned char *memcpy(unsigned char *dest, const unsigned char *src, int count);
                       ^
page.c:98:20: warning: passing argument 2 of ‘memcpy’ makes pointer from integer without a cast
     memcpy(pm_src, pm_target, 0x1000);
                    ^
In file included from ./include/contious_heap.h:8:0,
                 from ./include/kmalloc.h:9,
                 from page.c:5:
./include/system.h:72:23: note: expected ‘const unsigned char *’ but argument is of type ‘uint32_t’
 extern unsigned char *memcpy(unsigned char *dest, const unsigned char *src, int count);
                       ^
page.c:99:12: warning: passing argument 1 of ‘memset’ makes pointer from integer without a cast
     memset(pm_src, 0, 0x1000);
            ^
In file included from ./include/contious_heap.h:8:0,
                 from ./include/kmalloc.h:9,
                 from page.c:5:
./include/system.h:76:23: note: expected ‘unsigned char *’ but argument is of type ‘uint32_t’
 extern unsigned char *memset(unsigned char *dest, unsigned char val, int count);
                       ^
page.c: In function ‘paging_install’:
page.c:137:12: warning: passing argument 1 of ‘memset’ from incompatible pointer type
     memset(frame_status, 0, sizeof(uint32_t) * frame_max_count);
            ^
In file included from ./include/contious_heap.h:8:0,
                 from ./include/kmalloc.h:9,
                 from page.c:5:
./include/system.h:76:23: note: expected ‘unsigned char *’ but argument is of type ‘uint32_t *’
 extern unsigned char *memset(unsigned char *dest, unsigned char val, int count);
                       ^
page.c:139:12: warning: passing argument 1 of ‘memset’ from incompatible pointer type
     memset(kernel_dir, 0, sizeof(page_directory_t));
            ^
In file included from ./include/contious_heap.h:8:0,
                 from ./include/kmalloc.h:9,
                 from page.c:5:
./include/system.h:76:23: note: expected ‘unsigned char *’ but argument is of type ‘struct page_directory_t *’
 extern unsigned char *memset(unsigned char *dest, unsigned char val, int count);
                       ^
page.c:140:12: warning: passing argument 1 of ‘memset’ from incompatible pointer type
     memset(kernel_dir->table_physical_addr, 0, sizeof(uint32_t) * 1024);
            ^
In file included from ./include/contious_heap.h:8:0,
                 from ./include/kmalloc.h:9,
                 from page.c:5:
./include/system.h:76:23: note: expected ‘unsigned char *’ but argument is of type ‘uint32_t *’
 extern unsigned char *memset(unsigned char *dest, unsigned char val, int count);
                       ^
page.c:141:12: warning: passing argument 1 of ‘memset’ from incompatible pointer type
     memset(kernel_dir->tables, 0, sizeof(page_table_t *) * 1024);
            ^
In file included from ./include/contious_heap.h:8:0,
                 from ./include/kmalloc.h:9,
                 from page.c:5:
./include/system.h:76:23: note: expected ‘unsigned char *’ but argument is of type ‘struct page_table_t **’
 extern unsigned char *memset(unsigned char *dest, unsigned char val, int count);
                       ^
In file included from ./include/system.h:4:0,
                 from ./include/contious_heap.h:8,
                 from ./include/kmalloc.h:9,
                 from page.c:5:
page.c:144:38: warning: passing argument 1 of ‘puthex’ makes integer from pointer without a cast
     dumphex("heap placement start:", &end);
                                      ^
./include/screen.h:29:12: note: in definition of macro ‘dumphex’
     puthex(x); \
            ^
./include/screen.h:55:6: note: expected ‘uint32_t’ but argument is of type ‘uint32_t *’
 void puthex(uint32_t n);
      ^
page.c: In function ‘get_page’:
page.c:194:16: warning: passing argument 1 of ‘memset’ from incompatible pointer type
         memset(dir->tables[table_idx], 0, sizeof(page_table_t));
                ^
In file included from ./include/contious_heap.h:8:0,
                 from ./include/kmalloc.h:9,
                 from page.c:5:
./include/system.h:76:23: note: expected ‘unsigned char *’ but argument is of type ‘struct page_table_t *’
 extern unsigned char *memset(unsigned char *dest, unsigned char val, int count);
                       ^
page.c: In function ‘page_fault_handler’:
page.c:224:9: warning: unused variable ‘id’ [-Wunused-variable]
     int id = r->err_code & 0x10;          // Caused by an instruction fetch?
         ^
page.c: In function ‘clone_page_table’:
page.c:264:12: warning: passing argument 1 of ‘memset’ from incompatible pointer type
     memset(target, 0, sizeof(page_table_t));
            ^
In file included from ./include/contious_heap.h:8:0,
                 from ./include/kmalloc.h:9,
                 from page.c:5:
./include/system.h:76:23: note: expected ‘unsigned char *’ but argument is of type ‘struct page_table_t *’
 extern unsigned char *memset(unsigned char *dest, unsigned char val, int count);
                       ^
page.c: In function ‘clone_page_directory’:
page.c:285:12: warning: passing argument 1 of ‘memset’ from incompatible pointer type
     memset(target, 0, sizeof(page_directory_t));
            ^
In file included from ./include/contious_heap.h:8:0,
                 from ./include/kmalloc.h:9,
                 from page.c:5:
./include/system.h:76:23: note: expected ‘unsigned char *’ but argument is of type ‘struct page_directory_t *’
 extern unsigned char *memset(unsigned char *dest, unsigned char val, int count);
                       ^
page.c: At top level:
./include/system.h:82:27: warning: inline function ‘itoa’ declared but never defined
 extern inline const char *itoa(int i, char result[]);
                           ^
./include/system.h:82:27: warning: inline function ‘itoa’ declared but never defined
In file included from page.c:7:0:
./include/irqs.h:43:14: warning: ‘irq_routines’ defined but not used [-Wunused-variable]
 static void *irq_routines[16] = {
              ^
In file included from paging_heap.c:6:0:
paging_heap.c: In function ‘pheap_create’:
./include/kmalloc.h:25:21: warning: initialization makes pointer from integer without a cast
 #define kmalloc(sz) kmalloc_internal(sz,false,NULL,kernel_heap)
                     ^
paging_heap.c:9:27: note: in expansion of macro ‘kmalloc’
     paging_heap_t *heap = kmalloc(sizeof(paging_heap_t));
                           ^
paging_heap.c:10:5: warning: implicit declaration of function ‘strformat’ [-Wimplicit-function-declaration]
     if (start_addr & 0xFFF || size & 0xFFF) PANIC("start_addr and size must be page align.")
     ^
paging_heap.c:15:12: warning: passing argument 1 of ‘memset’ makes pointer from integer without a cast
     memset(start_addr, 0, 0x1000);
            ^
In file included from ./include/paging_heap.h:9:0,
                 from paging_heap.c:5:
./include/system.h:76:23: note: expected ‘unsigned char *’ but argument is of type ‘uint32_t’
 extern unsigned char *memset(unsigned char *dest, unsigned char val, int count);
                       ^
paging_heap.c: In function ‘pheap_alloc’:
paging_heap.c:66:5: warning: return makes pointer from integer without a cast
     return result;
     ^
paging_heap.c: In function ‘pheap_free’:
paging_heap.c:78:26: warning: initialization makes pointer from integer without a cast
     uint8_t *endbitptr = heap->start_addr + 0x800;
                          ^
In file included from ./include/paging_heap.h:9:0,
                 from paging_heap.c:5:
paging_heap.c: At top level:
./include/system.h:82:27: warning: inline function ‘itoa’ declared but never defined
 extern inline const char *itoa(int i, char result[]);
                           ^
./include/system.h:82:27: warning: inline function ‘itoa’ declared but never defined
In file included from ./fs/vfs/include/vfs.h:9:0,
                 from ./include/proc.h:11,
                 from proc.c:6:
./include/fs_node.h:19:39: warning: ‘struct fs_node’ declared inside parameter list
 typedef int32_t (*read_type_t)(struct fs_node *, __fs_special_t *fsp, uint32_t, uint32_t, uint8_t *);
                                       ^
./include/fs_node.h:19:39: warning: its scope is only this definition or declaration, which is probably not what you want
./include/fs_node.h:21:40: warning: ‘struct fs_node’ declared inside parameter list
 typedef int32_t (*write_type_t)(struct fs_node *, __fs_special_t *fsp, uint32_t, uint32_t, uint8_t *);
                                        ^
./include/fs_node.h:23:36: warning: ‘struct fs_node’ declared inside parameter list
 typedef void (*open_type_t)(struct fs_node *, __fs_special_t *fsp);
                                    ^
./include/fs_node.h:25:37: warning: ‘struct fs_node’ declared inside parameter list
 typedef void (*close_type_t)(struct fs_node *, __fs_special_t *fsp);
                                     ^
./include/fs_node.h:28:101: warning: ‘struct dirent’ declared inside parameter list
 typedef int32_t (*readdir_type_t)(struct fs_node *node, __fs_special_t *fsp, uint32_t count, struct dirent *result);
                                                                                                     ^
./include/fs_node.h:28:101: warning: ‘struct fs_node’ declared inside parameter list
./include/fs_node.h:30:95: warning: ‘struct fs_node’ declared inside parameter list
 typedef int (*finddir_type_t)(struct fs_node *, __fs_special_t *fsp, const char *name, struct fs_node *result_out);
                                                                                               ^
proc.c: In function ‘create_first_proc’:
proc.c:40:12: warning: passing argument 1 of ‘memcpy’ from incompatible pointer type
     memcpy(&init_pcb->tss, &tss_entry, sizeof(tss_entry_t));
            ^
In file included from ./include/str.h:9:0,
                 from proc.c:5:
./include/system.h:72:23: note: expected ‘unsigned char *’ but argument is of type ‘struct tss_entry_t *’
 extern unsigned char *memcpy(unsigned char *dest, const unsigned char *src, int count);
                       ^
proc.c:40:28: warning: passing argument 2 of ‘memcpy’ from incompatible pointer type
     memcpy(&init_pcb->tss, &tss_entry, sizeof(tss_entry_t));
                            ^
In file included from ./include/str.h:9:0,
                 from proc.c:5:
./include/system.h:72:23: note: expected ‘const unsigned char *’ but argument is of type ‘struct tss_entry_t *’
 extern unsigned char *memcpy(unsigned char *dest, const unsigned char *src, int count);
                       ^
proc.c: In function ‘proc_install’:
proc.c:46:12: warning: passing argument 1 of ‘memset’ from incompatible pointer type
     memset(processes, 0, sizeof(pcb_t) * MAX_PROC_COUNT);
            ^
In file included from ./include/str.h:9:0,
                 from proc.c:5:
./include/system.h:76:23: note: expected ‘unsigned char *’ but argument is of type ‘struct pcb_t *’
 extern unsigned char *memset(unsigned char *dest, unsigned char val, int count);
                       ^
proc.c:48:12: warning: passing argument 1 of ‘memset’ from incompatible pointer type
     memset(proc_avali_queue, 0, 0x1000);
            ^
In file included from ./include/str.h:9:0,
                 from proc.c:5:
./include/system.h:76:23: note: expected ‘unsigned char *’ but argument is of type ‘struct proc_queue_t *’
 extern unsigned char *memset(unsigned char *dest, unsigned char val, int count);
                       ^
proc.c:50:12: warning: passing argument 1 of ‘memset’ from incompatible pointer type
     memset(proc_ready_queue, 0, 0x1000);
            ^
In file included from ./include/str.h:9:0,
                 from proc.c:5:
./include/system.h:76:23: note: expected ‘unsigned char *’ but argument is of type ‘struct proc_queue_t *’
 extern unsigned char *memset(unsigned char *dest, unsigned char val, int count);
                       ^
proc.c:52:12: warning: passing argument 1 of ‘memset’ from incompatible pointer type
     memset(proc_died_queue, 0, 0x1000);
            ^
In file included from ./include/str.h:9:0,
                 from proc.c:5:
./include/system.h:76:23: note: expected ‘unsigned char *’ but argument is of type ‘struct proc_queue_t *’
 extern unsigned char *memset(unsigned char *dest, unsigned char val, int count);
                       ^
proc.c: In function ‘fork’:
proc.c:209:12: warning: passing argument 1 of ‘memcpy’ from incompatible pointer type
     memcpy(tss, &fpcb->tss, sizeof(tss_entry_t));
            ^
In file included from ./include/str.h:9:0,
                 from proc.c:5:
./include/system.h:72:23: note: expected ‘unsigned char *’ but argument is of type ‘struct tss_entry_t *’
 extern unsigned char *memcpy(unsigned char *dest, const unsigned char *src, int count);
                       ^
proc.c:209:17: warning: passing argument 2 of ‘memcpy’ from incompatible pointer type
     memcpy(tss, &fpcb->tss, sizeof(tss_entry_t));
                 ^
In file included from ./include/str.h:9:0,
                 from proc.c:5:
./include/system.h:72:23: note: expected ‘const unsigned char *’ but argument is of type ‘struct tss_entry_t *’
 extern unsigned char *memcpy(unsigned char *dest, const unsigned char *src, int count);
                       ^
proc.c:243:12: warning: passing argument 1 of ‘memset’ makes pointer from integer without a cast
     memset(cpcb->reserved_page, 0, 0x1000);
            ^
In file included from ./include/str.h:9:0,
                 from proc.c:5:
./include/system.h:76:23: note: expected ‘unsigned char *’ but argument is of type ‘uint32_t’
 extern unsigned char *memset(unsigned char *dest, unsigned char val, int count);
                       ^
proc.c: In function ‘copy_current_stack’:
./include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
proc.c:260:5: note: in expansion of macro ‘dprintf’
     dprintf("creating user stack:%x %x", start_addr, size);
     ^
In file included from proc.c:5:0:
./include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/system.h:7:0,
                 from ./include/str.h:9,
                 from proc.c:5:
./dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
./include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
proc.c:260:5: note: in expansion of macro ‘dprintf’
     dprintf("creating user stack:%x %x", start_addr, size);
     ^
In file included from proc.c:5:0:
./include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/str.h:9:0,
                 from proc.c:5:
./include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
proc.c:268:9: note: in expansion of macro ‘dprintf’
         dprintf("[%x]page addr:%x dir:%x", start_addr - x, page, dir);
         ^
In file included from proc.c:5:0:
./include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/system.h:7:0,
                 from ./include/str.h:9,
                 from proc.c:5:
./dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
./include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
proc.c:268:9: note: in expansion of macro ‘dprintf’
         dprintf("[%x]page addr:%x dir:%x", start_addr - x, page, dir);
         ^
In file included from proc.c:5:0:
./include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/str.h:9:0,
                 from proc.c:5:
./include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
proc.c:273:5: note: in expansion of macro ‘dprintf’
     dprintf("A[%x][%x][%x]B", old_base_pointer, old_stack_pointer, offset);
     ^
In file included from proc.c:5:0:
./include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/system.h:7:0,
                 from ./include/str.h:9,
                 from proc.c:5:
./dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
./include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
proc.c:273:5: note: in expansion of macro ‘dprintf’
     dprintf("A[%x][%x][%x]B", old_base_pointer, old_stack_pointer, offset);
     ^
In file included from proc.c:5:0:
./include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/str.h:9:0,
                 from proc.c:5:
./include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
proc.c:276:5: note: in expansion of macro ‘dprintf’
     dprintf("copy %x to %x size:%x", old_stack_pointer, new_stack_pointer, start_esp - old_stack_pointer);
     ^
In file included from proc.c:5:0:
./include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/system.h:7:0,
                 from ./include/str.h:9,
                 from proc.c:5:
./dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
./include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
proc.c:276:5: note: in expansion of macro ‘dprintf’
     dprintf("copy %x to %x size:%x", old_stack_pointer, new_stack_pointer, start_esp - old_stack_pointer);
     ^
In file included from proc.c:5:0:
./include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
proc.c:277:19: warning: initialization makes pointer from integer without a cast
     uint32_t *p = new_stack_pointer;
                   ^
proc.c:278:12: warning: passing argument 1 of ‘memcpy’ makes pointer from integer without a cast
     memcpy(new_stack_pointer, old_stack_pointer, start_esp - old_stack_pointer);
            ^
In file included from ./include/str.h:9:0,
                 from proc.c:5:
./include/system.h:72:23: note: expected ‘unsigned char *’ but argument is of type ‘uint32_t’
 extern unsigned char *memcpy(unsigned char *dest, const unsigned char *src, int count);
                       ^
proc.c:278:31: warning: passing argument 2 of ‘memcpy’ makes pointer from integer without a cast
     memcpy(new_stack_pointer, old_stack_pointer, start_esp - old_stack_pointer);
                               ^
In file included from ./include/str.h:9:0,
                 from proc.c:5:
./include/system.h:72:23: note: expected ‘const unsigned char *’ but argument is of type ‘uint32_t’
 extern unsigned char *memcpy(unsigned char *dest, const unsigned char *src, int count);
                       ^
./include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
proc.c:279:5: note: in expansion of macro ‘dprintf’
     dprintf("copy done.");
     ^
In file included from proc.c:5:0:
./include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/system.h:7:0,
                 from ./include/str.h:9,
                 from proc.c:5:
./dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
./include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
proc.c:279:5: note: in expansion of macro ‘dprintf’
     dprintf("copy done.");
     ^
In file included from proc.c:5:0:
./include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/str.h:9:0,
                 from proc.c:5:
./include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
proc.c:297:5: note: in expansion of macro ‘dprintf’
     dprintf("all done.now ret.");
     ^
In file included from proc.c:5:0:
./include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/system.h:7:0,
                 from ./include/str.h:9,
                 from proc.c:5:
./dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
./include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
proc.c:297:5: note: in expansion of macro ‘dprintf’
     dprintf("all done.now ret.");
     ^
In file included from proc.c:5:0:
./include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
proc.c:277:15: warning: unused variable ‘p’ [-Wunused-variable]
     uint32_t *p = new_stack_pointer;
               ^
In file included from ./include/str.h:9:0,
                 from proc.c:5:
proc.c: At top level:
./include/system.h:82:27: warning: inline function ‘itoa’ declared but never defined
 extern inline const char *itoa(int i, char result[]);
                           ^
./include/system.h:82:27: warning: inline function ‘itoa’ declared but never defined
proc.c: Assembler messages:
proc.c:184: Warning: indirect ljmp without `*'
In file included from ./fs/vfs/include/vfs.h:9:0,
                 from ./include/proc.h:11,
                 from schedule.c:7:
./include/fs_node.h:19:39: warning: ‘struct fs_node’ declared inside parameter list
 typedef int32_t (*read_type_t)(struct fs_node *, __fs_special_t *fsp, uint32_t, uint32_t, uint8_t *);
                                       ^
./include/fs_node.h:19:39: warning: its scope is only this definition or declaration, which is probably not what you want
./include/fs_node.h:21:40: warning: ‘struct fs_node’ declared inside parameter list
 typedef int32_t (*write_type_t)(struct fs_node *, __fs_special_t *fsp, uint32_t, uint32_t, uint8_t *);
                                        ^
./include/fs_node.h:23:36: warning: ‘struct fs_node’ declared inside parameter list
 typedef void (*open_type_t)(struct fs_node *, __fs_special_t *fsp);
                                    ^
./include/fs_node.h:25:37: warning: ‘struct fs_node’ declared inside parameter list
 typedef void (*close_type_t)(struct fs_node *, __fs_special_t *fsp);
                                     ^
./include/fs_node.h:28:101: warning: ‘struct dirent’ declared inside parameter list
 typedef int32_t (*readdir_type_t)(struct fs_node *node, __fs_special_t *fsp, uint32_t count, struct dirent *result);
                                                                                                     ^
./include/fs_node.h:28:101: warning: ‘struct fs_node’ declared inside parameter list
./include/fs_node.h:30:95: warning: ‘struct fs_node’ declared inside parameter list
 typedef int (*finddir_type_t)(struct fs_node *, __fs_special_t *fsp, const char *name, struct fs_node *result_out);
                                                                                               ^
In file included from schedule.c:5:0:
schedule.c: In function ‘do_schedule’:
./include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
schedule.c:15:5: note: in expansion of macro ‘dprintf’
     dprintf("sch routine\n");
     ^
In file included from schedule.c:6:0:
./include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/system.h:7:0,
                 from schedule.c:5:
./dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
./include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
schedule.c:15:5: note: in expansion of macro ‘dprintf’
     dprintf("sch routine\n");
     ^
In file included from schedule.c:6:0:
./include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
schedule.c:13:17: warning: unused variable ‘proc_ready’ [-Wunused-variable]
     extern bool proc_ready;
                 ^
In file included from schedule.c:5:0:
schedule.c: At top level:
./include/system.h:82:27: warning: inline function ‘itoa’ declared but never defined
 extern inline const char *itoa(int i, char result[]);
                           ^
./include/system.h:82:27: warning: inline function ‘itoa’ declared but never defined
screen.c: In function ‘putc’:
screen.c:56:13: warning: implicit declaration of function ‘scroll’ [-Wimplicit-function-declaration]
             scroll();
             ^
In file included from ./include/system.h:4:0,
                 from ./include/contious_heap.h:8,
                 from ./include/kmalloc.h:9,
                 from screen.c:4:
screen.c: In function ‘screenClear’:
./include/screen.h:10:28: warning: passing argument 1 of ‘memset’ makes pointer from integer without a cast
 #define SCREEN_MEMORY_BASE 0xB8000
                            ^
screen.c:96:12: note: in expansion of macro ‘SCREEN_MEMORY_BASE’
     memset(SCREEN_MEMORY_BASE, 0, SCREEN_MAX_Y * SCREEN_MAX_X * 2);
            ^
In file included from ./include/contious_heap.h:8:0,
                 from ./include/kmalloc.h:9,
                 from screen.c:4:
./include/system.h:76:23: note: expected ‘unsigned char *’ but argument is of type ‘int’
 extern unsigned char *memset(unsigned char *dest, unsigned char val, int count);
                       ^
screen.c: At top level:
screen.c:165:13: warning: conflicting types for ‘scroll’
 inline void scroll() {
             ^
screen.c:56:13: note: previous implicit declaration of ‘scroll’ was here
             scroll();
             ^
screen.c: In function ‘scroll’:
screen.c:170:16: warning: passing argument 1 of ‘memset’ makes pointer from integer without a cast
         memset((SCREEN_MEMORY_BASE + ((SCREEN_MAX_Y - 1) * SCREEN_MAX_X) * 2), 0, SCREEN_MAX_X * 2);
                ^
In file included from ./include/contious_heap.h:8:0,
                 from ./include/kmalloc.h:9,
                 from screen.c:4:
./include/system.h:76:23: note: expected ‘unsigned char *’ but argument is of type ‘int’
 extern unsigned char *memset(unsigned char *dest, unsigned char val, int count);
                       ^
screen.c: At top level:
./include/system.h:82:27: warning: inline function ‘itoa’ declared but never defined
 extern inline const char *itoa(int i, char result[]);
                           ^
./include/system.h:82:27: warning: inline function ‘itoa’ declared but never defined
In file included from include/str.h:9:0,
                 from str.c:5:
include/system.h:82:27: warning: inline function ‘itoa’ declared but never defined
 extern inline const char *itoa(int i, char result[]);
                           ^
include/system.h:82:27: warning: inline function ‘itoa’ declared but never defined
str.c: In function ‘itohexs’:
str.c:138:1: warning: control reaches end of non-void function [-Wreturn-type]
 }
 ^
str.c: In function ‘strformat’:
str.c:186:1: warning: control reaches end of non-void function [-Wreturn-type]
 }
 ^
str.c: In function ‘strformatw’:
str.c:234:1: warning: control reaches end of non-void function [-Wreturn-type]
 }
 ^
In file included from ./fs/vfs/include/vfs.h:9:0,
                 from include/proc.h:11,
                 from syscall.c:6:
./include/fs_node.h:19:39: warning: ‘struct fs_node’ declared inside parameter list
 typedef int32_t (*read_type_t)(struct fs_node *, __fs_special_t *fsp, uint32_t, uint32_t, uint8_t *);
                                       ^
./include/fs_node.h:19:39: warning: its scope is only this definition or declaration, which is probably not what you want
./include/fs_node.h:21:40: warning: ‘struct fs_node’ declared inside parameter list
 typedef int32_t (*write_type_t)(struct fs_node *, __fs_special_t *fsp, uint32_t, uint32_t, uint8_t *);
                                        ^
./include/fs_node.h:23:36: warning: ‘struct fs_node’ declared inside parameter list
 typedef void (*open_type_t)(struct fs_node *, __fs_special_t *fsp);
                                    ^
./include/fs_node.h:25:37: warning: ‘struct fs_node’ declared inside parameter list
 typedef void (*close_type_t)(struct fs_node *, __fs_special_t *fsp);
                                     ^
./include/fs_node.h:28:101: warning: ‘struct dirent’ declared inside parameter list
 typedef int32_t (*readdir_type_t)(struct fs_node *node, __fs_special_t *fsp, uint32_t count, struct dirent *result);
                                                                                                     ^
./include/fs_node.h:28:101: warning: ‘struct fs_node’ declared inside parameter list
./include/fs_node.h:30:95: warning: ‘struct fs_node’ declared inside parameter list
 typedef int (*finddir_type_t)(struct fs_node *, __fs_special_t *fsp, const char *name, struct fs_node *result_out);
                                                                                               ^
syscall.c:37:9: warning: initialization makes integer from pointer without a cast
         &helloworld,
         ^
syscall.c:37:9: warning: (near initialization for ‘syscalls_table[0]’)
syscall.c:38:9: warning: initialization makes integer from pointer without a cast
         &screen_print,
         ^
syscall.c:38:9: warning: (near initialization for ‘syscalls_table[1]’)
syscall.c:39:9: warning: initialization makes integer from pointer without a cast
         &delay,
         ^
syscall.c:39:9: warning: (near initialization for ‘syscalls_table[2]’)
syscall.c:40:9: warning: initialization makes integer from pointer without a cast
         &fork_s,
         ^
syscall.c:40:9: warning: (near initialization for ‘syscalls_table[3]’)
syscall.c:41:9: warning: initialization makes integer from pointer without a cast
         &getpid,
         ^
syscall.c:41:9: warning: (near initialization for ‘syscalls_table[4]’)
syscall.c:42:9: warning: initialization makes integer from pointer without a cast
         &hello_switcher,
         ^
syscall.c:42:9: warning: (near initialization for ‘syscalls_table[5]’)
syscall.c:44:1: warning: initialization makes integer from pointer without a cast
 };
 ^
syscall.c:44:1: warning: (near initialization for ‘syscalls_table[6]’)
syscall.c: In function ‘syscall_handler’:
syscall.c:75:25: warning: initialization makes pointer from integer without a cast
     syscall_fun_t fun = syscalls_table[r->eax];
                         ^
In file included from ./include/str.h:9:0,
                 from syscall.c:4:
syscall.c: At top level:
./include/system.h:82:27: warning: inline function ‘itoa’ declared but never defined
 extern inline const char *itoa(int i, char result[]);
                           ^
./include/system.h:82:27: warning: inline function ‘itoa’ declared but never defined
syscall.c: In function ‘hello_switcher’:
syscall.c:34:1: warning: control reaches end of non-void function [-Wreturn-type]
 }
 ^
system.c: In function ‘itoa’:
system.c:71:20: warning: pointer targets in passing argument 1 of ‘memcpy’ differ in signedness [-Wpointer-sign]
             memcpy(result, &result[x], x + 1);
                    ^
system.c:5:16: note: expected ‘unsigned char *’ but argument is of type ‘char *’
 unsigned char *memcpy(unsigned char *dest, const unsigned char *src, int count) {
                ^
system.c:71:28: warning: pointer targets in passing argument 2 of ‘memcpy’ differ in signedness [-Wpointer-sign]
             memcpy(result, &result[x], x + 1);
                            ^
system.c:5:16: note: expected ‘const unsigned char *’ but argument is of type ‘char *’
 unsigned char *memcpy(unsigned char *dest, const unsigned char *src, int count) {
                ^
system.c: In function ‘memcpy’:
system.c:9:1: warning: control reaches end of non-void function [-Wreturn-type]
 }
 ^
system.c: In function ‘dmemcpy’:
system.c:16:1: warning: control reaches end of non-void function [-Wreturn-type]
 }
 ^
system.c: In function ‘get_eip’:
system.c:82:1: warning: control reaches end of non-void function [-Wreturn-type]
 }
 ^
system.c: Assembler messages:
system.c:79: Warning: indirect jmp without `*'
In file included from ./include/str.h:9:0,
                 from timer.c:5:
./include/system.h:82:27: warning: inline function ‘itoa’ declared but never defined
 extern inline const char *itoa(int i, char result[]);
                           ^
./include/system.h:82:27: warning: inline function ‘itoa’ declared but never defined
In file included from timer.c:8:0:
include/irqs.h:43:14: warning: ‘irq_routines’ defined but not used [-Wunused-variable]
 static void *irq_routines[16] = {
              ^
tss.c: In function ‘write_tss’:
tss.c:20:12: warning: passing argument 1 of ‘memset’ from incompatible pointer type
     memset(&tss_entry, 0, sizeof(tss_entry));
            ^
In file included from ./include/gdt.h:8:0,
                 from ./include/tss.h:9,
                 from tss.c:5:
./include/system.h:76:23: note: expected ‘unsigned char *’ but argument is of type ‘struct tss_entry_t *’
 extern unsigned char *memset(unsigned char *dest, unsigned char val, int count);
                       ^
tss.c: At top level:
./include/system.h:82:27: warning: inline function ‘itoa’ declared but never defined
 extern inline const char *itoa(int i, char result[]);
                           ^
./include/system.h:82:27: warning: inline function ‘itoa’ declared but never defined
In file included from ./dev/include/serial.h:9:0,
                 from dev/serial.c:6:
./include/system.h:82:27: warning: inline function ‘itoa’ declared but never defined
 extern inline const char *itoa(int i, char result[]);
                           ^
./include/system.h:82:27: warning: inline function ‘itoa’ declared but never defined
In file included from fs/catmfs/include/catrfmt.h:10:0,
                 from fs/catmfs/catrfmt.c:5:
./include/fs_node.h:19:39: warning: ‘struct fs_node’ declared inside parameter list
 typedef int32_t (*read_type_t)(struct fs_node *, __fs_special_t *fsp, uint32_t, uint32_t, uint8_t *);
                                       ^
./include/fs_node.h:19:39: warning: its scope is only this definition or declaration, which is probably not what you want
./include/fs_node.h:21:40: warning: ‘struct fs_node’ declared inside parameter list
 typedef int32_t (*write_type_t)(struct fs_node *, __fs_special_t *fsp, uint32_t, uint32_t, uint8_t *);
                                        ^
./include/fs_node.h:23:36: warning: ‘struct fs_node’ declared inside parameter list
 typedef void (*open_type_t)(struct fs_node *, __fs_special_t *fsp);
                                    ^
./include/fs_node.h:25:37: warning: ‘struct fs_node’ declared inside parameter list
 typedef void (*close_type_t)(struct fs_node *, __fs_special_t *fsp);
                                     ^
./include/fs_node.h:28:101: warning: ‘struct dirent’ declared inside parameter list
 typedef int32_t (*readdir_type_t)(struct fs_node *node, __fs_special_t *fsp, uint32_t count, struct dirent *result);
                                                                                                     ^
./include/fs_node.h:28:101: warning: ‘struct fs_node’ declared inside parameter list
./include/fs_node.h:30:95: warning: ‘struct fs_node’ declared inside parameter list
 typedef int (*finddir_type_t)(struct fs_node *, __fs_special_t *fsp, const char *name, struct fs_node *result_out);
                                                                                               ^
In file included from ./include/system.h:4:0,
                 from fs/catmfs/include/catrfmt.h:8,
                 from fs/catmfs/catrfmt.c:5:
fs/catmfs/catrfmt.c: In function ‘catrfmt_init’:
fs/catmfs/catrfmt.c:13:26: warning: passing argument 1 of ‘puthex’ makes integer from pointer without a cast
     dumphex("fsheader:", fs->header);
                          ^
./include/screen.h:29:12: note: in definition of macro ‘dumphex’
     puthex(x); \
            ^
./include/screen.h:55:6: note: expected ‘uint32_t’ but argument is of type ‘struct catrfmt_raw_header_t *’
 void puthex(uint32_t n);
      ^
fs/catmfs/catrfmt.c:28:30: warning: passing argument 1 of ‘puthex’ makes integer from pointer without a cast
     dumphex("data magic a:", data_magic_a);
                              ^
./include/screen.h:29:12: note: in definition of macro ‘dumphex’
     puthex(x); \
            ^
./include/screen.h:55:6: note: expected ‘uint32_t’ but argument is of type ‘uint32_t *’
 void puthex(uint32_t n);
      ^
fs/catmfs/catrfmt.c: In function ‘catrfmt_read_inner’:
fs/catmfs/catrfmt.c:47:40: warning: passing argument 2 of ‘memcpy’ makes pointer from integer without a cast
         return (uint32_t) memcpy(buff, saddr, fs_obj->length - offset);
                                        ^
In file included from fs/catmfs/include/catrfmt.h:8:0,
                 from fs/catmfs/catrfmt.c:5:
./include/system.h:72:23: note: expected ‘const unsigned char *’ but argument is of type ‘uint32_t’
 extern unsigned char *memcpy(unsigned char *dest, const unsigned char *src, int count);
                       ^
fs/catmfs/catrfmt.c:49:40: warning: passing argument 2 of ‘memcpy’ makes pointer from integer without a cast
         return (uint32_t) memcpy(buff, saddr, size);
                                        ^
In file included from fs/catmfs/include/catrfmt.h:8:0,
                 from fs/catmfs/catrfmt.c:5:
./include/system.h:72:23: note: expected ‘const unsigned char *’ but argument is of type ‘uint32_t’
 extern unsigned char *memcpy(unsigned char *dest, const unsigned char *src, int count);
                       ^
fs/catmfs/catrfmt.c: In function ‘catrfmt_create_fs_node’:
fs/catmfs/catrfmt.c:64:12: warning: passing argument 1 of ‘memset’ from incompatible pointer type
     memset(node, 0, sizeof(fs_node_t));
            ^
In file included from fs/catmfs/include/catrfmt.h:8:0,
                 from fs/catmfs/catrfmt.c:5:
./include/system.h:76:23: note: expected ‘unsigned char *’ but argument is of type ‘struct fs_node_t *’
 extern unsigned char *memset(unsigned char *dest, unsigned char val, int count);
                       ^
fs/catmfs/catrfmt.c:65:12: warning: pointer targets in passing argument 1 of ‘memcpy’ differ in signedness [-Wpointer-sign]
     memcpy(node->name, fs_obj->name, 256);
            ^
In file included from fs/catmfs/include/catrfmt.h:8:0,
                 from fs/catmfs/catrfmt.c:5:
./include/system.h:72:23: note: expected ‘unsigned char *’ but argument is of type ‘char *’
 extern unsigned char *memcpy(unsigned char *dest, const unsigned char *src, int count);
                       ^
fs/catmfs/catrfmt.c:65:24: warning: pointer targets in passing argument 2 of ‘memcpy’ differ in signedness [-Wpointer-sign]
     memcpy(node->name, fs_obj->name, 256);
                        ^
In file included from fs/catmfs/include/catrfmt.h:8:0,
                 from fs/catmfs/catrfmt.c:5:
./include/system.h:72:23: note: expected ‘const unsigned char *’ but argument is of type ‘char *’
 extern unsigned char *memcpy(unsigned char *dest, const unsigned char *src, int count);
                       ^
fs/catmfs/catrfmt.c: In function ‘catrfmt_findbyname’:
fs/catmfs/catrfmt.c:79:55: warning: passing argument 1 of ‘catrfmt_create_fs_node’ from incompatible pointer type
                 *fs_node_out = catrfmt_create_fs_node(table->objects[x].name);
                                                       ^
fs/catmfs/catrfmt.c:57:12: note: expected ‘struct catrfmt_obj_t *’ but argument is of type ‘char *’
 fs_node_t *catrfmt_create_fs_node(catrfmt_obj_t *fs_obj) {
            ^
In file included from fs/catmfs/include/catrfmt.h:8:0,
                 from fs/catmfs/catrfmt.c:5:
fs/catmfs/catrfmt.c: At top level:
./include/system.h:82:27: warning: inline function ‘itoa’ declared but never defined
 extern inline const char *itoa(int i, char result[]);
                           ^
./include/system.h:82:27: warning: inline function ‘itoa’ declared but never defined
In file included from ./fs/catmfs/include/catmfs.h:8:0,
                 from fs/catmfs/catmfs.c:7:
./include/fs_node.h:19:39: warning: ‘struct fs_node’ declared inside parameter list
 typedef int32_t (*read_type_t)(struct fs_node *, __fs_special_t *fsp, uint32_t, uint32_t, uint8_t *);
                                       ^
./include/fs_node.h:19:39: warning: its scope is only this definition or declaration, which is probably not what you want
./include/fs_node.h:21:40: warning: ‘struct fs_node’ declared inside parameter list
 typedef int32_t (*write_type_t)(struct fs_node *, __fs_special_t *fsp, uint32_t, uint32_t, uint8_t *);
                                        ^
./include/fs_node.h:23:36: warning: ‘struct fs_node’ declared inside parameter list
 typedef void (*open_type_t)(struct fs_node *, __fs_special_t *fsp);
                                    ^
./include/fs_node.h:25:37: warning: ‘struct fs_node’ declared inside parameter list
 typedef void (*close_type_t)(struct fs_node *, __fs_special_t *fsp);
                                     ^
./include/fs_node.h:28:101: warning: ‘struct dirent’ declared inside parameter list
 typedef int32_t (*readdir_type_t)(struct fs_node *node, __fs_special_t *fsp, uint32_t count, struct dirent *result);
                                                                                                     ^
./include/fs_node.h:28:101: warning: ‘struct fs_node’ declared inside parameter list
./include/fs_node.h:30:95: warning: ‘struct fs_node’ declared inside parameter list
 typedef int (*finddir_type_t)(struct fs_node *, __fs_special_t *fsp, const char *name, struct fs_node *result_out);
                                                                                               ^
In file included from ./include/contious_heap.h:8:0,
                 from ./include/kmalloc.h:9,
                 from fs/catmfs/catmfs.c:6:
fs/catmfs/catmfs.c: In function ‘catmfs_alloc_inode’:
./include/system.h:97:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
            ^
fs/catmfs/catmfs.c:20:21: note: in expansion of macro ‘deprintf’
     if (inode == 0) deprintf("Out of memory!");
                     ^
In file included from fs/catmfs/catmfs.c:8:0:
./include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/system.h:7:0,
                 from ./include/contious_heap.h:8,
                 from ./include/kmalloc.h:9,
                 from fs/catmfs/catmfs.c:6:
./dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
./include/system.h:97:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
                          ^
fs/catmfs/catmfs.c:20:21: note: in expansion of macro ‘deprintf’
     if (inode == 0) deprintf("Out of memory!");
                     ^
In file included from fs/catmfs/catmfs.c:8:0:
./include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
fs/catmfs/catmfs.c:21:12: warning: passing argument 1 of ‘memset’ from incompatible pointer type
     memset(inode, 0, 0x1000);
            ^
In file included from ./include/contious_heap.h:8:0,
                 from ./include/kmalloc.h:9,
                 from fs/catmfs/catmfs.c:6:
./include/system.h:76:23: note: expected ‘unsigned char *’ but argument is of type ‘struct catmfs_inode_t *’
 extern unsigned char *memset(unsigned char *dest, unsigned char val, int count);
                       ^
fs/catmfs/catmfs.c: In function ‘catmfs_fs_node_make’:
./include/system.h:97:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
            ^
fs/catmfs/catmfs.c:30:9: note: in expansion of macro ‘deprintf’
         deprintf("not a catmfs node[%x].", inode->magic);
         ^
In file included from fs/catmfs/catmfs.c:8:0:
./include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/system.h:7:0,
                 from ./include/contious_heap.h:8,
                 from ./include/kmalloc.h:9,
                 from fs/catmfs/catmfs.c:6:
./dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
./include/system.h:97:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
                          ^
fs/catmfs/catmfs.c:30:9: note: in expansion of macro ‘deprintf’
         deprintf("not a catmfs node[%x].", inode->magic);
         ^
In file included from fs/catmfs/catmfs.c:8:0:
./include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/contious_heap.h:8:0,
                 from ./include/kmalloc.h:9,
                 from fs/catmfs/catmfs.c:6:
./include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
fs/catmfs/catmfs.c:42:13: note: in expansion of macro ‘dprintf’
             dprintf("offset:%x name:%s", dir, name);
             ^
In file included from fs/catmfs/catmfs.c:8:0:
./include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/system.h:7:0,
                 from ./include/contious_heap.h:8,
                 from ./include/kmalloc.h:9,
                 from fs/catmfs/catmfs.c:6:
./dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
./include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
fs/catmfs/catmfs.c:42:13: note: in expansion of macro ‘dprintf’
             dprintf("offset:%x name:%s", dir, name);
             ^
In file included from fs/catmfs/catmfs.c:8:0:
./include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
fs/catmfs/catmfs.c:46:24: warning: assignment makes integer from pointer without a cast
             dir->inode = ninode;
                        ^
fs/catmfs/catmfs.c:50:20: warning: pointer targets in passing argument 1 of ‘memcpy’ differ in signedness [-Wpointer-sign]
             memcpy(np, name, len);
                    ^
In file included from ./include/contious_heap.h:8:0,
                 from ./include/kmalloc.h:9,
                 from fs/catmfs/catmfs.c:6:
./include/system.h:72:23: note: expected ‘unsigned char *’ but argument is of type ‘char *’
 extern unsigned char *memcpy(unsigned char *dest, const unsigned char *src, int count);
                       ^
fs/catmfs/catmfs.c:50:24: warning: pointer targets in passing argument 2 of ‘memcpy’ differ in signedness [-Wpointer-sign]
             memcpy(np, name, len);
                        ^
In file included from ./include/contious_heap.h:8:0,
                 from ./include/kmalloc.h:9,
                 from fs/catmfs/catmfs.c:6:
./include/system.h:72:23: note: expected ‘const unsigned char *’ but argument is of type ‘char *’
 extern unsigned char *memcpy(unsigned char *dest, const unsigned char *src, int count);
                       ^
./include/system.h:97:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
            ^
fs/catmfs/catmfs.c:56:13: note: in expansion of macro ‘deprintf’
             deprintf("Out of space.last:[%x]", raw);
             ^
In file included from fs/catmfs/catmfs.c:8:0:
./include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/system.h:7:0,
                 from ./include/contious_heap.h:8,
                 from ./include/kmalloc.h:9,
                 from fs/catmfs/catmfs.c:6:
./dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
./include/system.h:97:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
                          ^
fs/catmfs/catmfs.c:56:13: note: in expansion of macro ‘deprintf’
             deprintf("Out of space.last:[%x]", raw);
             ^
In file included from fs/catmfs/catmfs.c:8:0:
./include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
fs/catmfs/catmfs.c:28:23: warning: unused variable ‘fsp’ [-Wunused-variable]
     catmfs_special_t *fsp = fsp_;
                       ^
In file included from ./include/contious_heap.h:8:0,
                 from ./include/kmalloc.h:9,
                 from fs/catmfs/catmfs.c:6:
fs/catmfs/catmfs.c: In function ‘catmfs_fs_node_readdir’:
./include/system.h:97:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
            ^
fs/catmfs/catmfs.c:66:9: note: in expansion of macro ‘deprintf’
         deprintf("not a catmfs node[%x].", inode->magic);
         ^
In file included from fs/catmfs/catmfs.c:8:0:
./include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/system.h:7:0,
                 from ./include/contious_heap.h:8,
                 from ./include/kmalloc.h:9,
                 from fs/catmfs/catmfs.c:6:
./dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
./include/system.h:97:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
                          ^
fs/catmfs/catmfs.c:66:9: note: in expansion of macro ‘deprintf’
         deprintf("not a catmfs node[%x].", inode->magic);
         ^
In file included from fs/catmfs/catmfs.c:8:0:
./include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/contious_heap.h:8:0,
                 from ./include/kmalloc.h:9,
                 from fs/catmfs/catmfs.c:6:
./include/system.h:97:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
            ^
fs/catmfs/catmfs.c:76:13: note: in expansion of macro ‘deprintf’
             deprintf("Bad namelen:%x", dir->name_len);
             ^
In file included from fs/catmfs/catmfs.c:8:0:
./include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/system.h:7:0,
                 from ./include/contious_heap.h:8,
                 from ./include/kmalloc.h:9,
                 from fs/catmfs/catmfs.c:6:
./dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
./include/system.h:97:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
                          ^
fs/catmfs/catmfs.c:76:13: note: in expansion of macro ‘deprintf’
             deprintf("Bad namelen:%x", dir->name_len);
             ^
In file included from fs/catmfs/catmfs.c:8:0:
./include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
fs/catmfs/catmfs.c:80:16: warning: pointer targets in passing argument 1 of ‘memcpy’ differ in signedness [-Wpointer-sign]
         memcpy(result[x].name, np, dir->name_len);
                ^
In file included from ./include/contious_heap.h:8:0,
                 from ./include/kmalloc.h:9,
                 from fs/catmfs/catmfs.c:6:
./include/system.h:72:23: note: expected ‘unsigned char *’ but argument is of type ‘char *’
 extern unsigned char *memcpy(unsigned char *dest, const unsigned char *src, int count);
                       ^
fs/catmfs/catmfs.c:80:32: warning: pointer targets in passing argument 2 of ‘memcpy’ differ in signedness [-Wpointer-sign]
         memcpy(result[x].name, np, dir->name_len);
                                ^
In file included from ./include/contious_heap.h:8:0,
                 from ./include/kmalloc.h:9,
                 from fs/catmfs/catmfs.c:6:
./include/system.h:72:23: note: expected ‘const unsigned char *’ but argument is of type ‘char *’
 extern unsigned char *memcpy(unsigned char *dest, const unsigned char *src, int count);
                       ^
fs/catmfs/catmfs.c:64:23: warning: unused variable ‘fsp’ [-Wunused-variable]
     catmfs_special_t *fsp = fsp_;
                       ^
In file included from ./include/contious_heap.h:8:0,
                 from ./include/kmalloc.h:9,
                 from fs/catmfs/catmfs.c:6:
fs/catmfs/catmfs.c: In function ‘catmfs_fs_node_finddir’:
./include/system.h:97:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
            ^
fs/catmfs/catmfs.c:98:9: note: in expansion of macro ‘deprintf’
         deprintf("not a catmfs node[%x].", inode->magic);
         ^
In file included from fs/catmfs/catmfs.c:8:0:
./include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/system.h:7:0,
                 from ./include/contious_heap.h:8,
                 from ./include/kmalloc.h:9,
                 from fs/catmfs/catmfs.c:6:
./dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
./include/system.h:97:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
                          ^
fs/catmfs/catmfs.c:98:9: note: in expansion of macro ‘deprintf’
         deprintf("not a catmfs node[%x].", inode->magic);
         ^
In file included from fs/catmfs/catmfs.c:8:0:
./include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/contious_heap.h:8:0,
                 from ./include/kmalloc.h:9,
                 from fs/catmfs/catmfs.c:6:
./include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
fs/catmfs/catmfs.c:108:13: note: in expansion of macro ‘dprintf’
             dprintf("Bad namelen:%x", dir->name_len);
             ^
In file included from fs/catmfs/catmfs.c:8:0:
./include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/system.h:7:0,
                 from ./include/contious_heap.h:8,
                 from ./include/kmalloc.h:9,
                 from fs/catmfs/catmfs.c:6:
./dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
./include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
fs/catmfs/catmfs.c:108:13: note: in expansion of macro ‘dprintf’
             dprintf("Bad namelen:%x", dir->name_len);
             ^
In file included from fs/catmfs/catmfs.c:8:0:
./include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
fs/catmfs/catmfs.c:112:16: warning: pointer targets in passing argument 1 of ‘memcpy’ differ in signedness [-Wpointer-sign]
         memcpy(sname, np, dir->name_len);
                ^
In file included from ./include/contious_heap.h:8:0,
                 from ./include/kmalloc.h:9,
                 from fs/catmfs/catmfs.c:6:
./include/system.h:72:23: note: expected ‘unsigned char *’ but argument is of type ‘char *’
 extern unsigned char *memcpy(unsigned char *dest, const unsigned char *src, int count);
                       ^
fs/catmfs/catmfs.c:112:23: warning: pointer targets in passing argument 2 of ‘memcpy’ differ in signedness [-Wpointer-sign]
         memcpy(sname, np, dir->name_len);
                       ^
In file included from ./include/contious_heap.h:8:0,
                 from ./include/kmalloc.h:9,
                 from fs/catmfs/catmfs.c:6:
./include/system.h:72:23: note: expected ‘const unsigned char *’ but argument is of type ‘char *’
 extern unsigned char *memcpy(unsigned char *dest, const unsigned char *src, int count);
                       ^
fs/catmfs/catmfs.c:116:13: warning: implicit declaration of function ‘catmfs_get_fs_node’ [-Wimplicit-function-declaration]
             catmfs_get_fs_node(dir->inode, result_out);
             ^
In file included from ./include/contious_heap.h:8:0,
                 from ./include/kmalloc.h:9,
                 from fs/catmfs/catmfs.c:6:
fs/catmfs/catmfs.c: In function ‘catmfs_get_fs_node’:
./include/system.h:97:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
            ^
fs/catmfs/catmfs.c:130:9: note: in expansion of macro ‘deprintf’
         deprintf("not a catmfs node[%x].", inode->magic);
         ^
In file included from fs/catmfs/catmfs.c:8:0:
./include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/system.h:7:0,
                 from ./include/contious_heap.h:8,
                 from ./include/kmalloc.h:9,
                 from fs/catmfs/catmfs.c:6:
./dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
./include/system.h:97:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
                          ^
fs/catmfs/catmfs.c:130:9: note: in expansion of macro ‘deprintf’
         deprintf("not a catmfs node[%x].", inode->magic);
         ^
In file included from fs/catmfs/catmfs.c:8:0:
./include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/contious_heap.h:8:0,
                 from ./include/kmalloc.h:9,
                 from fs/catmfs/catmfs.c:6:
fs/catmfs/catmfs.c: In function ‘catmfs_fs_node_read’:
./include/system.h:97:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
            ^
fs/catmfs/catmfs.c:165:13: note: in expansion of macro ‘deprintf’
             deprintf("bad catmfs block:%x", dblk);
             ^
In file included from fs/catmfs/catmfs.c:8:0:
./include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/system.h:7:0,
                 from ./include/contious_heap.h:8,
                 from ./include/kmalloc.h:9,
                 from fs/catmfs/catmfs.c:6:
./dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
./include/system.h:97:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
                          ^
fs/catmfs/catmfs.c:165:13: note: in expansion of macro ‘deprintf’
             deprintf("bad catmfs block:%x", dblk);
             ^
In file included from fs/catmfs/catmfs.c:8:0:
./include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/contious_heap.h:8:0,
                 from ./include/kmalloc.h:9,
                 from fs/catmfs/catmfs.c:6:
fs/catmfs/catmfs.c: In function ‘catmfs_fs_node_write’:
./include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
fs/catmfs/catmfs.c:192:5: note: in expansion of macro ‘dprintf’
     dprintf("inode:%x begin:%x", inode, raw);
     ^
In file included from fs/catmfs/catmfs.c:8:0:
./include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/system.h:7:0,
                 from ./include/contious_heap.h:8,
                 from ./include/kmalloc.h:9,
                 from fs/catmfs/catmfs.c:6:
./dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
./include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
fs/catmfs/catmfs.c:192:5: note: in expansion of macro ‘dprintf’
     dprintf("inode:%x begin:%x", inode, raw);
     ^
In file included from fs/catmfs/catmfs.c:8:0:
./include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/contious_heap.h:8:0,
                 from ./include/kmalloc.h:9,
                 from fs/catmfs/catmfs.c:6:
./include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
fs/catmfs/catmfs.c:195:9: note: in expansion of macro ‘dprintf’
         dprintf("write %x-%x to fblk[%x]", off, off + s, &raw[offset]);
         ^
In file included from fs/catmfs/catmfs.c:8:0:
./include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/system.h:7:0,
                 from ./include/contious_heap.h:8,
                 from ./include/kmalloc.h:9,
                 from fs/catmfs/catmfs.c:6:
./dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
./include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
fs/catmfs/catmfs.c:195:9: note: in expansion of macro ‘dprintf’
         dprintf("write %x-%x to fblk[%x]", off, off + s, &raw[offset]);
         ^
In file included from fs/catmfs/catmfs.c:8:0:
./include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/contious_heap.h:8:0,
                 from ./include/kmalloc.h:9,
                 from fs/catmfs/catmfs.c:6:
./include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
fs/catmfs/catmfs.c:203:9: note: in expansion of macro ‘dprintf’
         dprintf("[%x]allocated new sblk:%x", inode, inode->singly_block);
         ^
In file included from fs/catmfs/catmfs.c:8:0:
./include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/system.h:7:0,
                 from ./include/contious_heap.h:8,
                 from ./include/kmalloc.h:9,
                 from fs/catmfs/catmfs.c:6:
./dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
./include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
fs/catmfs/catmfs.c:203:9: note: in expansion of macro ‘dprintf’
         dprintf("[%x]allocated new sblk:%x", inode, inode->singly_block);
         ^
In file included from fs/catmfs/catmfs.c:8:0:
./include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/contious_heap.h:8:0,
                 from ./include/kmalloc.h:9,
                 from fs/catmfs/catmfs.c:6:
./include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
fs/catmfs/catmfs.c:215:13: note: in expansion of macro ‘dprintf’
             dprintf("[%x]allocated new datablk for %x:%x", inode, blkno, dblk);
             ^
In file included from fs/catmfs/catmfs.c:8:0:
./include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/system.h:7:0,
                 from ./include/contious_heap.h:8,
                 from ./include/kmalloc.h:9,
                 from fs/catmfs/catmfs.c:6:
./dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
./include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
fs/catmfs/catmfs.c:215:13: note: in expansion of macro ‘dprintf’
             dprintf("[%x]allocated new datablk for %x:%x", inode, blkno, dblk);
             ^
In file included from fs/catmfs/catmfs.c:8:0:
./include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/contious_heap.h:8:0,
                 from ./include/kmalloc.h:9,
                 from fs/catmfs/catmfs.c:6:
./include/system.h:97:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
            ^
fs/catmfs/catmfs.c:218:13: note: in expansion of macro ‘deprintf’
             deprintf("bad catmfs block:%x", dblk);
             ^
In file included from fs/catmfs/catmfs.c:8:0:
./include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/system.h:7:0,
                 from ./include/contious_heap.h:8,
                 from ./include/kmalloc.h:9,
                 from fs/catmfs/catmfs.c:6:
./dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
./include/system.h:97:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
                          ^
fs/catmfs/catmfs.c:218:13: note: in expansion of macro ‘deprintf’
             deprintf("bad catmfs block:%x", dblk);
             ^
In file included from fs/catmfs/catmfs.c:8:0:
./include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/contious_heap.h:8:0,
                 from ./include/kmalloc.h:9,
                 from fs/catmfs/catmfs.c:6:
./include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
fs/catmfs/catmfs.c:228:9: note: in expansion of macro ‘dprintf’
         dprintf("write %x-%x to pblk[no:%x][%x]", off, off + s, blkno, braw);
         ^
In file included from fs/catmfs/catmfs.c:8:0:
./include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/system.h:7:0,
                 from ./include/contious_heap.h:8,
                 from ./include/kmalloc.h:9,
                 from fs/catmfs/catmfs.c:6:
./dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
./include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
fs/catmfs/catmfs.c:228:9: note: in expansion of macro ‘dprintf’
         dprintf("write %x-%x to pblk[no:%x][%x]", off, off + s, blkno, braw);
         ^
In file included from fs/catmfs/catmfs.c:8:0:
./include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/contious_heap.h:8:0,
                 from ./include/kmalloc.h:9,
                 from fs/catmfs/catmfs.c:6:
fs/catmfs/catmfs.c: In function ‘catmfs_fs_node_rm’:
./include/system.h:97:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
            ^
fs/catmfs/catmfs.c:243:9: note: in expansion of macro ‘deprintf’
         deprintf("cannot remove a not empty dir:%x child_c:%x", inode, inode->reserved);
         ^
In file included from fs/catmfs/catmfs.c:8:0:
./include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/system.h:7:0,
                 from ./include/contious_heap.h:8,
                 from ./include/kmalloc.h:9,
                 from fs/catmfs/catmfs.c:6:
./dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
./include/system.h:97:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
                          ^
fs/catmfs/catmfs.c:243:9: note: in expansion of macro ‘deprintf’
         deprintf("cannot remove a not empty dir:%x child_c:%x", inode, inode->reserved);
         ^
In file included from fs/catmfs/catmfs.c:8:0:
./include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/contious_heap.h:8:0,
                 from ./include/kmalloc.h:9,
                 from fs/catmfs/catmfs.c:6:
./include/system.h:97:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
            ^
fs/catmfs/catmfs.c:255:17: note: in expansion of macro ‘deprintf’
                 deprintf("Bad namelen:%x", dir->name_len);
                 ^
In file included from fs/catmfs/catmfs.c:8:0:
./include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/system.h:7:0,
                 from ./include/contious_heap.h:8,
                 from ./include/kmalloc.h:9,
                 from fs/catmfs/catmfs.c:6:
./dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
./include/system.h:97:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
                          ^
fs/catmfs/catmfs.c:255:17: note: in expansion of macro ‘deprintf’
                 deprintf("Bad namelen:%x", dir->name_len);
                 ^
In file included from fs/catmfs/catmfs.c:8:0:
./include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/contious_heap.h:8:0,
                 from ./include/kmalloc.h:9,
                 from fs/catmfs/catmfs.c:6:
./include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
fs/catmfs/catmfs.c:259:17: note: in expansion of macro ‘dprintf’
                 dprintf("found in finode %x addr:%x", inode->finode, dir);
                 ^
In file included from fs/catmfs/catmfs.c:8:0:
./include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/system.h:7:0,
                 from ./include/contious_heap.h:8,
                 from ./include/kmalloc.h:9,
                 from fs/catmfs/catmfs.c:6:
./dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
./include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
fs/catmfs/catmfs.c:259:17: note: in expansion of macro ‘dprintf’
                 dprintf("found in finode %x addr:%x", inode->finode, dir);
                 ^
In file included from fs/catmfs/catmfs.c:8:0:
./include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/contious_heap.h:8:0,
                 from ./include/kmalloc.h:9,
                 from fs/catmfs/catmfs.c:6:
./include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
fs/catmfs/catmfs.c:262:17: note: in expansion of macro ‘dprintf’
                 dprintf("cpy %x to %x size %x", next, dir, fsp->page_size - (next - (uint32_t) inode->finode));
                 ^
In file included from fs/catmfs/catmfs.c:8:0:
./include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/system.h:7:0,
                 from ./include/contious_heap.h:8,
                 from ./include/kmalloc.h:9,
                 from fs/catmfs/catmfs.c:6:
./dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
./include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
fs/catmfs/catmfs.c:262:17: note: in expansion of macro ‘dprintf’
                 dprintf("cpy %x to %x size %x", next, dir, fsp->page_size - (next - (uint32_t) inode->finode));
                 ^
In file included from fs/catmfs/catmfs.c:8:0:
./include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
fs/catmfs/catmfs.c:263:24: warning: passing argument 1 of ‘memcpy’ makes pointer from integer without a cast
                 memcpy((uint32_t) dir, next, fsp->page_size - (next - (uint32_t) inode->finode));
                        ^
In file included from ./include/contious_heap.h:8:0,
                 from ./include/kmalloc.h:9,
                 from fs/catmfs/catmfs.c:6:
./include/system.h:72:23: note: expected ‘unsigned char *’ but argument is of type ‘long unsigned int’
 extern unsigned char *memcpy(unsigned char *dest, const unsigned char *src, int count);
                       ^
fs/catmfs/catmfs.c:263:40: warning: passing argument 2 of ‘memcpy’ makes pointer from integer without a cast
                 memcpy((uint32_t) dir, next, fsp->page_size - (next - (uint32_t) inode->finode));
                                        ^
In file included from ./include/contious_heap.h:8:0,
                 from ./include/kmalloc.h:9,
                 from fs/catmfs/catmfs.c:6:
./include/system.h:72:23: note: expected ‘const unsigned char *’ but argument is of type ‘uint32_t’
 extern unsigned char *memcpy(unsigned char *dest, const unsigned char *src, int count);
                       ^
./include/system.h:97:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
            ^
fs/catmfs/catmfs.c:272:13: note: in expansion of macro ‘deprintf’
             deprintf("%x is not in father inode %x", inode, inode->finode);
             ^
In file included from fs/catmfs/catmfs.c:8:0:
./include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/system.h:7:0,
                 from ./include/contious_heap.h:8,
                 from ./include/kmalloc.h:9,
                 from fs/catmfs/catmfs.c:6:
./dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
./include/system.h:97:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
                          ^
fs/catmfs/catmfs.c:272:13: note: in expansion of macro ‘deprintf’
             deprintf("%x is not in father inode %x", inode, inode->finode);
             ^
In file included from fs/catmfs/catmfs.c:8:0:
./include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/contious_heap.h:8:0,
                 from ./include/kmalloc.h:9,
                 from fs/catmfs/catmfs.c:6:
./include/system.h:97:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
            ^
fs/catmfs/catmfs.c:274:9: note: in expansion of macro ‘deprintf’
         deprintf("cannot remove root inode:%x,use umount(//TODO) instead.", inode);
         ^
In file included from fs/catmfs/catmfs.c:8:0:
./include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/system.h:7:0,
                 from ./include/contious_heap.h:8,
                 from ./include/kmalloc.h:9,
                 from fs/catmfs/catmfs.c:6:
./dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
./include/system.h:97:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
                          ^
fs/catmfs/catmfs.c:274:9: note: in expansion of macro ‘deprintf’
         deprintf("cannot remove root inode:%x,use umount(//TODO) instead.", inode);
         ^
In file included from fs/catmfs/catmfs.c:8:0:
./include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
fs/catmfs/catmfs.c:284:19: warning: passing argument 1 of ‘kfree’ makes pointer from integer without a cast
             kfree(*blk);
                   ^
In file included from fs/catmfs/catmfs.c:6:0:
./include/kmalloc.h:19:6: note: expected ‘void *’ but argument is of type ‘uint32_t’
 void kfree(void *ptr);
      ^
fs/catmfs/catmfs.c:288:15: warning: passing argument 1 of ‘kfree’ makes pointer from integer without a cast
         kfree(inode->singly_block);
               ^
In file included from fs/catmfs/catmfs.c:6:0:
./include/kmalloc.h:19:6: note: expected ‘void *’ but argument is of type ‘uint32_t’
 void kfree(void *ptr);
      ^
In file included from ./include/contious_heap.h:8:0,
                 from ./include/kmalloc.h:9,
                 from fs/catmfs/catmfs.c:6:
./include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
fs/catmfs/catmfs.c:293:5: note: in expansion of macro ‘dprintf’
     dprintf("rm done.free %x blks", blkc);
     ^
In file included from fs/catmfs/catmfs.c:8:0:
./include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/system.h:7:0,
                 from ./include/contious_heap.h:8,
                 from ./include/kmalloc.h:9,
                 from fs/catmfs/catmfs.c:6:
./dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
./include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
fs/catmfs/catmfs.c:293:5: note: in expansion of macro ‘dprintf’
     dprintf("rm done.free %x blks", blkc);
     ^
In file included from fs/catmfs/catmfs.c:8:0:
./include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
fs/catmfs/catmfs.c: In function ‘catmfs_create_fstype’:
fs/catmfs/catmfs.c:316:12: warning: passing argument 1 of ‘memset’ from incompatible pointer type
     memset(&catmfs, 0, sizeof(fs_t));
            ^
In file included from ./include/contious_heap.h:8:0,
                 from ./include/kmalloc.h:9,
                 from fs/catmfs/catmfs.c:6:
./include/system.h:76:23: note: expected ‘unsigned char *’ but argument is of type ‘struct fs_t *’
 extern unsigned char *memset(unsigned char *dest, unsigned char val, int count);
                       ^
fs/catmfs/catmfs.c:319:20: warning: assignment from incompatible pointer type
     catmfs.readdir = catmfs_fs_node_readdir;
                    ^
fs/catmfs/catmfs.c:321:20: warning: assignment from incompatible pointer type
     catmfs.finddir = catmfs_fs_node_finddir;
                    ^
fs/catmfs/catmfs.c:322:17: warning: assignment from incompatible pointer type
     catmfs.read = catmfs_fs_node_read;
                 ^
fs/catmfs/catmfs.c:323:18: warning: assignment from incompatible pointer type
     catmfs.write = catmfs_fs_node_write;
                  ^
In file included from ./include/contious_heap.h:8:0,
                 from ./include/kmalloc.h:9,
                 from fs/catmfs/catmfs.c:6:
fs/catmfs/catmfs.c: At top level:
./include/system.h:82:27: warning: inline function ‘itoa’ declared but never defined
 extern inline const char *itoa(int i, char result[]);
                           ^
./include/system.h:82:27: warning: inline function ‘itoa’ declared but never defined
fs/catmfs/catmfs.c: In function ‘catmfs_get_fs_node’:
fs/catmfs/catmfs.c:139:1: warning: control reaches end of non-void function [-Wreturn-type]
 }
 ^
In file included from ./fs/ext2/include/ext2.h:8:0,
                 from fs/ext2/ext2.c:5:
./include/fs_node.h:19:39: warning: ‘struct fs_node’ declared inside parameter list
 typedef int32_t (*read_type_t)(struct fs_node *, __fs_special_t *fsp, uint32_t, uint32_t, uint8_t *);
                                       ^
./include/fs_node.h:19:39: warning: its scope is only this definition or declaration, which is probably not what you want
./include/fs_node.h:21:40: warning: ‘struct fs_node’ declared inside parameter list
 typedef int32_t (*write_type_t)(struct fs_node *, __fs_special_t *fsp, uint32_t, uint32_t, uint8_t *);
                                        ^
./include/fs_node.h:23:36: warning: ‘struct fs_node’ declared inside parameter list
 typedef void (*open_type_t)(struct fs_node *, __fs_special_t *fsp);
                                    ^
./include/fs_node.h:25:37: warning: ‘struct fs_node’ declared inside parameter list
 typedef void (*close_type_t)(struct fs_node *, __fs_special_t *fsp);
                                     ^
./include/fs_node.h:28:101: warning: ‘struct dirent’ declared inside parameter list
 typedef int32_t (*readdir_type_t)(struct fs_node *node, __fs_special_t *fsp, uint32_t count, struct dirent *result);
                                                                                                     ^
./include/fs_node.h:28:101: warning: ‘struct fs_node’ declared inside parameter list
./include/fs_node.h:30:95: warning: ‘struct fs_node’ declared inside parameter list
 typedef int (*finddir_type_t)(struct fs_node *, __fs_special_t *fsp, const char *name, struct fs_node *result_out);
                                                                                               ^
In file included from ./include/str.h:9:0,
                 from fs/ext2/ext2.c:4:
fs/ext2/ext2.c: In function ‘ata_section_read’:
./include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
fs/ext2/ext2.c:31:9: note: in expansion of macro ‘dprintf’
         dprintf("copy %x to %x size %x", buff + (blk_count) * SECTION_SIZE, buff, len % SECTION_SIZE);
         ^
In file included from fs/ext2/ext2.c:4:0:
./include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/system.h:7:0,
                 from ./include/str.h:9,
                 from fs/ext2/ext2.c:4:
./dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
./include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
fs/ext2/ext2.c:31:9: note: in expansion of macro ‘dprintf’
         dprintf("copy %x to %x size %x", buff + (blk_count) * SECTION_SIZE, buff, len % SECTION_SIZE);
         ^
In file included from fs/ext2/ext2.c:4:0:
./include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/str.h:9:0,
                 from fs/ext2/ext2.c:4:
fs/ext2/ext2.c: In function ‘ext2_read_block’:
./include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
fs/ext2/ext2.c:55:5: note: in expansion of macro ‘dprintf’
     dprintf("[%x:%x] ==> [%x]", base, offset, buff);
     ^
In file included from fs/ext2/ext2.c:4:0:
./include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/system.h:7:0,
                 from ./include/str.h:9,
                 from fs/ext2/ext2.c:4:
./dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
./include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
fs/ext2/ext2.c:55:5: note: in expansion of macro ‘dprintf’
     dprintf("[%x:%x] ==> [%x]", base, offset, buff);
     ^
In file included from fs/ext2/ext2.c:4:0:
./include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/str.h:9:0,
                 from fs/ext2/ext2.c:4:
fs/ext2/ext2.c: In function ‘ext2_write_block’:
./include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
fs/ext2/ext2.c:62:5: note: in expansion of macro ‘dprintf’
     dprintf("[%x:%x] <== [%x]", base, offset, buff);
     ^
In file included from fs/ext2/ext2.c:4:0:
./include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/system.h:7:0,
                 from ./include/str.h:9,
                 from fs/ext2/ext2.c:4:
./dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
./include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
fs/ext2/ext2.c:62:5: note: in expansion of macro ‘dprintf’
     dprintf("[%x:%x] <== [%x]", base, offset, buff);
     ^
In file included from fs/ext2/ext2.c:4:0:
./include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
fs/ext2/ext2.c: In function ‘ext2_get_inode_block’:
fs/ext2/ext2.c:74:9: warning: initialization makes integer from pointer without a cast
         TODO;//Alloc a table
         ^
fs/ext2/ext2.c:74:9: warning: (near initialization for ‘(anonymous)[0]’)
fs/ext2/ext2.c: In function ‘ext2_find_inote’:
fs/ext2/ext2.c:107:12: warning: passing argument 1 of ‘memcpy’ from incompatible pointer type
     memcpy(inode_out, inode, sizeof(ext2_inode_t));
            ^
In file included from ./include/str.h:9:0,
                 from fs/ext2/ext2.c:4:
./include/system.h:72:23: note: expected ‘unsigned char *’ but argument is of type ‘struct ext2_inode_t *’
 extern unsigned char *memcpy(unsigned char *dest, const unsigned char *src, int count);
                       ^
fs/ext2/ext2.c:107:23: warning: passing argument 2 of ‘memcpy’ from incompatible pointer type
     memcpy(inode_out, inode, sizeof(ext2_inode_t));
                       ^
In file included from ./include/str.h:9:0,
                 from fs/ext2/ext2.c:4:
./include/system.h:72:23: note: expected ‘const unsigned char *’ but argument is of type ‘struct ext2_inode_t *’
 extern unsigned char *memcpy(unsigned char *dest, const unsigned char *src, int count);
                       ^
./include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
fs/ext2/ext2.c:108:5: note: in expansion of macro ‘dprintf’
     dprintf("inode[%x][%x][%x][%x]", inode_id, off + off_les, off_les, inode);
     ^
In file included from fs/ext2/ext2.c:4:0:
./include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/system.h:7:0,
                 from ./include/str.h:9,
                 from fs/ext2/ext2.c:4:
./dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
./include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
fs/ext2/ext2.c:108:5: note: in expansion of macro ‘dprintf’
     dprintf("inode[%x][%x][%x][%x]", inode_id, off + off_les, off_les, inode);
     ^
In file included from fs/ext2/ext2.c:4:0:
./include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/str.h:9:0,
                 from fs/ext2/ext2.c:4:
fs/ext2/ext2.c: In function ‘ext2_dir_iterator_next’:
./include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
fs/ext2/ext2.c:124:9: note: in expansion of macro ‘dprintf’
         dprintf("switch block:%x/%x [%x][%x]", iter->next_block_id, EXT2_NDIR_BLOCKS,
         ^
In file included from fs/ext2/ext2.c:4:0:
./include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/system.h:7:0,
                 from ./include/str.h:9,
                 from fs/ext2/ext2.c:4:
./dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
./include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
fs/ext2/ext2.c:124:9: note: in expansion of macro ‘dprintf’
         dprintf("switch block:%x/%x [%x][%x]", iter->next_block_id, EXT2_NDIR_BLOCKS,
         ^
In file included from fs/ext2/ext2.c:4:0:
./include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/str.h:9:0,
                 from fs/ext2/ext2.c:4:
fs/ext2/ext2.c: In function ‘ext2_dir_iterator_exit’:
./include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
fs/ext2/ext2.c:143:5: note: in expansion of macro ‘dprintf’
     dprintf("free blk:%x", iter->block);
     ^
In file included from fs/ext2/ext2.c:4:0:
./include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/system.h:7:0,
                 from ./include/str.h:9,
                 from fs/ext2/ext2.c:4:
./dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
./include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
fs/ext2/ext2.c:143:5: note: in expansion of macro ‘dprintf’
     dprintf("free blk:%x", iter->block);
     ^
In file included from fs/ext2/ext2.c:4:0:
./include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
fs/ext2/ext2.c: In function ‘ext2_update_sblk_and_bg’:
fs/ext2/ext2.c:151:76: warning: passing argument 3 of ‘fs->dev->write’ from incompatible pointer type
     int err = fs->dev->write(EXT2_SUPER_BLK_OFFSET, sizeof(fs->super_blk), &fs->super_blk);
                                                                            ^
fs/ext2/ext2.c:151:76: note: expected ‘unsigned char *’ but argument is of type ‘struct ext2_super_block_t *’
fs/ext2/ext2.c:153:103: warning: passing argument 3 of ‘fs->dev->write’ from incompatible pointer type
     return fs->dev->write(EXT2_BLOCK_GROUP_OFFSET, sizeof(ext2_group_desc_t) * fs->block_group_count, fs->block_group);
                                                                                                       ^
fs/ext2/ext2.c:153:103: note: expected ‘unsigned char *’ but argument is of type ‘struct ext2_group_desc_t *’
In file included from ./include/str.h:9:0,
                 from fs/ext2/ext2.c:4:
fs/ext2/ext2.c: In function ‘ext2_alloc_inodeid’:
./include/system.h:97:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
            ^
fs/ext2/ext2.c:159:9: note: in expansion of macro ‘deprintf’
         deprintf("[-] out of inode!");
         ^
In file included from fs/ext2/ext2.c:4:0:
./include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/system.h:7:0,
                 from ./include/str.h:9,
                 from fs/ext2/ext2.c:4:
./dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
./include/system.h:97:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
                          ^
fs/ext2/ext2.c:159:9: note: in expansion of macro ‘deprintf’
         deprintf("[-] out of inode!");
         ^
In file included from fs/ext2/ext2.c:4:0:
./include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/str.h:9:0,
                 from fs/ext2/ext2.c:4:
./include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
fs/ext2/ext2.c:171:21: note: in expansion of macro ‘dprintf’
                     dprintf("[+][%x] found empty inode:%x", bitmap, *new_inode_id);
                     ^
In file included from fs/ext2/ext2.c:4:0:
./include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/system.h:7:0,
                 from ./include/str.h:9,
                 from fs/ext2/ext2.c:4:
./dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
./include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
fs/ext2/ext2.c:171:21: note: in expansion of macro ‘dprintf’
                     dprintf("[+][%x] found empty inode:%x", bitmap, *new_inode_id);
                     ^
In file included from fs/ext2/ext2.c:4:0:
./include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/str.h:9:0,
                 from fs/ext2/ext2.c:4:
fs/ext2/ext2.c: In function ‘ext2_alloc_block’:
./include/system.h:97:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
            ^
fs/ext2/ext2.c:192:9: note: in expansion of macro ‘deprintf’
         deprintf("[-] out of block!");
         ^
In file included from fs/ext2/ext2.c:4:0:
./include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/system.h:7:0,
                 from ./include/str.h:9,
                 from fs/ext2/ext2.c:4:
./dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
./include/system.h:97:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
                          ^
fs/ext2/ext2.c:192:9: note: in expansion of macro ‘deprintf’
         deprintf("[-] out of block!");
         ^
In file included from fs/ext2/ext2.c:4:0:
./include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/str.h:9:0,
                 from fs/ext2/ext2.c:4:
./include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
fs/ext2/ext2.c:197:13: note: in expansion of macro ‘dprintf’
             dprintf("[search:%x]", x);
             ^
In file included from fs/ext2/ext2.c:4:0:
./include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/system.h:7:0,
                 from ./include/str.h:9,
                 from fs/ext2/ext2.c:4:
./dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
./include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
fs/ext2/ext2.c:197:13: note: in expansion of macro ‘dprintf’
             dprintf("[search:%x]", x);
             ^
In file included from fs/ext2/ext2.c:4:0:
./include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/str.h:9:0,
                 from fs/ext2/ext2.c:4:
./include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
fs/ext2/ext2.c:203:21: note: in expansion of macro ‘dprintf’
                     dprintf("[+][%x] found empty block:=%x", bitmap, y);
                     ^
In file included from fs/ext2/ext2.c:4:0:
./include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/system.h:7:0,
                 from ./include/str.h:9,
                 from fs/ext2/ext2.c:4:
./dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
./include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
fs/ext2/ext2.c:203:21: note: in expansion of macro ‘dprintf’
                     dprintf("[+][%x] found empty block:=%x", bitmap, y);
                     ^
In file included from fs/ext2/ext2.c:4:0:
./include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/str.h:9:0,
                 from fs/ext2/ext2.c:4:
./include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
fs/ext2/ext2.c:212:25: note: in expansion of macro ‘dprintf’
                         dprintf("clear blk:%x", *new_block_id);
                         ^
In file included from fs/ext2/ext2.c:4:0:
./include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/system.h:7:0,
                 from ./include/str.h:9,
                 from fs/ext2/ext2.c:4:
./dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
./include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
fs/ext2/ext2.c:212:25: note: in expansion of macro ‘dprintf’
                         dprintf("clear blk:%x", *new_block_id);
                         ^
In file included from fs/ext2/ext2.c:4:0:
./include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/str.h:9:0,
                 from fs/ext2/ext2.c:4:
fs/ext2/ext2.c: In function ‘ext2_make’:
./include/system.h:97:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
            ^
./fs/ext2/include/ext2.h:98:1: note: in expansion of macro ‘deprintf’
 deprintf("CHK::[%s] " #fun " Failed:" msg,__func__,##args);\
 ^
fs/ext2/ext2.c:230:5: note: in expansion of macro ‘CHK’
     CHK (ext2_alloc_inodeid(fs, type, &ninode_id), "out of inodeid?");
     ^
In file included from fs/ext2/ext2.c:4:0:
./include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/system.h:7:0,
                 from ./include/str.h:9,
                 from fs/ext2/ext2.c:4:
./dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
./include/system.h:97:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
                          ^
./fs/ext2/include/ext2.h:98:1: note: in expansion of macro ‘deprintf’
 deprintf("CHK::[%s] " #fun " Failed:" msg,__func__,##args);\
 ^
fs/ext2/ext2.c:230:5: note: in expansion of macro ‘CHK’
     CHK (ext2_alloc_inodeid(fs, type, &ninode_id), "out of inodeid?");
     ^
In file included from fs/ext2/ext2.c:4:0:
./include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/str.h:9:0,
                 from fs/ext2/ext2.c:4:
./include/system.h:97:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
            ^
./fs/ext2/include/ext2.h:98:1: note: in expansion of macro ‘deprintf’
 deprintf("CHK::[%s] " #fun " Failed:" msg,__func__,##args);\
 ^
fs/ext2/ext2.c:236:5: note: in expansion of macro ‘CHK’
     CHK(ext2_get_inode_block(fs, father_id, &findex, &fblkno, NULL, fblk), "cannot get father inode");
     ^
In file included from fs/ext2/ext2.c:4:0:
./include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/system.h:7:0,
                 from ./include/str.h:9,
                 from fs/ext2/ext2.c:4:
./dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
./include/system.h:97:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
                          ^
./fs/ext2/include/ext2.h:98:1: note: in expansion of macro ‘deprintf’
 deprintf("CHK::[%s] " #fun " Failed:" msg,__func__,##args);\
 ^
fs/ext2/ext2.c:236:5: note: in expansion of macro ‘CHK’
     CHK(ext2_get_inode_block(fs, father_id, &findex, &fblkno, NULL, fblk), "cannot get father inode");
     ^
In file included from fs/ext2/ext2.c:4:0:
./include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
fs/ext2/ext2.c:245:20: warning: pointer targets in initialization differ in signedness [-Wpointer-sign]
         char *np = dir->name;
                    ^
fs/ext2/ext2.c:247:25: warning: pointer targets in passing argument 1 of ‘memcmp’ differ in signedness [-Wpointer-sign]
             if (!memcmp(np, name, name_len)) {
                         ^
In file included from ./include/str.h:9:0,
                 from fs/ext2/ext2.c:4:
./include/system.h:88:9: note: expected ‘unsigned char *’ but argument is of type ‘char *’
 uint8_t memcmp(uint8_t *a1, uint8_t *a2, uint8_t len);
         ^
fs/ext2/ext2.c:247:29: warning: pointer targets in passing argument 2 of ‘memcmp’ differ in signedness [-Wpointer-sign]
             if (!memcmp(np, name, name_len)) {
                             ^
In file included from ./include/str.h:9:0,
                 from fs/ext2/ext2.c:4:
./include/system.h:88:9: note: expected ‘unsigned char *’ but argument is of type ‘char *’
 uint8_t memcmp(uint8_t *a1, uint8_t *a2, uint8_t len);
         ^
./include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
fs/ext2/ext2.c:248:17: note: in expansion of macro ‘dprintf’
                 dprintf("[-] %s already exists.", name);
                 ^
In file included from fs/ext2/ext2.c:4:0:
./include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/system.h:7:0,
                 from ./include/str.h:9,
                 from fs/ext2/ext2.c:4:
./dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
./include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
fs/ext2/ext2.c:248:17: note: in expansion of macro ‘dprintf’
                 dprintf("[-] %s already exists.", name);
                 ^
In file included from fs/ext2/ext2.c:4:0:
./include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/str.h:9:0,
                 from fs/ext2/ext2.c:4:
./include/system.h:97:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
            ^
./fs/ext2/include/ext2.h:98:1: note: in expansion of macro ‘deprintf’
 deprintf("CHK::[%s] " #fun " Failed:" msg,__func__,##args);\
 ^
fs/ext2/ext2.c:256:5: note: in expansion of macro ‘CHK’
     CHK(ext2_get_inode_block(fs, ninode_id, &index, &blk_no, NULL, blk), "cannot get child inode");
     ^
In file included from fs/ext2/ext2.c:4:0:
./include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/system.h:7:0,
                 from ./include/str.h:9,
                 from fs/ext2/ext2.c:4:
./dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
./include/system.h:97:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
                          ^
./fs/ext2/include/ext2.h:98:1: note: in expansion of macro ‘deprintf’
 deprintf("CHK::[%s] " #fun " Failed:" msg,__func__,##args);\
 ^
fs/ext2/ext2.c:256:5: note: in expansion of macro ‘CHK’
     CHK(ext2_get_inode_block(fs, ninode_id, &index, &blk_no, NULL, blk), "cannot get child inode");
     ^
In file included from fs/ext2/ext2.c:4:0:
./include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/str.h:9:0,
                 from fs/ext2/ext2.c:4:
./include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
fs/ext2/ext2.c:260:5: note: in expansion of macro ‘dprintf’
     dprintf("[-]blockNO[%x][OFF:%x]", blk_no, blk_no * fs->block_size + sizeof(ext2_inode_t) * index);
     ^
In file included from fs/ext2/ext2.c:4:0:
./include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/system.h:7:0,
                 from ./include/str.h:9,
                 from fs/ext2/ext2.c:4:
./dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
./include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
fs/ext2/ext2.c:260:5: note: in expansion of macro ‘dprintf’
     dprintf("[-]blockNO[%x][OFF:%x]", blk_no, blk_no * fs->block_size + sizeof(ext2_inode_t) * index);
     ^
In file included from fs/ext2/ext2.c:4:0:
./include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
fs/ext2/ext2.c:261:12: warning: passing argument 1 of ‘memset’ from incompatible pointer type
     memset(inode, 0, sizeof(ext2_inode_t));
            ^
In file included from ./include/str.h:9:0,
                 from fs/ext2/ext2.c:4:
./include/system.h:76:23: note: expected ‘unsigned char *’ but argument is of type ‘struct ext2_inode_t *’
 extern unsigned char *memset(unsigned char *dest, unsigned char val, int count);
                       ^
fs/ext2/ext2.c:312:21: warning: initialization makes integer from pointer without a cast
                     TODO;
                     ^
fs/ext2/ext2.c:312:21: warning: (near initialization for ‘(anonymous)[0]’)
In file included from ./include/str.h:9:0,
                 from fs/ext2/ext2.c:4:
./include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
fs/ext2/ext2.c:327:17: note: in expansion of macro ‘dprintf’
                 dprintf("[|%x]", dir->inode_id);
                 ^
In file included from fs/ext2/ext2.c:4:0:
./include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/system.h:7:0,
                 from ./include/str.h:9,
                 from fs/ext2/ext2.c:4:
./dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
./include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
fs/ext2/ext2.c:327:17: note: in expansion of macro ‘dprintf’
                 dprintf("[|%x]", dir->inode_id);
                 ^
In file included from fs/ext2/ext2.c:4:0:
./include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/str.h:9:0,
                 from fs/ext2/ext2.c:4:
./include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
fs/ext2/ext2.c:331:13: note: in expansion of macro ‘dprintf’
             dprintf("[dir]nlen:%x size:%x tsize:%x", dir->name_length, dir->size, tsize);
             ^
In file included from fs/ext2/ext2.c:4:0:
./include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/system.h:7:0,
                 from ./include/str.h:9,
                 from fs/ext2/ext2.c:4:
./dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
./include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
fs/ext2/ext2.c:331:13: note: in expansion of macro ‘dprintf’
             dprintf("[dir]nlen:%x size:%x tsize:%x", dir->name_length, dir->size, tsize);
             ^
In file included from fs/ext2/ext2.c:4:0:
./include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/str.h:9:0,
                 from fs/ext2/ext2.c:4:
./include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
fs/ext2/ext2.c:347:17: note: in expansion of macro ‘dprintf’
                 dprintf("[**] fix length:[%x] -->[%x]", old_len, dir->size);
                 ^
In file included from fs/ext2/ext2.c:4:0:
./include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/system.h:7:0,
                 from ./include/str.h:9,
                 from fs/ext2/ext2.c:4:
./dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
./include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
fs/ext2/ext2.c:347:17: note: in expansion of macro ‘dprintf’
                 dprintf("[**] fix length:[%x] -->[%x]", old_len, dir->size);
                 ^
In file included from fs/ext2/ext2.c:4:0:
./include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
fs/ext2/ext2.c:364:29: warning: cast from pointer to integer of different size [-Wpointer-to-int-cast]
     dir->size = (uint16_t) ((uint16_t) blk + fs->block_size - ((uint16_t) dir));
                             ^
fs/ext2/ext2.c:364:64: warning: cast from pointer to integer of different size [-Wpointer-to-int-cast]
     dir->size = (uint16_t) ((uint16_t) blk + fs->block_size - ((uint16_t) dir));
                                                                ^
In file included from ./include/str.h:9:0,
                 from fs/ext2/ext2.c:4:
./include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
fs/ext2/ext2.c:368:5: note: in expansion of macro ‘dprintf’
     dprintf("make done");
     ^
In file included from fs/ext2/ext2.c:4:0:
./include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/system.h:7:0,
                 from ./include/str.h:9,
                 from fs/ext2/ext2.c:4:
./dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
./include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
fs/ext2/ext2.c:368:5: note: in expansion of macro ‘dprintf’
     dprintf("make done");
     ^
In file included from fs/ext2/ext2.c:4:0:
./include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
fs/ext2/ext2.c: In function ‘ext2_read_file_block_singly’:
fs/ext2/ext2.c:380:51: warning: passing argument 4 of ‘ext2_read_block’ from incompatible pointer type
     ext2_read_block(fs, inode->i_singly_block, 1, blk);
                                                   ^
fs/ext2/ext2.c:52:5: note: expected ‘unsigned char *’ but argument is of type ‘uint32_t *’
 int ext2_read_block(ext2_t *fs, uint32_t base, uint32_t count, uint8_t *buff) {
     ^
In file included from ./include/str.h:9:0,
                 from fs/ext2/ext2.c:4:
./include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
fs/ext2/ext2.c:383:5: note: in expansion of macro ‘dprintf’
     dprintf("[%s] %x", __func__, blk[no]);
     ^
In file included from fs/ext2/ext2.c:4:0:
./include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/system.h:7:0,
                 from ./include/str.h:9,
                 from fs/ext2/ext2.c:4:
./dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
./include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
fs/ext2/ext2.c:383:5: note: in expansion of macro ‘dprintf’
     dprintf("[%s] %x", __func__, blk[no]);
     ^
In file included from fs/ext2/ext2.c:4:0:
./include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
fs/ext2/ext2.c:385:9: warning: initialization makes integer from pointer without a cast
         if (create)TODO;
         ^
fs/ext2/ext2.c:385:9: warning: (near initialization for ‘(anonymous)[0]’)
fs/ext2/ext2.c:384:8: warning: suggest explicit braces to avoid ambiguous ‘else’ [-Wparentheses]
     if (blk[no] == 0)
        ^
fs/ext2/ext2.c: In function ‘ext2_read_file_block_doubly’:
fs/ext2/ext2.c:393:5: warning: initialization makes integer from pointer without a cast
     TODO;
     ^
fs/ext2/ext2.c:393:5: warning: (near initialization for ‘(anonymous)[0]’)
In file included from ./include/str.h:9:0,
                 from fs/ext2/ext2.c:4:
fs/ext2/ext2.c: In function ‘ext2_read_file_block’:
./include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
fs/ext2/ext2.c:400:5: note: in expansion of macro ‘dprintf’
     dprintf("max_blocks:%x read[%x]", max_blocks, block_no);
     ^
In file included from fs/ext2/ext2.c:4:0:
./include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/system.h:7:0,
                 from ./include/str.h:9,
                 from fs/ext2/ext2.c:4:
./dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
./include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
fs/ext2/ext2.c:400:5: note: in expansion of macro ‘dprintf’
     dprintf("max_blocks:%x read[%x]", max_blocks, block_no);
     ^
In file included from fs/ext2/ext2.c:4:0:
./include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/str.h:9:0,
                 from fs/ext2/ext2.c:4:
./include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
fs/ext2/ext2.c:402:9: note: in expansion of macro ‘dprintf’
         dprintf("direct read[%x]:%x", block_no, inode->i_block[block_no]);
         ^
In file included from fs/ext2/ext2.c:4:0:
./include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/system.h:7:0,
                 from ./include/str.h:9,
                 from fs/ext2/ext2.c:4:
./dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
./include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
fs/ext2/ext2.c:402:9: note: in expansion of macro ‘dprintf’
         dprintf("direct read[%x]:%x", block_no, inode->i_block[block_no]);
         ^
In file included from fs/ext2/ext2.c:4:0:
./include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/str.h:9:0,
                 from fs/ext2/ext2.c:4:
./include/system.h:97:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
            ^
fs/ext2/ext2.c:406:17: note: in expansion of macro ‘deprintf’
                 deprintf("cannot alloc blk");
                 ^
In file included from fs/ext2/ext2.c:4:0:
./include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/system.h:7:0,
                 from ./include/str.h:9,
                 from fs/ext2/ext2.c:4:
./dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
./include/system.h:97:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
                          ^
fs/ext2/ext2.c:406:17: note: in expansion of macro ‘deprintf’
                 deprintf("cannot alloc blk");
                 ^
In file included from fs/ext2/ext2.c:4:0:
./include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/str.h:9:0,
                 from fs/ext2/ext2.c:4:
./include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
fs/ext2/ext2.c:413:9: note: in expansion of macro ‘dprintf’
         dprintf("singly direct read[%x]:%x", block_no, inode->i_block[block_no]);
         ^
In file included from fs/ext2/ext2.c:4:0:
./include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/system.h:7:0,
                 from ./include/str.h:9,
                 from fs/ext2/ext2.c:4:
./dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
./include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
fs/ext2/ext2.c:413:9: note: in expansion of macro ‘dprintf’
         dprintf("singly direct read[%x]:%x", block_no, inode->i_block[block_no]);
         ^
In file included from fs/ext2/ext2.c:4:0:
./include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
fs/ext2/ext2.c:416:9: warning: initialization makes integer from pointer without a cast
         TODO;
         ^
fs/ext2/ext2.c:416:9: warning: (near initialization for ‘(anonymous)[0]’)
In file included from ./include/str.h:9:0,
                 from fs/ext2/ext2.c:4:
fs/ext2/ext2.c: In function ‘ext2_read_file’:
./include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
fs/ext2/ext2.c:424:9: note: in expansion of macro ‘dprintf’
         dprintf("fix size:%x --> %x", size, inode->i_size - offset);
         ^
In file included from fs/ext2/ext2.c:4:0:
./include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/system.h:7:0,
                 from ./include/str.h:9,
                 from fs/ext2/ext2.c:4:
./dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
./include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
fs/ext2/ext2.c:424:9: note: in expansion of macro ‘dprintf’
         dprintf("fix size:%x --> %x", size, inode->i_size - offset);
         ^
In file included from fs/ext2/ext2.c:4:0:
./include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/str.h:9:0,
                 from fs/ext2/ext2.c:4:
./include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
fs/ext2/ext2.c:433:5: note: in expansion of macro ‘dprintf’
     dprintf("boff:%x bcou:%x", block_offset, block_count);
     ^
In file included from fs/ext2/ext2.c:4:0:
./include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/system.h:7:0,
                 from ./include/str.h:9,
                 from fs/ext2/ext2.c:4:
./dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
./include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
fs/ext2/ext2.c:433:5: note: in expansion of macro ‘dprintf’
     dprintf("boff:%x bcou:%x", block_offset, block_count);
     ^
In file included from fs/ext2/ext2.c:4:0:
./include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/str.h:9:0,
                 from fs/ext2/ext2.c:4:
./include/system.h:97:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
            ^
./fs/ext2/include/ext2.h:98:1: note: in expansion of macro ‘deprintf’
 deprintf("CHK::[%s] " #fun " Failed:" msg,__func__,##args);\
 ^
fs/ext2/ext2.c:438:9: note: in expansion of macro ‘CHK’
         CHK(ext2_read_file_block(fs, inode, x, true, tbuff), "");
         ^
In file included from fs/ext2/ext2.c:4:0:
./include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/system.h:7:0,
                 from ./include/str.h:9,
                 from fs/ext2/ext2.c:4:
./dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
./include/system.h:97:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
                          ^
./fs/ext2/include/ext2.h:98:1: note: in expansion of macro ‘deprintf’
 deprintf("CHK::[%s] " #fun " Failed:" msg,__func__,##args);\
 ^
fs/ext2/ext2.c:438:9: note: in expansion of macro ‘CHK’
         CHK(ext2_read_file_block(fs, inode, x, true, tbuff), "");
         ^
In file included from fs/ext2/ext2.c:4:0:
./include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/str.h:9:0,
                 from fs/ext2/ext2.c:4:
./include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
fs/ext2/ext2.c:440:9: note: in expansion of macro ‘dprintf’
         dprintf("head dblk no:%x offset:%x size:%x", x, hblk_off, s);
         ^
In file included from fs/ext2/ext2.c:4:0:
./include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/system.h:7:0,
                 from ./include/str.h:9,
                 from fs/ext2/ext2.c:4:
./dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
./include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
fs/ext2/ext2.c:440:9: note: in expansion of macro ‘dprintf’
         dprintf("head dblk no:%x offset:%x size:%x", x, hblk_off, s);
         ^
In file included from fs/ext2/ext2.c:4:0:
./include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/str.h:9:0,
                 from fs/ext2/ext2.c:4:
./include/system.h:97:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
            ^
./fs/ext2/include/ext2.h:98:1: note: in expansion of macro ‘deprintf’
 deprintf("CHK::[%s] " #fun " Failed:" msg,__func__,##args);\
 ^
fs/ext2/ext2.c:448:13: note: in expansion of macro ‘CHK’
             CHK(ext2_read_file_block(fs, inode, x, false, &buff[off]), "");
             ^
In file included from fs/ext2/ext2.c:4:0:
./include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/system.h:7:0,
                 from ./include/str.h:9,
                 from fs/ext2/ext2.c:4:
./dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
./include/system.h:97:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
                          ^
./fs/ext2/include/ext2.h:98:1: note: in expansion of macro ‘deprintf’
 deprintf("CHK::[%s] " #fun " Failed:" msg,__func__,##args);\
 ^
fs/ext2/ext2.c:448:13: note: in expansion of macro ‘CHK’
             CHK(ext2_read_file_block(fs, inode, x, false, &buff[off]), "");
             ^
In file included from fs/ext2/ext2.c:4:0:
./include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/str.h:9:0,
                 from fs/ext2/ext2.c:4:
./include/system.h:97:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
            ^
./fs/ext2/include/ext2.h:98:1: note: in expansion of macro ‘deprintf’
 deprintf("CHK::[%s] " #fun " Failed:" msg,__func__,##args);\
 ^
fs/ext2/ext2.c:455:9: note: in expansion of macro ‘CHK’
         CHK(ext2_read_file_block(fs, inode, x, false, tbuff), "");
         ^
In file included from fs/ext2/ext2.c:4:0:
./include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/system.h:7:0,
                 from ./include/str.h:9,
                 from fs/ext2/ext2.c:4:
./dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
./include/system.h:97:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
                          ^
./fs/ext2/include/ext2.h:98:1: note: in expansion of macro ‘deprintf’
 deprintf("CHK::[%s] " #fun " Failed:" msg,__func__,##args);\
 ^
fs/ext2/ext2.c:455:9: note: in expansion of macro ‘CHK’
         CHK(ext2_read_file_block(fs, inode, x, false, tbuff), "");
         ^
In file included from fs/ext2/ext2.c:4:0:
./include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/str.h:9:0,
                 from fs/ext2/ext2.c:4:
./include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
fs/ext2/ext2.c:456:9: note: in expansion of macro ‘dprintf’
         dprintf("footer dblk no:%x size:%x", x, les);
         ^
In file included from fs/ext2/ext2.c:4:0:
./include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/system.h:7:0,
                 from ./include/str.h:9,
                 from fs/ext2/ext2.c:4:
./dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
./include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
fs/ext2/ext2.c:456:9: note: in expansion of macro ‘dprintf’
         dprintf("footer dblk no:%x size:%x", x, les);
         ^
In file included from fs/ext2/ext2.c:4:0:
./include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/str.h:9:0,
                 from fs/ext2/ext2.c:4:
fs/ext2/ext2.c: In function ‘ext2_get_file_blockid’:
./include/system.h:97:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
            ^
./fs/ext2/include/ext2.h:98:1: note: in expansion of macro ‘deprintf’
 deprintf("CHK::[%s] " #fun " Failed:" msg,__func__,##args);\
 ^
fs/ext2/ext2.c:481:13: note: in expansion of macro ‘CHK’
             CHK(ext2_alloc_block(fs, &inode->i_singly_block, true), "fail to alloc new block");
             ^
In file included from fs/ext2/ext2.c:4:0:
./include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/system.h:7:0,
                 from ./include/str.h:9,
                 from fs/ext2/ext2.c:4:
./dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
./include/system.h:97:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
                          ^
./fs/ext2/include/ext2.h:98:1: note: in expansion of macro ‘deprintf’
 deprintf("CHK::[%s] " #fun " Failed:" msg,__func__,##args);\
 ^
fs/ext2/ext2.c:481:13: note: in expansion of macro ‘CHK’
             CHK(ext2_alloc_block(fs, &inode->i_singly_block, true), "fail to alloc new block");
             ^
In file included from fs/ext2/ext2.c:4:0:
./include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/str.h:9:0,
                 from fs/ext2/ext2.c:4:
./include/system.h:97:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
            ^
./fs/ext2/include/ext2.h:98:1: note: in expansion of macro ‘deprintf’
 deprintf("CHK::[%s] " #fun " Failed:" msg,__func__,##args);\
 ^
fs/ext2/ext2.c:487:17: note: in expansion of macro ‘CHK’
                 CHK(ext2_alloc_block(fs, blkids_p, true), "fail to alloc new child block:%x", x);
                 ^
In file included from fs/ext2/ext2.c:4:0:
./include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/system.h:7:0,
                 from ./include/str.h:9,
                 from fs/ext2/ext2.c:4:
./dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
./include/system.h:97:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
                          ^
./fs/ext2/include/ext2.h:98:1: note: in expansion of macro ‘deprintf’
 deprintf("CHK::[%s] " #fun " Failed:" msg,__func__,##args);\
 ^
fs/ext2/ext2.c:487:17: note: in expansion of macro ‘CHK’
                 CHK(ext2_alloc_block(fs, blkids_p, true), "fail to alloc new child block:%x", x);
                 ^
In file included from fs/ext2/ext2.c:4:0:
./include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/str.h:9:0,
                 from fs/ext2/ext2.c:4:
./include/system.h:97:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
            ^
./fs/ext2/include/ext2.h:98:1: note: in expansion of macro ‘deprintf’
 deprintf("CHK::[%s] " #fun " Failed:" msg,__func__,##args);\
 ^
fs/ext2/ext2.c:490:13: note: in expansion of macro ‘CHK’
             CHK(ext2_write_block(fs, inode->i_singly_block, 1, (uint8_t *) blkids), "I/O");
             ^
In file included from fs/ext2/ext2.c:4:0:
./include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/system.h:7:0,
                 from ./include/str.h:9,
                 from fs/ext2/ext2.c:4:
./dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
./include/system.h:97:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
                          ^
./fs/ext2/include/ext2.h:98:1: note: in expansion of macro ‘deprintf’
 deprintf("CHK::[%s] " #fun " Failed:" msg,__func__,##args);\
 ^
fs/ext2/ext2.c:490:13: note: in expansion of macro ‘CHK’
             CHK(ext2_write_block(fs, inode->i_singly_block, 1, (uint8_t *) blkids), "I/O");
             ^
In file included from fs/ext2/ext2.c:4:0:
./include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
fs/ext2/ext2.c:497:9: warning: initialization makes integer from pointer without a cast
         TODO;
         ^
fs/ext2/ext2.c:497:9: warning: (near initialization for ‘(anonymous)[0]’)
In file included from ./include/str.h:9:0,
                 from fs/ext2/ext2.c:4:
fs/ext2/ext2.c: In function ‘ext2_write_file_block’:
./include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
fs/ext2/ext2.c:504:5: note: in expansion of macro ‘dprintf’
     dprintf("max_blocks:%x read[%x]", max_blocks, block_no);
     ^
In file included from fs/ext2/ext2.c:4:0:
./include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/system.h:7:0,
                 from ./include/str.h:9,
                 from fs/ext2/ext2.c:4:
./dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
./include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
fs/ext2/ext2.c:504:5: note: in expansion of macro ‘dprintf’
     dprintf("max_blocks:%x read[%x]", max_blocks, block_no);
     ^
In file included from fs/ext2/ext2.c:4:0:
./include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/str.h:9:0,
                 from fs/ext2/ext2.c:4:
./include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
fs/ext2/ext2.c:506:9: note: in expansion of macro ‘dprintf’
         dprintf("direct write[%x]:%x", block_no, inode->i_block[block_no]);
         ^
In file included from fs/ext2/ext2.c:4:0:
./include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/system.h:7:0,
                 from ./include/str.h:9,
                 from fs/ext2/ext2.c:4:
./dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
./include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
fs/ext2/ext2.c:506:9: note: in expansion of macro ‘dprintf’
         dprintf("direct write[%x]:%x", block_no, inode->i_block[block_no]);
         ^
In file included from fs/ext2/ext2.c:4:0:
./include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/str.h:9:0,
                 from fs/ext2/ext2.c:4:
./include/system.h:97:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
            ^
fs/ext2/ext2.c:511:17: note: in expansion of macro ‘deprintf’
                 deprintf("Cannot alloc new block.");
                 ^
In file included from fs/ext2/ext2.c:4:0:
./include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/system.h:7:0,
                 from ./include/str.h:9,
                 from fs/ext2/ext2.c:4:
./dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
./include/system.h:97:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
                          ^
fs/ext2/ext2.c:511:17: note: in expansion of macro ‘deprintf’
                 deprintf("Cannot alloc new block.");
                 ^
In file included from fs/ext2/ext2.c:4:0:
./include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/str.h:9:0,
                 from fs/ext2/ext2.c:4:
./include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
fs/ext2/ext2.c:519:9: note: in expansion of macro ‘dprintf’
         dprintf("singly direct write[%x]:%x", block_no, inode->i_block[block_no]);
         ^
In file included from fs/ext2/ext2.c:4:0:
./include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/system.h:7:0,
                 from ./include/str.h:9,
                 from fs/ext2/ext2.c:4:
./dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
./include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
fs/ext2/ext2.c:519:9: note: in expansion of macro ‘dprintf’
         dprintf("singly direct write[%x]:%x", block_no, inode->i_block[block_no]);
         ^
In file included from fs/ext2/ext2.c:4:0:
./include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
fs/ext2/ext2.c:520:9: warning: initialization makes integer from pointer without a cast
         TODO;
         ^
fs/ext2/ext2.c:520:9: warning: (near initialization for ‘(anonymous)[0]’)
fs/ext2/ext2.c:522:9: warning: initialization makes integer from pointer without a cast
         TODO;
         ^
fs/ext2/ext2.c:522:9: warning: (near initialization for ‘(anonymous)[0]’)
In file included from ./include/str.h:9:0,
                 from fs/ext2/ext2.c:4:
fs/ext2/ext2.c: In function ‘ext2_update_inode’:
./include/system.h:97:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
            ^
./fs/ext2/include/ext2.h:98:1: note: in expansion of macro ‘deprintf’
 deprintf("CHK::[%s] " #fun " Failed:" msg,__func__,##args);\
 ^
fs/ext2/ext2.c:529:5: note: in expansion of macro ‘CHK’
     CHK(ext2_get_inode_block(fs, inode_id, &findex, &fblkno, NULL, blk), "cannot get inode");
     ^
In file included from fs/ext2/ext2.c:4:0:
./include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/system.h:7:0,
                 from ./include/str.h:9,
                 from fs/ext2/ext2.c:4:
./dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
./include/system.h:97:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
                          ^
./fs/ext2/include/ext2.h:98:1: note: in expansion of macro ‘deprintf’
 deprintf("CHK::[%s] " #fun " Failed:" msg,__func__,##args);\
 ^
fs/ext2/ext2.c:529:5: note: in expansion of macro ‘CHK’
     CHK(ext2_get_inode_block(fs, inode_id, &findex, &fblkno, NULL, blk), "cannot get inode");
     ^
In file included from fs/ext2/ext2.c:4:0:
./include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
fs/ext2/ext2.c:531:12: warning: passing argument 1 of ‘memcpy’ from incompatible pointer type
     memcpy(inode, new_inode, sizeof(ext2_inode_t));
            ^
In file included from ./include/str.h:9:0,
                 from fs/ext2/ext2.c:4:
./include/system.h:72:23: note: expected ‘unsigned char *’ but argument is of type ‘struct ext2_inode_t *’
 extern unsigned char *memcpy(unsigned char *dest, const unsigned char *src, int count);
                       ^
fs/ext2/ext2.c:531:19: warning: passing argument 2 of ‘memcpy’ from incompatible pointer type
     memcpy(inode, new_inode, sizeof(ext2_inode_t));
                   ^
In file included from ./include/str.h:9:0,
                 from fs/ext2/ext2.c:4:
./include/system.h:72:23: note: expected ‘const unsigned char *’ but argument is of type ‘struct ext2_inode_t *’
 extern unsigned char *memcpy(unsigned char *dest, const unsigned char *src, int count);
                       ^
./include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
fs/ext2/ext2.c:532:5: note: in expansion of macro ‘dprintf’
     dprintf("saving inode %x", inode_id);
     ^
In file included from fs/ext2/ext2.c:4:0:
./include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/system.h:7:0,
                 from ./include/str.h:9,
                 from fs/ext2/ext2.c:4:
./dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
./include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
fs/ext2/ext2.c:532:5: note: in expansion of macro ‘dprintf’
     dprintf("saving inode %x", inode_id);
     ^
In file included from fs/ext2/ext2.c:4:0:
./include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/str.h:9:0,
                 from fs/ext2/ext2.c:4:
./include/system.h:97:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
            ^
./fs/ext2/include/ext2.h:98:1: note: in expansion of macro ‘deprintf’
 deprintf("CHK::[%s] " #fun " Failed:" msg,__func__,##args);\
 ^
fs/ext2/ext2.c:533:5: note: in expansion of macro ‘CHK’
     CHK(ext2_write_block(fs, fblkno, 1, blk), "");
     ^
In file included from fs/ext2/ext2.c:4:0:
./include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/system.h:7:0,
                 from ./include/str.h:9,
                 from fs/ext2/ext2.c:4:
./dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
./include/system.h:97:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
                          ^
./fs/ext2/include/ext2.h:98:1: note: in expansion of macro ‘deprintf’
 deprintf("CHK::[%s] " #fun " Failed:" msg,__func__,##args);\
 ^
fs/ext2/ext2.c:533:5: note: in expansion of macro ‘CHK’
     CHK(ext2_write_block(fs, fblkno, 1, blk), "");
     ^
In file included from fs/ext2/ext2.c:4:0:
./include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/str.h:9:0,
                 from fs/ext2/ext2.c:4:
fs/ext2/ext2.c: In function ‘ext2_write_file’:
./include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
fs/ext2/ext2.c:548:5: note: in expansion of macro ‘dprintf’
     dprintf("boff:%x bcou:%x", block_offset, block_count);
     ^
In file included from fs/ext2/ext2.c:4:0:
./include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/system.h:7:0,
                 from ./include/str.h:9,
                 from fs/ext2/ext2.c:4:
./dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
./include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
fs/ext2/ext2.c:548:5: note: in expansion of macro ‘dprintf’
     dprintf("boff:%x bcou:%x", block_offset, block_count);
     ^
In file included from fs/ext2/ext2.c:4:0:
./include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/str.h:9:0,
                 from fs/ext2/ext2.c:4:
./include/system.h:97:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
            ^
./fs/ext2/include/ext2.h:98:1: note: in expansion of macro ‘deprintf’
 deprintf("CHK::[%s] " #fun " Failed:" msg,__func__,##args);\
 ^
fs/ext2/ext2.c:553:9: note: in expansion of macro ‘CHK’
         CHK(ext2_read_file_block(fs, inode, x, true, tbuff), "");
         ^
In file included from fs/ext2/ext2.c:4:0:
./include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/system.h:7:0,
                 from ./include/str.h:9,
                 from fs/ext2/ext2.c:4:
./dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
./include/system.h:97:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
                          ^
./fs/ext2/include/ext2.h:98:1: note: in expansion of macro ‘deprintf’
 deprintf("CHK::[%s] " #fun " Failed:" msg,__func__,##args);\
 ^
fs/ext2/ext2.c:553:9: note: in expansion of macro ‘CHK’
         CHK(ext2_read_file_block(fs, inode, x, true, tbuff), "");
         ^
In file included from fs/ext2/ext2.c:4:0:
./include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/str.h:9:0,
                 from fs/ext2/ext2.c:4:
./include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
fs/ext2/ext2.c:555:9: note: in expansion of macro ‘dprintf’
         dprintf("head dblk no:%x offset:%x size:%x", x, hblk_off, s);
         ^
In file included from fs/ext2/ext2.c:4:0:
./include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/system.h:7:0,
                 from ./include/str.h:9,
                 from fs/ext2/ext2.c:4:
./dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
./include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
fs/ext2/ext2.c:555:9: note: in expansion of macro ‘dprintf’
         dprintf("head dblk no:%x offset:%x size:%x", x, hblk_off, s);
         ^
In file included from fs/ext2/ext2.c:4:0:
./include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/str.h:9:0,
                 from fs/ext2/ext2.c:4:
./include/system.h:97:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
            ^
./fs/ext2/include/ext2.h:98:1: note: in expansion of macro ‘deprintf’
 deprintf("CHK::[%s] " #fun " Failed:" msg,__func__,##args);\
 ^
fs/ext2/ext2.c:557:9: note: in expansion of macro ‘CHK’
         CHK(ext2_write_file_block(fs, inode, x, tbuff), "");
         ^
In file included from fs/ext2/ext2.c:4:0:
./include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/system.h:7:0,
                 from ./include/str.h:9,
                 from fs/ext2/ext2.c:4:
./dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
./include/system.h:97:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
                          ^
./fs/ext2/include/ext2.h:98:1: note: in expansion of macro ‘deprintf’
 deprintf("CHK::[%s] " #fun " Failed:" msg,__func__,##args);\
 ^
fs/ext2/ext2.c:557:9: note: in expansion of macro ‘CHK’
         CHK(ext2_write_file_block(fs, inode, x, tbuff), "");
         ^
In file included from fs/ext2/ext2.c:4:0:
./include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/str.h:9:0,
                 from fs/ext2/ext2.c:4:
./include/system.h:97:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
            ^
./fs/ext2/include/ext2.h:98:1: note: in expansion of macro ‘deprintf’
 deprintf("CHK::[%s] " #fun " Failed:" msg,__func__,##args);\
 ^
fs/ext2/ext2.c:564:13: note: in expansion of macro ‘CHK’
             CHK(ext2_write_file_block(fs, inode, x, &buff[off]), "");
             ^
In file included from fs/ext2/ext2.c:4:0:
./include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/system.h:7:0,
                 from ./include/str.h:9,
                 from fs/ext2/ext2.c:4:
./dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
./include/system.h:97:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
                          ^
./fs/ext2/include/ext2.h:98:1: note: in expansion of macro ‘deprintf’
 deprintf("CHK::[%s] " #fun " Failed:" msg,__func__,##args);\
 ^
fs/ext2/ext2.c:564:13: note: in expansion of macro ‘CHK’
             CHK(ext2_write_file_block(fs, inode, x, &buff[off]), "");
             ^
In file included from fs/ext2/ext2.c:4:0:
./include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/str.h:9:0,
                 from fs/ext2/ext2.c:4:
./include/system.h:97:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
            ^
./fs/ext2/include/ext2.h:98:1: note: in expansion of macro ‘deprintf’
 deprintf("CHK::[%s] " #fun " Failed:" msg,__func__,##args);\
 ^
fs/ext2/ext2.c:571:9: note: in expansion of macro ‘CHK’
         CHK(ext2_read_file_block(fs, inode, x, true, tbuff), "");
         ^
In file included from fs/ext2/ext2.c:4:0:
./include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/system.h:7:0,
                 from ./include/str.h:9,
                 from fs/ext2/ext2.c:4:
./dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
./include/system.h:97:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
                          ^
./fs/ext2/include/ext2.h:98:1: note: in expansion of macro ‘deprintf’
 deprintf("CHK::[%s] " #fun " Failed:" msg,__func__,##args);\
 ^
fs/ext2/ext2.c:571:9: note: in expansion of macro ‘CHK’
         CHK(ext2_read_file_block(fs, inode, x, true, tbuff), "");
         ^
In file included from fs/ext2/ext2.c:4:0:
./include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/str.h:9:0,
                 from fs/ext2/ext2.c:4:
./include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
fs/ext2/ext2.c:572:9: note: in expansion of macro ‘dprintf’
         dprintf("footer dblk no:%x size:%x", x, les);
         ^
In file included from fs/ext2/ext2.c:4:0:
./include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/system.h:7:0,
                 from ./include/str.h:9,
                 from fs/ext2/ext2.c:4:
./dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
./include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
fs/ext2/ext2.c:572:9: note: in expansion of macro ‘dprintf’
         dprintf("footer dblk no:%x size:%x", x, les);
         ^
In file included from fs/ext2/ext2.c:4:0:
./include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/str.h:9:0,
                 from fs/ext2/ext2.c:4:
./include/system.h:97:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
            ^
./fs/ext2/include/ext2.h:98:1: note: in expansion of macro ‘deprintf’
 deprintf("CHK::[%s] " #fun " Failed:" msg,__func__,##args);\
 ^
fs/ext2/ext2.c:574:9: note: in expansion of macro ‘CHK’
         CHK(ext2_write_file_block(fs, inode, x, tbuff), "");
         ^
In file included from fs/ext2/ext2.c:4:0:
./include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/system.h:7:0,
                 from ./include/str.h:9,
                 from fs/ext2/ext2.c:4:
./dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
./include/system.h:97:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
                          ^
./fs/ext2/include/ext2.h:98:1: note: in expansion of macro ‘deprintf’
 deprintf("CHK::[%s] " #fun " Failed:" msg,__func__,##args);\
 ^
fs/ext2/ext2.c:574:9: note: in expansion of macro ‘CHK’
         CHK(ext2_write_file_block(fs, inode, x, tbuff), "");
         ^
In file included from fs/ext2/ext2.c:4:0:
./include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
fs/ext2/ext2.c: In function ‘ext2_test’:
fs/ext2/ext2.c:593:21: warning: initialization makes pointer from integer without a cast
     uint8_t *buff = kmalloc_paging(1024, NULL);
                     ^
fs/ext2/ext2.c:596:12: warning: passing argument 1 of ‘memcpy’ from incompatible pointer type
     memcpy(&node, buff + offset * sizeof(ext2_inode_t), sizeof(ext2_inode_t));
            ^
In file included from ./include/str.h:9:0,
                 from fs/ext2/ext2.c:4:
./include/system.h:72:23: note: expected ‘unsigned char *’ but argument is of type ‘struct ext2_inode_t *’
 extern unsigned char *memcpy(unsigned char *dest, const unsigned char *src, int count);
                       ^
fs/ext2/ext2.c:607:60: warning: pointer targets in passing argument 5 of ‘ext2_write_file’ differ in signedness [-Wpointer-sign]
     ASSERT(ext2_write_file(&ext2_fs_test, sillynode, 0, 5, sillybuff) == 0);
                                                            ^
./include/system.h:20:10: note: in definition of macro ‘ASSERT’
     if(!(x)){\
          ^
fs/ext2/ext2.c:541:9: note: expected ‘unsigned char *’ but argument is of type ‘char *’
 int32_t ext2_write_file(ext2_t *fs, ext2_inode_t *inode, uint32_t offset, uint32_t size, uint8_t *buff) {
         ^
fs/ext2/ext2.c:615:16: warning: pointer targets in passing argument 1 of ‘memcpy’ differ in signedness [-Wpointer-sign]
         memcpy(name, d->name, d->name_length);
                ^
In file included from ./include/str.h:9:0,
                 from fs/ext2/ext2.c:4:
./include/system.h:72:23: note: expected ‘unsigned char *’ but argument is of type ‘char *’
 extern unsigned char *memcpy(unsigned char *dest, const unsigned char *src, int count);
                       ^
In file included from fs/ext2/ext2.c:9:0:
./include/kmalloc.h:25:21: warning: initialization makes pointer from integer without a cast
 #define kmalloc(sz) kmalloc_internal(sz,false,NULL,kernel_heap)
                     ^
fs/ext2/ext2.c:636:23: note: in expansion of macro ‘kmalloc’
     ext2_dir_t *dir = kmalloc(ext2_fs_test.block_size);
                       ^
fs/ext2/ext2.c:637:56: warning: passing argument 4 of ‘ext2_read_block’ from incompatible pointer type
     ext2_read_block(&ext2_fs_test, node.i_block[0], 1, dir);
                                                        ^
fs/ext2/ext2.c:52:5: note: expected ‘unsigned char *’ but argument is of type ‘struct ext2_dir_t *’
 int ext2_read_block(ext2_t *fs, uint32_t base, uint32_t count, uint8_t *buff) {
     ^
fs/ext2/ext2.c:640:16: warning: pointer targets in passing argument 1 of ‘memcpy’ differ in signedness [-Wpointer-sign]
         memcpy(name, dir->name, dir->name_length);
                ^
In file included from ./include/str.h:9:0,
                 from fs/ext2/ext2.c:4:
./include/system.h:72:23: note: expected ‘unsigned char *’ but argument is of type ‘char *’
 extern unsigned char *memcpy(unsigned char *dest, const unsigned char *src, int count);
                       ^
fs/ext2/ext2.c:643:13: warning: assignment makes pointer from integer without a cast
         dir = ((uint32_t) dir) + dir->size;
             ^
In file included from ./include/str.h:9:0,
                 from fs/ext2/ext2.c:4:
fs/ext2/ext2.c: In function ‘ext2_init’:
./include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
fs/ext2/ext2.c:650:5: note: in expansion of macro ‘dprintf’
     dprintf("callin");
     ^
In file included from fs/ext2/ext2.c:4:0:
./include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/system.h:7:0,
                 from ./include/str.h:9,
                 from fs/ext2/ext2.c:4:
./dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
./include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
fs/ext2/ext2.c:650:5: note: in expansion of macro ‘dprintf’
     dprintf("callin");
     ^
In file included from fs/ext2/ext2.c:4:0:
./include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
fs/ext2/ext2.c:651:12: warning: passing argument 1 of ‘memset’ from incompatible pointer type
     memset(fs_out, 0, sizeof(ext2_t));
            ^
In file included from ./include/str.h:9:0,
                 from fs/ext2/ext2.c:4:
./include/system.h:76:23: note: expected ‘unsigned char *’ but argument is of type ‘struct ext2_t *’
 extern unsigned char *memset(unsigned char *dest, unsigned char val, int count);
                       ^
fs/ext2/ext2.c:667:23: warning: passing argument 3 of ‘fs_out->dev->read’ from incompatible pointer type
                       fs_out->block_group);
                       ^
fs/ext2/ext2.c:667:23: note: expected ‘unsigned char *’ but argument is of type ‘struct ext2_group_desc_t *’
In file included from ./include/str.h:9:0,
                 from fs/ext2/ext2.c:4:
fs/ext2/ext2.c: In function ‘ext2_fs_node_write’:
./include/system.h:97:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
            ^
./fs/ext2/include/ext2.h:98:1: note: in expansion of macro ‘deprintf’
 deprintf("CHK::[%s] " #fun " Failed:" msg,__func__,##args);\
 ^
fs/ext2/ext2.c:675:5: note: in expansion of macro ‘CHK’
     CHK(ext2_find_inote(fs, node->inode, &inode), "inode not exist");
     ^
In file included from fs/ext2/ext2.c:4:0:
./include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/system.h:7:0,
                 from ./include/str.h:9,
                 from fs/ext2/ext2.c:4:
./dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
./include/system.h:97:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
                          ^
./fs/ext2/include/ext2.h:98:1: note: in expansion of macro ‘deprintf’
 deprintf("CHK::[%s] " #fun " Failed:" msg,__func__,##args);\
 ^
fs/ext2/ext2.c:675:5: note: in expansion of macro ‘CHK’
     CHK(ext2_find_inote(fs, node->inode, &inode), "inode not exist");
     ^
In file included from fs/ext2/ext2.c:4:0:
./include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/str.h:9:0,
                 from fs/ext2/ext2.c:4:
./include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
fs/ext2/ext2.c:678:9: note: in expansion of macro ‘dprintf’
         dprintf("update inode %x size %x ==> %x", node->inode, inode.i_size, offset + len);
         ^
In file included from fs/ext2/ext2.c:4:0:
./include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/system.h:7:0,
                 from ./include/str.h:9,
                 from fs/ext2/ext2.c:4:
./dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
./include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
fs/ext2/ext2.c:678:9: note: in expansion of macro ‘dprintf’
         dprintf("update inode %x size %x ==> %x", node->inode, inode.i_size, offset + len);
         ^
In file included from fs/ext2/ext2.c:4:0:
./include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/str.h:9:0,
                 from fs/ext2/ext2.c:4:
./include/system.h:97:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
            ^
./fs/ext2/include/ext2.h:98:1: note: in expansion of macro ‘deprintf’
 deprintf("CHK::[%s] " #fun " Failed:" msg,__func__,##args);\
 ^
fs/ext2/ext2.c:680:9: note: in expansion of macro ‘CHK’
         CHK(ext2_update_inode(fs, node->inode, &inode), "");
         ^
In file included from fs/ext2/ext2.c:4:0:
./include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/system.h:7:0,
                 from ./include/str.h:9,
                 from fs/ext2/ext2.c:4:
./dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
./include/system.h:97:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
                          ^
./fs/ext2/include/ext2.h:98:1: note: in expansion of macro ‘deprintf’
 deprintf("CHK::[%s] " #fun " Failed:" msg,__func__,##args);\
 ^
fs/ext2/ext2.c:680:9: note: in expansion of macro ‘CHK’
         CHK(ext2_update_inode(fs, node->inode, &inode), "");
         ^
In file included from fs/ext2/ext2.c:4:0:
./include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/str.h:9:0,
                 from fs/ext2/ext2.c:4:
fs/ext2/ext2.c: In function ‘ext2_fs_node_read’:
./include/system.h:97:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
            ^
./fs/ext2/include/ext2.h:98:1: note: in expansion of macro ‘deprintf’
 deprintf("CHK::[%s] " #fun " Failed:" msg,__func__,##args);\
 ^
fs/ext2/ext2.c:691:5: note: in expansion of macro ‘CHK’
     CHK(ext2_find_inote(fs, node->inode, &inode), "inode not exist");
     ^
In file included from fs/ext2/ext2.c:4:0:
./include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/system.h:7:0,
                 from ./include/str.h:9,
                 from fs/ext2/ext2.c:4:
./dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
./include/system.h:97:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
                          ^
./fs/ext2/include/ext2.h:98:1: note: in expansion of macro ‘deprintf’
 deprintf("CHK::[%s] " #fun " Failed:" msg,__func__,##args);\
 ^
fs/ext2/ext2.c:691:5: note: in expansion of macro ‘CHK’
     CHK(ext2_find_inote(fs, node->inode, &inode), "inode not exist");
     ^
In file included from fs/ext2/ext2.c:4:0:
./include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/str.h:9:0,
                 from fs/ext2/ext2.c:4:
fs/ext2/ext2.c: In function ‘ext2_get_fs_node’:
./include/system.h:97:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
            ^
fs/ext2/ext2.c:700:9: note: in expansion of macro ‘deprintf’
         deprintf("Bad inode_id:%x", inode_id);
         ^
In file included from fs/ext2/ext2.c:4:0:
./include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/system.h:7:0,
                 from ./include/str.h:9,
                 from fs/ext2/ext2.c:4:
./dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
./include/system.h:97:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
                          ^
fs/ext2/ext2.c:700:9: note: in expansion of macro ‘deprintf’
         deprintf("Bad inode_id:%x", inode_id);
         ^
In file included from fs/ext2/ext2.c:4:0:
./include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/str.h:9:0,
                 from fs/ext2/ext2.c:4:
fs/ext2/ext2.c: In function ‘ext2_fs_node_readdir’:
./include/system.h:97:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
            ^
./fs/ext2/include/ext2.h:98:1: note: in expansion of macro ‘deprintf’
 deprintf("CHK::[%s] " #fun " Failed:" msg,__func__,##args);\
 ^
fs/ext2/ext2.c:725:5: note: in expansion of macro ‘CHK’
     CHK(ext2_find_inote(fs, node->inode, &inode), "inode not exist");
     ^
In file included from fs/ext2/ext2.c:4:0:
./include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/system.h:7:0,
                 from ./include/str.h:9,
                 from fs/ext2/ext2.c:4:
./dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
./include/system.h:97:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
                          ^
./fs/ext2/include/ext2.h:98:1: note: in expansion of macro ‘deprintf’
 deprintf("CHK::[%s] " #fun " Failed:" msg,__func__,##args);\
 ^
fs/ext2/ext2.c:725:5: note: in expansion of macro ‘CHK’
     CHK(ext2_find_inote(fs, node->inode, &inode), "inode not exist");
     ^
In file included from fs/ext2/ext2.c:4:0:
./include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
fs/ext2/ext2.c:734:16: warning: pointer targets in passing argument 1 of ‘memcpy’ differ in signedness [-Wpointer-sign]
         memcpy(result[x].name, dir->name, dir->name_length);
                ^
In file included from ./include/str.h:9:0,
                 from fs/ext2/ext2.c:4:
./include/system.h:72:23: note: expected ‘unsigned char *’ but argument is of type ‘char *’
 extern unsigned char *memcpy(unsigned char *dest, const unsigned char *src, int count);
                       ^
fs/ext2/ext2.c:740:9: warning: suggest parentheses around assignment used as truth value [-Wparentheses]
         else if (dir->type_indicator = INODE_DIR_TYPE_INDICATOR_FILE)
         ^
fs/ext2/ext2.c:729:15: warning: unused variable ‘tmp_node’ [-Wunused-variable]
     fs_node_t tmp_node;
               ^
fs/ext2/ext2.c:728:18: warning: unused variable ‘cinode’ [-Wunused-variable]
     ext2_inode_t cinode;
                  ^
In file included from ./include/str.h:9:0,
                 from fs/ext2/ext2.c:4:
fs/ext2/ext2.c: In function ‘ext2_fs_node_finddir’:
./include/system.h:97:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
            ^
./fs/ext2/include/ext2.h:98:1: note: in expansion of macro ‘deprintf’
 deprintf("CHK::[%s] " #fun " Failed:" msg,__func__,##args);\
 ^
fs/ext2/ext2.c:760:5: note: in expansion of macro ‘CHK’
     CHK(ext2_find_inote(fs, node->inode, &inode), "inode not exist");
     ^
In file included from fs/ext2/ext2.c:4:0:
./include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/system.h:7:0,
                 from ./include/str.h:9,
                 from fs/ext2/ext2.c:4:
./dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
./include/system.h:97:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
                          ^
./fs/ext2/include/ext2.h:98:1: note: in expansion of macro ‘deprintf’
 deprintf("CHK::[%s] " #fun " Failed:" msg,__func__,##args);\
 ^
fs/ext2/ext2.c:760:5: note: in expansion of macro ‘CHK’
     CHK(ext2_find_inote(fs, node->inode, &inode), "inode not exist");
     ^
In file included from fs/ext2/ext2.c:4:0:
./include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
fs/ext2/ext2.c:768:16: warning: pointer targets in passing argument 1 of ‘memcpy’ differ in signedness [-Wpointer-sign]
         memcpy(sname, dir->name, dir->name_length);
                ^
In file included from ./include/str.h:9:0,
                 from fs/ext2/ext2.c:4:
./include/system.h:72:23: note: expected ‘unsigned char *’ but argument is of type ‘char *’
 extern unsigned char *memcpy(unsigned char *dest, const unsigned char *src, int count);
                       ^
fs/ext2/ext2.c:763:18: warning: unused variable ‘cinode’ [-Wunused-variable]
     ext2_inode_t cinode;
                  ^
fs/ext2/ext2.c: In function ‘ext2_fs_node_get_node’:
fs/ext2/ext2.c:790:5: warning: initialization makes integer from pointer without a cast
     TODO;
     ^
fs/ext2/ext2.c:790:5: warning: (near initialization for ‘(anonymous)[0]’)
In file included from ./include/str.h:9:0,
                 from fs/ext2/ext2.c:4:
fs/ext2/ext2.c: In function ‘ext2_fs_node_make’:
./include/system.h:97:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
            ^
fs/ext2/ext2.c:805:13: note: in expansion of macro ‘deprintf’
             deprintf("[ext2_fs_node_make]unknown type:%x", type);
             ^
In file included from fs/ext2/ext2.c:4:0:
./include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/system.h:7:0,
                 from ./include/str.h:9,
                 from fs/ext2/ext2.c:4:
./dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
./include/system.h:97:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
                          ^
fs/ext2/ext2.c:805:13: note: in expansion of macro ‘deprintf’
             deprintf("[ext2_fs_node_make]unknown type:%x", type);
             ^
In file included from fs/ext2/ext2.c:4:0:
./include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/str.h:9:0,
                 from fs/ext2/ext2.c:4:
./include/system.h:97:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
            ^
./fs/ext2/include/ext2.h:98:1: note: in expansion of macro ‘deprintf’
 deprintf("CHK::[%s] " #fun " Failed:" msg,__func__,##args);\
 ^
fs/ext2/ext2.c:809:5: note: in expansion of macro ‘CHK’
     CHK(ext2_make(fs, e2type, inode_id, name, &new_nnid), "make failed.");
     ^
In file included from fs/ext2/ext2.c:4:0:
./include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/system.h:7:0,
                 from ./include/str.h:9,
                 from fs/ext2/ext2.c:4:
./dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
./include/system.h:97:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
                          ^
./fs/ext2/include/ext2.h:98:1: note: in expansion of macro ‘deprintf’
 deprintf("CHK::[%s] " #fun " Failed:" msg,__func__,##args);\
 ^
fs/ext2/ext2.c:809:5: note: in expansion of macro ‘CHK’
     CHK(ext2_make(fs, e2type, inode_id, name, &new_nnid), "make failed.");
     ^
In file included from fs/ext2/ext2.c:4:0:
./include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from fs/ext2/ext2.c:9:0:
fs/ext2/ext2.c: In function ‘ext2_fs_node_mount’:
./include/kmalloc.h:25:21: warning: initialization makes pointer from integer without a cast
 #define kmalloc(sz) kmalloc_internal(sz,false,NULL,kernel_heap)
                     ^
fs/ext2/ext2.c:817:18: note: in expansion of macro ‘kmalloc’
     ext2_t *fs = kmalloc(sizeof(ext2_t));
                  ^
In file included from ./include/str.h:9:0,
                 from fs/ext2/ext2.c:4:
./include/system.h:97:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
            ^
./fs/ext2/include/ext2.h:98:1: note: in expansion of macro ‘deprintf’
 deprintf("CHK::[%s] " #fun " Failed:" msg,__func__,##args);\
 ^
fs/ext2/ext2.c:818:5: note: in expansion of macro ‘CHK’
     CHK(ext2_init(fs, dev), "[ext2]fail to mount");
     ^
In file included from fs/ext2/ext2.c:4:0:
./include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/system.h:7:0,
                 from ./include/str.h:9,
                 from fs/ext2/ext2.c:4:
./dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
./include/system.h:97:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
                          ^
./fs/ext2/include/ext2.h:98:1: note: in expansion of macro ‘deprintf’
 deprintf("CHK::[%s] " #fun " Failed:" msg,__func__,##args);\
 ^
fs/ext2/ext2.c:818:5: note: in expansion of macro ‘CHK’
     CHK(ext2_init(fs, dev), "[ext2]fail to mount");
     ^
In file included from fs/ext2/ext2.c:4:0:
./include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
fs/ext2/ext2.c: In function ‘ext2_create_fstype’:
fs/ext2/ext2.c:829:19: warning: assignment from incompatible pointer type
     ext2_fs.mount = ext2_fs_node_mount;
                   ^
fs/ext2/ext2.c:830:18: warning: assignment from incompatible pointer type
     ext2_fs.read = ext2_fs_node_read;
                  ^
fs/ext2/ext2.c:831:19: warning: assignment from incompatible pointer type
     ext2_fs.write = ext2_fs_node_write;
                   ^
fs/ext2/ext2.c:832:21: warning: assignment from incompatible pointer type
     ext2_fs.readdir = ext2_fs_node_readdir;
                     ^
fs/ext2/ext2.c:833:21: warning: assignment from incompatible pointer type
     ext2_fs.finddir = ext2_fs_node_finddir;
                     ^
In file included from ./include/str.h:9:0,
                 from fs/ext2/ext2.c:4:
fs/ext2/ext2.c: At top level:
./include/system.h:82:27: warning: inline function ‘itoa’ declared but never defined
 extern inline const char *itoa(int i, char result[]);
                           ^
./include/system.h:82:27: warning: inline function ‘itoa’ declared but never defined
In file included from fs/ext2/ext2.c:8:0:
./include/ide.h:14:20: warning: ‘outl’ declared ‘static’ but never defined [-Wunused-function]
 static inline void outl(uint32_t value, uint16_t port);
                    ^
./include/ide.h:16:24: warning: ‘inl’ declared ‘static’ but never defined [-Wunused-function]
 static inline uint32_t inl(uint16_t port);
                        ^
fs/ext2/ext2.c: In function ‘ext2_dir_iterator_exit’:
fs/ext2/ext2.c:145:1: warning: control reaches end of non-void function [-Wreturn-type]
 }
 ^
fs/ext2/ext2.c: In function ‘ext2_make’:
fs/ext2/ext2.c:371:5: warning: ‘blk’ may be used uninitialized in this function [-Wmaybe-uninitialized]
     kfree(blk);
     ^
fs/ext2/ext2.c:372:5: warning: ‘fblk’ may be used uninitialized in this function [-Wmaybe-uninitialized]
     kfree(fblk);
     ^
In file included from ./fs/ext2/include/ext2.h:8:0,
                 from fs/vfs/vfs.c:7:
./include/fs_node.h:19:39: warning: ‘struct fs_node’ declared inside parameter list
 typedef int32_t (*read_type_t)(struct fs_node *, __fs_special_t *fsp, uint32_t, uint32_t, uint8_t *);
                                       ^
./include/fs_node.h:19:39: warning: its scope is only this definition or declaration, which is probably not what you want
./include/fs_node.h:21:40: warning: ‘struct fs_node’ declared inside parameter list
 typedef int32_t (*write_type_t)(struct fs_node *, __fs_special_t *fsp, uint32_t, uint32_t, uint8_t *);
                                        ^
./include/fs_node.h:23:36: warning: ‘struct fs_node’ declared inside parameter list
 typedef void (*open_type_t)(struct fs_node *, __fs_special_t *fsp);
                                    ^
./include/fs_node.h:25:37: warning: ‘struct fs_node’ declared inside parameter list
 typedef void (*close_type_t)(struct fs_node *, __fs_special_t *fsp);
                                     ^
./include/fs_node.h:28:101: warning: ‘struct dirent’ declared inside parameter list
 typedef int32_t (*readdir_type_t)(struct fs_node *node, __fs_special_t *fsp, uint32_t count, struct dirent *result);
                                                                                                     ^
./include/fs_node.h:28:101: warning: ‘struct fs_node’ declared inside parameter list
./include/fs_node.h:30:95: warning: ‘struct fs_node’ declared inside parameter list
 typedef int (*finddir_type_t)(struct fs_node *, __fs_special_t *fsp, const char *name, struct fs_node *result_out);
                                                                                               ^
fs/vfs/vfs.c: In function ‘vfs_install’:
fs/vfs/vfs.c:27:12: warning: passing argument 1 of ‘memset’ from incompatible pointer type
     memset(mount_points, 0, sizeof(mount_point_t) * MAX_MOUNT_POINTS);
            ^
In file included from ./include/str.h:9:0,
                 from fs/vfs/vfs.c:5:
./include/system.h:76:23: note: expected ‘unsigned char *’ but argument is of type ‘struct mount_point_t *’
 extern unsigned char *memset(unsigned char *dest, unsigned char val, int count);
                       ^
fs/vfs/vfs.c:29:12: warning: passing argument 1 of ‘memset’ from incompatible pointer type
     memset(global_fh_table, 0, sizeof(file_handle_t) * MAX_FILE_HANDLES);
            ^
In file included from ./include/str.h:9:0,
                 from fs/vfs/vfs.c:5:
./include/system.h:76:23: note: expected ‘unsigned char *’ but argument is of type ‘struct file_handle_t *’
 extern unsigned char *memset(unsigned char *dest, unsigned char val, int count);
                       ^
fs/vfs/vfs.c: In function ‘vfs_init’:
fs/vfs/vfs.c:34:12: warning: passing argument 1 of ‘memset’ from incompatible pointer type
     memset(vfs, 0, sizeof(vfs_t));
            ^
In file included from ./include/str.h:9:0,
                 from fs/vfs/vfs.c:5:
./include/system.h:76:23: note: expected ‘unsigned char *’ but argument is of type ‘struct vfs_t *’
 extern unsigned char *memset(unsigned char *dest, unsigned char val, int count);
                       ^
fs/vfs/vfs.c: In function ‘vfs_find_mount_point’:
fs/vfs/vfs.c:50:26: warning: assignment discards ‘const’ qualifier from pointer target type
         *relatively_path = path + maxpathlen;
                          ^
In file included from ./include/str.h:9:0,
                 from fs/vfs/vfs.c:5:
./include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
fs/vfs/vfs.c:52:9: note: in expansion of macro ‘dprintf’
         dprintf("%s fs not found!", path);
         ^
In file included from fs/vfs/vfs.c:5:0:
./include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/system.h:7:0,
                 from ./include/str.h:9,
                 from fs/vfs/vfs.c:5:
./dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
./include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
fs/vfs/vfs.c:52:9: note: in expansion of macro ‘dprintf’
         dprintf("%s fs not found!", path);
         ^
In file included from fs/vfs/vfs.c:5:0:
./include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/str.h:9:0,
                 from fs/vfs/vfs.c:5:
./include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
fs/vfs/vfs.c:55:9: note: in expansion of macro ‘dprintf’
         dprintf("%s fs:%s rpath:%s", path, mp->fs->name, *relatively_path);
         ^
In file included from fs/vfs/vfs.c:5:0:
./include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/system.h:7:0,
                 from ./include/str.h:9,
                 from fs/vfs/vfs.c:5:
./dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
./include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
fs/vfs/vfs.c:55:9: note: in expansion of macro ‘dprintf’
         dprintf("%s fs:%s rpath:%s", path, mp->fs->name, *relatively_path);
         ^
In file included from fs/vfs/vfs.c:5:0:
./include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
fs/vfs/vfs.c: In function ‘vfs_cpynode’:
fs/vfs/vfs.c:62:12: warning: passing argument 1 of ‘memcpy’ from incompatible pointer type
     memcpy(target, src, sizeof(fs_node_t));
            ^
In file included from ./include/str.h:9:0,
                 from fs/vfs/vfs.c:5:
./include/system.h:72:23: note: expected ‘unsigned char *’ but argument is of type ‘struct fs_node_t *’
 extern unsigned char *memcpy(unsigned char *dest, const unsigned char *src, int count);
                       ^
fs/vfs/vfs.c:62:20: warning: passing argument 2 of ‘memcpy’ from incompatible pointer type
     memcpy(target, src, sizeof(fs_node_t));
                    ^
In file included from ./include/str.h:9:0,
                 from fs/vfs/vfs.c:5:
./include/system.h:72:23: note: expected ‘const unsigned char *’ but argument is of type ‘struct fs_node_t *’
 extern unsigned char *memcpy(unsigned char *dest, const unsigned char *src, int count);
                       ^
fs/vfs/vfs.c: In function ‘vfs_get_node’:
./include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
fs/vfs/vfs.c:67:5: note: in expansion of macro ‘dprintf’
     dprintf("target:%s", path);
     ^
In file included from fs/vfs/vfs.c:5:0:
./include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/system.h:7:0,
                 from ./include/str.h:9,
                 from fs/vfs/vfs.c:5:
./dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
./include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
fs/vfs/vfs.c:67:5: note: in expansion of macro ‘dprintf’
     dprintf("target:%s", path);
     ^
In file included from fs/vfs/vfs.c:5:0:
./include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/str.h:9:0,
                 from fs/vfs/vfs.c:5:
./include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
fs/vfs/vfs.c:76:9: note: in expansion of macro ‘dprintf’
         dprintf("mount point not found:%s", path);
         ^
In file included from fs/vfs/vfs.c:5:0:
./include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/system.h:7:0,
                 from ./include/str.h:9,
                 from fs/vfs/vfs.c:5:
./dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
./include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
fs/vfs/vfs.c:76:9: note: in expansion of macro ‘dprintf’
         dprintf("mount point not found:%s", path);
         ^
In file included from fs/vfs/vfs.c:5:0:
./include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/str.h:9:0,
                 from fs/vfs/vfs.c:5:
./include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
fs/vfs/vfs.c:80:9: note: in expansion of macro ‘dprintf’
         dprintf("cd to root");
         ^
In file included from fs/vfs/vfs.c:5:0:
./include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/system.h:7:0,
                 from ./include/str.h:9,
                 from fs/vfs/vfs.c:5:
./dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
./include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
fs/vfs/vfs.c:80:9: note: in expansion of macro ‘dprintf’
         dprintf("cd to root");
         ^
In file included from fs/vfs/vfs.c:5:0:
./include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
fs/vfs/vfs.c:91:20: warning: pointer targets in passing argument 1 of ‘memcpy’ differ in signedness [-Wpointer-sign]
             memcpy(name, &rpath[x], len);
                    ^
In file included from ./include/str.h:9:0,
                 from fs/vfs/vfs.c:5:
./include/system.h:72:23: note: expected ‘unsigned char *’ but argument is of type ‘char *’
 extern unsigned char *memcpy(unsigned char *dest, const unsigned char *src, int count);
                       ^
fs/vfs/vfs.c:91:26: warning: pointer targets in passing argument 2 of ‘memcpy’ differ in signedness [-Wpointer-sign]
             memcpy(name, &rpath[x], len);
                          ^
In file included from ./include/str.h:9:0,
                 from fs/vfs/vfs.c:5:
./include/system.h:72:23: note: expected ‘const unsigned char *’ but argument is of type ‘char *’
 extern unsigned char *memcpy(unsigned char *dest, const unsigned char *src, int count);
                       ^
fs/vfs/vfs.c:95:20: warning: pointer targets in passing argument 1 of ‘memcpy’ differ in signedness [-Wpointer-sign]
             memcpy(name, &rpath[x], len);
                    ^
In file included from ./include/str.h:9:0,
                 from fs/vfs/vfs.c:5:
./include/system.h:72:23: note: expected ‘unsigned char *’ but argument is of type ‘char *’
 extern unsigned char *memcpy(unsigned char *dest, const unsigned char *src, int count);
                       ^
fs/vfs/vfs.c:95:26: warning: pointer targets in passing argument 2 of ‘memcpy’ differ in signedness [-Wpointer-sign]
             memcpy(name, &rpath[x], len);
                          ^
In file included from ./include/str.h:9:0,
                 from fs/vfs/vfs.c:5:
./include/system.h:72:23: note: expected ‘const unsigned char *’ but argument is of type ‘char *’
 extern unsigned char *memcpy(unsigned char *dest, const unsigned char *src, int count);
                       ^
./include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
fs/vfs/vfs.c:98:9: note: in expansion of macro ‘dprintf’
         dprintf("cd fn:%s", name);
         ^
In file included from fs/vfs/vfs.c:5:0:
./include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/system.h:7:0,
                 from ./include/str.h:9,
                 from fs/vfs/vfs.c:5:
./dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
./include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
fs/vfs/vfs.c:98:9: note: in expansion of macro ‘dprintf’
         dprintf("cd fn:%s", name);
         ^
In file included from fs/vfs/vfs.c:5:0:
./include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
fs/vfs/vfs.c:100:29: warning: passing argument 1 of ‘mp->fs->finddir’ from incompatible pointer type
         if (mp->fs->finddir(&cur, mp->fsp, name, &tmp)) {
                             ^
fs/vfs/vfs.c:100:29: note: expected ‘struct fs_node *’ but argument is of type ‘struct fs_node_t *’
fs/vfs/vfs.c:100:50: warning: passing argument 4 of ‘mp->fs->finddir’ from incompatible pointer type
         if (mp->fs->finddir(&cur, mp->fsp, name, &tmp)) {
                                                  ^
fs/vfs/vfs.c:100:50: note: expected ‘struct fs_node *’ but argument is of type ‘struct fs_node_t *’
In file included from ./include/str.h:9:0,
                 from fs/vfs/vfs.c:5:
./include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
fs/vfs/vfs.c:101:13: note: in expansion of macro ‘dprintf’
             dprintf("obj not found:%s", name);
             ^
In file included from fs/vfs/vfs.c:5:0:
./include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/system.h:7:0,
                 from ./include/str.h:9,
                 from fs/vfs/vfs.c:5:
./dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
./include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
fs/vfs/vfs.c:101:13: note: in expansion of macro ‘dprintf’
             dprintf("obj not found:%s", name);
             ^
In file included from fs/vfs/vfs.c:5:0:
./include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/str.h:9:0,
                 from fs/vfs/vfs.c:5:
fs/vfs/vfs.c: In function ‘vfs_cd’:
./include/system.h:97:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
            ^
fs/vfs/vfs.c:113:9: note: in expansion of macro ‘deprintf’
         deprintf("no such file or dir:%s", path);
         ^
In file included from fs/vfs/vfs.c:5:0:
./include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/system.h:7:0,
                 from ./include/str.h:9,
                 from fs/vfs/vfs.c:5:
./dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
./include/system.h:97:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
                          ^
fs/vfs/vfs.c:113:9: note: in expansion of macro ‘deprintf’
         deprintf("no such file or dir:%s", path);
         ^
In file included from fs/vfs/vfs.c:5:0:
./include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/str.h:9:0,
                 from fs/vfs/vfs.c:5:
./include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
fs/vfs/vfs.c:117:9: note: in expansion of macro ‘dprintf’
         dprintf("cd to dir:%s", path);
         ^
In file included from fs/vfs/vfs.c:5:0:
./include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/system.h:7:0,
                 from ./include/str.h:9,
                 from fs/vfs/vfs.c:5:
./dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
./include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
fs/vfs/vfs.c:117:9: note: in expansion of macro ‘dprintf’
         dprintf("cd to dir:%s", path);
         ^
In file included from fs/vfs/vfs.c:5:0:
./include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/str.h:9:0,
                 from fs/vfs/vfs.c:5:
./include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
fs/vfs/vfs.c:120:9: note: in expansion of macro ‘dprintf’
         dprintf("cd to file:%s", path);
         ^
In file included from fs/vfs/vfs.c:5:0:
./include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/system.h:7:0,
                 from ./include/str.h:9,
                 from fs/vfs/vfs.c:5:
./dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
./include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
fs/vfs/vfs.c:120:9: note: in expansion of macro ‘dprintf’
         dprintf("cd to file:%s", path);
         ^
In file included from fs/vfs/vfs.c:5:0:
./include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/str.h:9:0,
                 from fs/vfs/vfs.c:5:
./include/system.h:97:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
            ^
fs/vfs/vfs.c:122:9: note: in expansion of macro ‘deprintf’
         deprintf("cd to unknown thing(%x):%s", vfs->current.flags, path);
         ^
In file included from fs/vfs/vfs.c:5:0:
./include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/system.h:7:0,
                 from ./include/str.h:9,
                 from fs/vfs/vfs.c:5:
./dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
./include/system.h:97:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
                          ^
fs/vfs/vfs.c:122:9: note: in expansion of macro ‘deprintf’
         deprintf("cd to unknown thing(%x):%s", vfs->current.flags, path);
         ^
In file included from fs/vfs/vfs.c:5:0:
./include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/str.h:9:0,
                 from fs/vfs/vfs.c:5:
./include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
fs/vfs/vfs.c:124:5: note: in expansion of macro ‘dprintf’
     dprintf("%s inode:%x", path, vfs->current.inode);
     ^
In file included from fs/vfs/vfs.c:5:0:
./include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/system.h:7:0,
                 from ./include/str.h:9,
                 from fs/vfs/vfs.c:5:
./dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
./include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
fs/vfs/vfs.c:124:5: note: in expansion of macro ‘dprintf’
     dprintf("%s inode:%x", path, vfs->current.inode);
     ^
In file included from fs/vfs/vfs.c:5:0:
./include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/str.h:9:0,
                 from fs/vfs/vfs.c:5:
fs/vfs/vfs.c: In function ‘vfs_mount’:
./include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
fs/vfs/vfs.c:135:5: note: in expansion of macro ‘dprintf’
     dprintf("root inode:%x", mp->root.inode);
     ^
In file included from fs/vfs/vfs.c:5:0:
./include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/system.h:7:0,
                 from ./include/str.h:9,
                 from fs/vfs/vfs.c:5:
./dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
./include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
fs/vfs/vfs.c:135:5: note: in expansion of macro ‘dprintf’
     dprintf("root inode:%x", mp->root.inode);
     ^
In file included from fs/vfs/vfs.c:5:0:
./include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/str.h:9:0,
                 from fs/vfs/vfs.c:5:
./include/system.h:97:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
            ^
fs/vfs/vfs.c:137:9: note: in expansion of macro ‘deprintf’
         deprintf("fail to mount %s to %s", fs->name, path);
         ^
In file included from fs/vfs/vfs.c:5:0:
./include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/system.h:7:0,
                 from ./include/str.h:9,
                 from fs/vfs/vfs.c:5:
./dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
./include/system.h:97:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
                          ^
fs/vfs/vfs.c:137:9: note: in expansion of macro ‘deprintf’
         deprintf("fail to mount %s to %s", fs->name, path);
         ^
In file included from fs/vfs/vfs.c:5:0:
./include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/str.h:9:0,
                 from fs/vfs/vfs.c:5:
./include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
fs/vfs/vfs.c:143:5: note: in expansion of macro ‘dprintf’
     dprintf("%s mount to %s", fs->name, path);
     ^
In file included from fs/vfs/vfs.c:5:0:
./include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/system.h:7:0,
                 from ./include/str.h:9,
                 from fs/vfs/vfs.c:5:
./dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
./include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
fs/vfs/vfs.c:143:5: note: in expansion of macro ‘dprintf’
     dprintf("%s mount to %s", fs->name, path);
     ^
In file included from fs/vfs/vfs.c:5:0:
./include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/str.h:9:0,
                 from fs/vfs/vfs.c:5:
fs/vfs/vfs.c: In function ‘vfs_ls’:
./include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
fs/vfs/vfs.c:151:9: note: in expansion of macro ‘dprintf’
         dprintf("mount point not found:%s", vfs->path);
         ^
In file included from fs/vfs/vfs.c:5:0:
./include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/system.h:7:0,
                 from ./include/str.h:9,
                 from fs/vfs/vfs.c:5:
./dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
./include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
fs/vfs/vfs.c:151:9: note: in expansion of macro ‘dprintf’
         dprintf("mount point not found:%s", vfs->path);
         ^
In file included from fs/vfs/vfs.c:5:0:
./include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
fs/vfs/vfs.c:154:28: warning: passing argument 1 of ‘mp->fs->readdir’ from incompatible pointer type
     return mp->fs->readdir(&vfs->current_dir, mp->fsp, max_count, dirs);
                            ^
fs/vfs/vfs.c:154:28: note: expected ‘struct fs_node *’ but argument is of type ‘struct fs_node_t *’
fs/vfs/vfs.c:154:67: warning: passing argument 4 of ‘mp->fs->readdir’ from incompatible pointer type
     return mp->fs->readdir(&vfs->current_dir, mp->fsp, max_count, dirs);
                                                                   ^
fs/vfs/vfs.c:154:67: note: expected ‘struct dirent *’ but argument is of type ‘struct dirent_t *’
In file included from ./include/str.h:9:0,
                 from fs/vfs/vfs.c:5:
fs/vfs/vfs.c: In function ‘vfs_make’:
./include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
fs/vfs/vfs.c:162:9: note: in expansion of macro ‘dprintf’
         dprintf("mount point not found:%s", vfs->path);
         ^
In file included from fs/vfs/vfs.c:5:0:
./include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/system.h:7:0,
                 from ./include/str.h:9,
                 from fs/vfs/vfs.c:5:
./dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
./include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
fs/vfs/vfs.c:162:9: note: in expansion of macro ‘dprintf’
         dprintf("mount point not found:%s", vfs->path);
         ^
In file included from fs/vfs/vfs.c:5:0:
./include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
fs/vfs/vfs.c:165:59: warning: passing argument 4 of ‘mp->fs->make’ discards ‘const’ qualifier from pointer target type
     return mp->fs->make(&vfs->current_dir, mp->fsp, type, name);
                                                           ^
fs/vfs/vfs.c:165:59: note: expected ‘char *’ but argument is of type ‘const char *’
In file included from ./include/str.h:9:0,
                 from fs/vfs/vfs.c:5:
fs/vfs/vfs.c: In function ‘vfs_read’:
./include/system.h:97:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
            ^
fs/vfs/vfs.c:180:9: note: in expansion of macro ‘deprintf’
         deprintf("mount point not found:%s", vfs->path);
         ^
In file included from fs/vfs/vfs.c:5:0:
./include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/system.h:7:0,
                 from ./include/str.h:9,
                 from fs/vfs/vfs.c:5:
./dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
./include/system.h:97:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
                          ^
fs/vfs/vfs.c:180:9: note: in expansion of macro ‘deprintf’
         deprintf("mount point not found:%s", vfs->path);
         ^
In file included from fs/vfs/vfs.c:5:0:
./include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/str.h:9:0,
                 from fs/vfs/vfs.c:5:
./include/system.h:97:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
            ^
fs/vfs/vfs.c:184:9: note: in expansion of macro ‘deprintf’
         deprintf("try to read a directory or something else:%s", vfs->path);
         ^
In file included from fs/vfs/vfs.c:5:0:
./include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/system.h:7:0,
                 from ./include/str.h:9,
                 from fs/vfs/vfs.c:5:
./dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
./include/system.h:97:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
                          ^
fs/vfs/vfs.c:184:9: note: in expansion of macro ‘deprintf’
         deprintf("try to read a directory or something else:%s", vfs->path);
         ^
In file included from fs/vfs/vfs.c:5:0:
./include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
fs/vfs/vfs.c:187:25: warning: passing argument 1 of ‘mp->fs->read’ from incompatible pointer type
     return mp->fs->read(&vfs->current, mp->fsp, offset, size, buff);
                         ^
fs/vfs/vfs.c:187:25: note: expected ‘struct fs_node *’ but argument is of type ‘struct fs_node_t *’
In file included from ./include/str.h:9:0,
                 from fs/vfs/vfs.c:5:
fs/vfs/vfs.c: In function ‘vfs_write’:
./include/system.h:97:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
            ^
fs/vfs/vfs.c:194:9: note: in expansion of macro ‘deprintf’
         deprintf("mount point not found:%s", vfs->path);
         ^
In file included from fs/vfs/vfs.c:5:0:
./include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/system.h:7:0,
                 from ./include/str.h:9,
                 from fs/vfs/vfs.c:5:
./dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
./include/system.h:97:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
                          ^
fs/vfs/vfs.c:194:9: note: in expansion of macro ‘deprintf’
         deprintf("mount point not found:%s", vfs->path);
         ^
In file included from fs/vfs/vfs.c:5:0:
./include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/str.h:9:0,
                 from fs/vfs/vfs.c:5:
./include/system.h:97:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
            ^
fs/vfs/vfs.c:198:9: note: in expansion of macro ‘deprintf’
         deprintf("try to write a directory or something else:%s", vfs->path);
         ^
In file included from fs/vfs/vfs.c:5:0:
./include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/system.h:7:0,
                 from ./include/str.h:9,
                 from fs/vfs/vfs.c:5:
./dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
./include/system.h:97:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
                          ^
fs/vfs/vfs.c:198:9: note: in expansion of macro ‘deprintf’
         deprintf("try to write a directory or something else:%s", vfs->path);
         ^
In file included from fs/vfs/vfs.c:5:0:
./include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
fs/vfs/vfs.c:201:26: warning: passing argument 1 of ‘mp->fs->write’ from incompatible pointer type
     return mp->fs->write(&vfs->current, mp->fsp, offset, size, buff);
                          ^
fs/vfs/vfs.c:201:26: note: expected ‘struct fs_node *’ but argument is of type ‘struct fs_node_t *’
In file included from ./include/str.h:9:0,
                 from fs/vfs/vfs.c:5:
fs/vfs/vfs.c: In function ‘vfs_rm’:
./include/system.h:97:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
            ^
fs/vfs/vfs.c:208:9: note: in expansion of macro ‘deprintf’
         deprintf("mount point not found:%s", vfs->path);
         ^
In file included from fs/vfs/vfs.c:5:0:
./include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/system.h:7:0,
                 from ./include/str.h:9,
                 from fs/vfs/vfs.c:5:
./dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
./include/system.h:97:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
                          ^
fs/vfs/vfs.c:208:9: note: in expansion of macro ‘deprintf’
         deprintf("mount point not found:%s", vfs->path);
         ^
In file included from fs/vfs/vfs.c:5:0:
./include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/str.h:9:0,
                 from fs/vfs/vfs.c:5:
fs/vfs/vfs.c: In function ‘sys_open’:
./include/system.h:97:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
            ^
fs/vfs/vfs.c:226:9: note: in expansion of macro ‘deprintf’
         deprintf("cannot open more than %x files.", MAX_FILE_HANDLES);
         ^
In file included from fs/vfs/vfs.c:5:0:
./include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/system.h:7:0,
                 from ./include/str.h:9,
                 from fs/vfs/vfs.c:5:
./dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
./include/system.h:97:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
                          ^
fs/vfs/vfs.c:226:9: note: in expansion of macro ‘deprintf’
         deprintf("cannot open more than %x files.", MAX_FILE_HANDLES);
         ^
In file included from fs/vfs/vfs.c:5:0:
./include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/str.h:9:0,
                 from fs/vfs/vfs.c:5:
./include/system.h:97:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
            ^
fs/vfs/vfs.c:231:9: note: in expansion of macro ‘deprintf’
         deprintf("no such file or dir:%s", name);
         ^
In file included from fs/vfs/vfs.c:5:0:
./include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/system.h:7:0,
                 from ./include/str.h:9,
                 from fs/vfs/vfs.c:5:
./dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
./include/system.h:97:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
                          ^
fs/vfs/vfs.c:231:9: note: in expansion of macro ‘deprintf’
         deprintf("no such file or dir:%s", name);
         ^
In file included from fs/vfs/vfs.c:5:0:
./include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/str.h:9:0,
                 from fs/vfs/vfs.c:5:
./include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
fs/vfs/vfs.c:235:9: note: in expansion of macro ‘dprintf’
         dprintf("mount point not found:%s", path);
         ^
In file included from fs/vfs/vfs.c:5:0:
./include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/system.h:7:0,
                 from ./include/str.h:9,
                 from fs/vfs/vfs.c:5:
./dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
./include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
fs/vfs/vfs.c:235:9: note: in expansion of macro ‘dprintf’
         dprintf("mount point not found:%s", path);
         ^
In file included from fs/vfs/vfs.c:5:0:
./include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/str.h:9:0,
                 from fs/vfs/vfs.c:5:
./include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
fs/vfs/vfs.c:241:5: note: in expansion of macro ‘dprintf’
     dprintf("proc %x open %s fd:%x", getpid(), path, fd);
     ^
In file included from fs/vfs/vfs.c:5:0:
./include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/system.h:7:0,
                 from ./include/str.h:9,
                 from fs/vfs/vfs.c:5:
./dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
./include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
fs/vfs/vfs.c:241:5: note: in expansion of macro ‘dprintf’
     dprintf("proc %x open %s fd:%x", getpid(), path, fd);
     ^
In file included from fs/vfs/vfs.c:5:0:
./include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/str.h:9:0,
                 from fs/vfs/vfs.c:5:
fs/vfs/vfs.c: In function ‘sys_close’:
./include/system.h:97:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
            ^
fs/vfs/vfs.c:248:9: note: in expansion of macro ‘deprintf’
         deprintf("cannot close a closed file:%x", fd);
         ^
In file included from fs/vfs/vfs.c:5:0:
./include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/system.h:7:0,
                 from ./include/str.h:9,
                 from fs/vfs/vfs.c:5:
./dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
./include/system.h:97:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
                          ^
fs/vfs/vfs.c:248:9: note: in expansion of macro ‘deprintf’
         deprintf("cannot close a closed file:%x", fd);
         ^
In file included from fs/vfs/vfs.c:5:0:
./include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/str.h:9:0,
                 from fs/vfs/vfs.c:5:
fs/vfs/vfs.c: In function ‘kread’:
./include/system.h:97:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
            ^
fs/vfs/vfs.c:259:9: note: in expansion of macro ‘deprintf’
         deprintf("fd %x not present.", fd);
         ^
In file included from fs/vfs/vfs.c:5:0:
./include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/system.h:7:0,
                 from ./include/str.h:9,
                 from fs/vfs/vfs.c:5:
./dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
./include/system.h:97:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
                          ^
fs/vfs/vfs.c:259:9: note: in expansion of macro ‘deprintf’
         deprintf("fd %x not present.", fd);
         ^
In file included from fs/vfs/vfs.c:5:0:
./include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/str.h:9:0,
                 from fs/vfs/vfs.c:5:
./include/system.h:97:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
            ^
fs/vfs/vfs.c:263:9: note: in expansion of macro ‘deprintf’
         deprintf("[%x]mount point not found.", fd);
         ^
In file included from fs/vfs/vfs.c:5:0:
./include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from ./include/system.h:7:0,
                 from ./include/str.h:9,
                 from fs/vfs/vfs.c:5:
./dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
./include/system.h:97:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
                          ^
fs/vfs/vfs.c:263:9: note: in expansion of macro ‘deprintf’
         deprintf("[%x]mount point not found.", fd);
         ^
In file included from fs/vfs/vfs.c:5:0:
./include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
fs/vfs/vfs.c:266:36: warning: passing argument 1 of ‘fh->mp->fs->read’ from incompatible pointer type
     int32_t ret = fh->mp->fs->read(&fh->node, fh->mp->fsp, fh->offset, size, buff);
                                    ^
fs/vfs/vfs.c:266:36: note: expected ‘struct fs_node *’ but argument is of type ‘struct fs_node_t *’
In file included from ./include/system.h:4:0,
                 from ./include/str.h:9,
                 from fs/vfs/vfs.c:5:
fs/vfs/vfs.c: In function ‘vfs_test’:
fs/vfs/vfs.c:289:10: warning: pointer targets in passing argument 2 of ‘strformat’ differ in signedness [-Wpointer-sign]
     putf(d);
          ^
./include/screen.h:37:17: note: in definition of macro ‘putnf’
  strformat(data,fmt,##args);\
                 ^
fs/vfs/vfs.c:289:5: note: in expansion of macro ‘putf’
     putf(d);
     ^
In file included from fs/vfs/vfs.c:5:0:
./include/str.h:15:6: note: expected ‘const char *’ but argument is of type ‘uchar_t *’
 uint strformat(char *out, const char *fmt, ...);
      ^
fs/vfs/vfs.c: In function ‘vfs_test_old’:
fs/vfs/vfs.c:309:12: warning: pointer targets in passing argument 1 of ‘memset’ differ in signedness [-Wpointer-sign]
     memset(bigneko, 'H', size);
            ^
In file included from ./include/str.h:9:0,
                 from fs/vfs/vfs.c:5:
./include/system.h:76:23: note: expected ‘unsigned char *’ but argument is of type ‘char *’
 extern unsigned char *memset(unsigned char *dest, unsigned char val, int count);
                       ^
fs/vfs/vfs.c:310:41: warning: pointer targets in passing argument 4 of ‘vfs_write’ differ in signedness [-Wpointer-sign]
     int32_t a = vfs_write(&test, 0, 10, bigneko);
                                         ^
fs/vfs/vfs.c:190:9: note: expected ‘uchar_t *’ but argument is of type ‘char *’
 int32_t vfs_write(vfs_t *vfs, uint32_t offset, uint32_t size, uchar_t *buff) {
         ^
fs/vfs/vfs.c:315:12: warning: pointer targets in passing argument 1 of ‘memset’ differ in signedness [-Wpointer-sign]
     memset(bigneko, 'P', size);
            ^
In file included from ./include/str.h:9:0,
                 from fs/vfs/vfs.c:5:
./include/system.h:76:23: note: expected ‘unsigned char *’ but argument is of type ‘char *’
 extern unsigned char *memset(unsigned char *dest, unsigned char val, int count);
                       ^
fs/vfs/vfs.c:316:34: warning: pointer targets in passing argument 4 of ‘vfs_write’ differ in signedness [-Wpointer-sign]
     a = vfs_write(&test, 10, 10, bigneko);
                                  ^
fs/vfs/vfs.c:190:9: note: expected ‘uchar_t *’ but argument is of type ‘char *’
 int32_t vfs_write(vfs_t *vfs, uint32_t offset, uint32_t size, uchar_t *buff) {
         ^
fs/vfs/vfs.c:319:12: warning: pointer targets in passing argument 1 of ‘memset’ differ in signedness [-Wpointer-sign]
     memset(nya, 0, 2032);
            ^
In file included from ./include/str.h:9:0,
                 from fs/vfs/vfs.c:5:
./include/system.h:76:23: note: expected ‘unsigned char *’ but argument is of type ‘char *’
 extern unsigned char *memset(unsigned char *dest, unsigned char val, int count);
                       ^
fs/vfs/vfs.c:320:39: warning: pointer targets in passing argument 4 of ‘vfs_read’ differ in signedness [-Wpointer-sign]
     int ret = vfs_read(&test, 10, 10, nya);
                                       ^
fs/vfs/vfs.c:176:9: note: expected ‘uchar_t *’ but argument is of type ‘char *’
 int32_t vfs_read(vfs_t *vfs, uint32_t offset, uint32_t size, uchar_t *buff) {
         ^
In file included from ./include/str.h:9:0,
                 from fs/vfs/vfs.c:5:
fs/vfs/vfs.c: At top level:
./include/system.h:82:27: warning: inline function ‘itoa’ declared but never defined
 extern inline const char *itoa(int i, char result[]);
                           ^
./include/system.h:82:27: warning: inline function ‘itoa’ declared but never defined
fs/vfs/vfs.c: In function ‘vfs_cpynode’:
fs/vfs/vfs.c:63:1: warning: control reaches end of non-void function [-Wreturn-type]
 }
 ^
fs/vfs/vfs.c: In function ‘sys_read’:
fs/vfs/vfs.c:273:1: warning: control reaches end of non-void function [-Wreturn-type]
 }
 ^
In file included from ./fs/vfs/include/vfs.h:9:0,
                 from exec/elf/elfloader.c:5:
./include/fs_node.h:19:39: warning: ‘struct fs_node’ declared inside parameter list
 typedef int32_t (*read_type_t)(struct fs_node *, __fs_special_t *fsp, uint32_t, uint32_t, uint8_t *);
                                       ^
./include/fs_node.h:19:39: warning: its scope is only this definition or declaration, which is probably not what you want
./include/fs_node.h:21:40: warning: ‘struct fs_node’ declared inside parameter list
 typedef int32_t (*write_type_t)(struct fs_node *, __fs_special_t *fsp, uint32_t, uint32_t, uint8_t *);
                                        ^
./include/fs_node.h:23:36: warning: ‘struct fs_node’ declared inside parameter list
 typedef void (*open_type_t)(struct fs_node *, __fs_special_t *fsp);
                                    ^
./include/fs_node.h:25:37: warning: ‘struct fs_node’ declared inside parameter list
 typedef void (*close_type_t)(struct fs_node *, __fs_special_t *fsp);
                                     ^
./include/fs_node.h:28:101: warning: ‘struct dirent’ declared inside parameter list
 typedef int32_t (*readdir_type_t)(struct fs_node *node, __fs_special_t *fsp, uint32_t count, struct dirent *result);
                                                                                                     ^
./include/fs_node.h:28:101: warning: ‘struct fs_node’ declared inside parameter list
./include/fs_node.h:30:95: warning: ‘struct fs_node’ declared inside parameter list
 typedef int (*finddir_type_t)(struct fs_node *, __fs_special_t *fsp, const char *name, struct fs_node *result_out);
                                                                                               ^
In file included from ./fs/vfs/include/vfs.h:8:0,
                 from exec/elf/elfloader.c:5:
./include/system.h:82:27: warning: inline function ‘itoa’ declared but never defined
 extern inline const char *itoa(int i, char result[]);
                           ^
./include/system.h:82:27: warning: inline function ‘itoa’ declared but never defined
make: *** [all] Interrupt
