/home/dcat/osdev/w2/contious_heap.c: In function ‘halloc’:
/home/dcat/osdev/w2/contious_heap.c:60:24: warning: suggest parentheses around ‘-’ in operand of ‘&’ [-Wparentheses]
         size += 0x1000 - hinfo->addr & 0xFFF;
                        ^
In file included from /home/dcat/osdev/w2/include/system.h:4:0,
                 from /home/dcat/osdev/w2/include/contious_heap.h:8,
                 from /home/dcat/osdev/w2/contious_heap.c:5:
/home/dcat/osdev/w2/contious_heap.c: In function ‘hfree’:
/home/dcat/osdev/w2/contious_heap.c:147:49: warning: passing argument 1 of ‘puthex’ makes integer from pointer without a cast
                 dumphex("combine next header:", next_header);
                                                 ^
/home/dcat/osdev/w2/include/screen.h:29:12: note: in definition of macro ‘dumphex’
     puthex(x); \
            ^
/home/dcat/osdev/w2/include/screen.h:55:6: note: expected ‘uint32_t’ but argument is of type ‘struct hole_header_t *’
 void puthex(uint32_t n);
      ^
In file included from /home/dcat/osdev/w2/include/contious_heap.h:8:0,
                 from /home/dcat/osdev/w2/contious_heap.c:5:
/home/dcat/osdev/w2/contious_heap.c: At top level:
/home/dcat/osdev/w2/include/system.h:82:27: warning: inline function ‘itoa’ declared but never defined
 extern inline const char *itoa(int i, char result[]);
                           ^
/home/dcat/osdev/w2/include/system.h:82:27: warning: inline function ‘itoa’ declared but never defined
In file included from /home/dcat/osdev/w2/fs_node.c:5:0:
/home/dcat/osdev/w2/include/fs_node.h:19:39: warning: ‘struct fs_node’ declared inside parameter list
 typedef int32_t (*read_type_t)(struct fs_node *, __fs_special_t *fsp, uint32_t, uint32_t, uint8_t *);
                                       ^
/home/dcat/osdev/w2/include/fs_node.h:19:39: warning: its scope is only this definition or declaration, which is probably not what you want
/home/dcat/osdev/w2/include/fs_node.h:21:40: warning: ‘struct fs_node’ declared inside parameter list
 typedef int32_t (*write_type_t)(struct fs_node *, __fs_special_t *fsp, uint32_t, uint32_t, uint8_t *);
                                        ^
/home/dcat/osdev/w2/include/fs_node.h:23:36: warning: ‘struct fs_node’ declared inside parameter list
 typedef void (*open_type_t)(struct fs_node *, __fs_special_t *fsp);
                                    ^
/home/dcat/osdev/w2/include/fs_node.h:25:37: warning: ‘struct fs_node’ declared inside parameter list
 typedef void (*close_type_t)(struct fs_node *, __fs_special_t *fsp);
                                     ^
/home/dcat/osdev/w2/include/fs_node.h:28:101: warning: ‘struct dirent’ declared inside parameter list
 typedef int32_t (*readdir_type_t)(struct fs_node *node, __fs_special_t *fsp, uint32_t count, struct dirent *result);
                                                                                                     ^
/home/dcat/osdev/w2/include/fs_node.h:28:101: warning: ‘struct fs_node’ declared inside parameter list
/home/dcat/osdev/w2/include/fs_node.h:30:95: warning: ‘struct fs_node’ declared inside parameter list
 typedef int (*finddir_type_t)(struct fs_node *, __fs_special_t *fsp, const char *name, struct fs_node *result_out);
                                                                                               ^
In file included from /home/dcat/osdev/w2/include/fs_node.h:8:0,
                 from /home/dcat/osdev/w2/fs_node.c:5:
/home/dcat/osdev/w2/include/system.h:82:27: warning: inline function ‘itoa’ declared but never defined
 extern inline const char *itoa(int i, char result[]);
                           ^
/home/dcat/osdev/w2/include/system.h:82:27: warning: inline function ‘itoa’ declared but never defined
/home/dcat/osdev/w2/fs_node.c: In function ‘read_fs’:
/home/dcat/osdev/w2/fs_node.c:8:1: warning: control reaches end of non-void function [-Wreturn-type]
 }
 ^
/home/dcat/osdev/w2/fs_node.c: In function ‘write_fs’:
/home/dcat/osdev/w2/fs_node.c:11:1: warning: control reaches end of non-void function [-Wreturn-type]
 }
 ^
/home/dcat/osdev/w2/gdt.c: In function ‘gdt_flush’:
/home/dcat/osdev/w2/gdt.c:27:13: warning: assignment makes integer from pointer without a cast
     gp.base = gdt_;
             ^
/home/dcat/osdev/w2/gdt.c:29:12: warning: type defaults to ‘int’ in declaration of ‘_gdt_flush’
     extern _gdt_flush();
            ^
In file included from /home/dcat/osdev/w2/include/gdt.h:8:0,
                 from /home/dcat/osdev/w2/gdt.c:5:
/home/dcat/osdev/w2/gdt.c: At top level:
/home/dcat/osdev/w2/include/system.h:82:27: warning: inline function ‘itoa’ declared but never defined
 extern inline const char *itoa(int i, char result[]);
                           ^
/home/dcat/osdev/w2/include/system.h:82:27: warning: inline function ‘itoa’ declared but never defined
In file included from /home/dcat/osdev/w2/heap_array_list.c:7:0:
/home/dcat/osdev/w2/heap_array_list.c: In function ‘create_heap_array_list’:
/home/dcat/osdev/w2/include/kmalloc.h:25:21: warning: initialization makes pointer from integer without a cast
 #define kmalloc(sz) kmalloc_internal(sz,false,NULL,kernel_heap)
                     ^
/home/dcat/osdev/w2/heap_array_list.c:10:32: note: in expansion of macro ‘kmalloc’
     heap_array_list_t *alist = kmalloc(sizeof(heap_array_list_t));
                                ^
/home/dcat/osdev/w2/heap_array_list.c:11:20: warning: assignment makes pointer from integer without a cast
     alist->headers = kmalloc(sizeof(header_info_t) * max_size);
                    ^
/home/dcat/osdev/w2/heap_array_list.c: In function ‘insert_item_ordered’:
/home/dcat/osdev/w2/heap_array_list.c:24:21: warning: passing argument 1 of ‘dmemcpy’ from incompatible pointer type
             dmemcpy(&al->headers[x + 1], &al->headers[x], sizeof(header_info_t) * (al->size - x));
                     ^
In file included from /home/dcat/osdev/w2/include/heap_array_list.h:8:0,
                 from /home/dcat/osdev/w2/heap_array_list.c:5:
/home/dcat/osdev/w2/include/system.h:74:23: note: expected ‘unsigned char *’ but argument is of type ‘struct header_info_t *’
 extern unsigned char *dmemcpy(unsigned char *dest, const unsigned char *src, int count);
                       ^
/home/dcat/osdev/w2/heap_array_list.c:24:42: warning: passing argument 2 of ‘dmemcpy’ from incompatible pointer type
             dmemcpy(&al->headers[x + 1], &al->headers[x], sizeof(header_info_t) * (al->size - x));
                                          ^
In file included from /home/dcat/osdev/w2/include/heap_array_list.h:8:0,
                 from /home/dcat/osdev/w2/heap_array_list.c:5:
/home/dcat/osdev/w2/include/system.h:74:23: note: expected ‘const unsigned char *’ but argument is of type ‘struct header_info_t *’
 extern unsigned char *dmemcpy(unsigned char *dest, const unsigned char *src, int count);
                       ^
/home/dcat/osdev/w2/heap_array_list.c:25:20: warning: passing argument 1 of ‘memset’ from incompatible pointer type
             memset(&al->headers[x], 0, sizeof(header_info_t));
                    ^
In file included from /home/dcat/osdev/w2/include/heap_array_list.h:8:0,
                 from /home/dcat/osdev/w2/heap_array_list.c:5:
/home/dcat/osdev/w2/include/system.h:76:23: note: expected ‘unsigned char *’ but argument is of type ‘struct header_info_t *’
 extern unsigned char *memset(unsigned char *dest, unsigned char val, int count);
                       ^
/home/dcat/osdev/w2/heap_array_list.c:26:20: warning: passing argument 1 of ‘memcpy’ from incompatible pointer type
             memcpy(&al->headers[x], info, sizeof(header_info_t));
                    ^
In file included from /home/dcat/osdev/w2/include/heap_array_list.h:8:0,
                 from /home/dcat/osdev/w2/heap_array_list.c:5:
/home/dcat/osdev/w2/include/system.h:72:23: note: expected ‘unsigned char *’ but argument is of type ‘struct header_info_t *’
 extern unsigned char *memcpy(unsigned char *dest, const unsigned char *src, int count);
                       ^
/home/dcat/osdev/w2/heap_array_list.c:26:37: warning: passing argument 2 of ‘memcpy’ from incompatible pointer type
             memcpy(&al->headers[x], info, sizeof(header_info_t));
                                     ^
In file included from /home/dcat/osdev/w2/include/heap_array_list.h:8:0,
                 from /home/dcat/osdev/w2/heap_array_list.c:5:
/home/dcat/osdev/w2/include/system.h:72:23: note: expected ‘const unsigned char *’ but argument is of type ‘struct header_info_t *’
 extern unsigned char *memcpy(unsigned char *dest, const unsigned char *src, int count);
                       ^
/home/dcat/osdev/w2/heap_array_list.c:29:17: warning: implicit declaration of function ‘strformat’ [-Wimplicit-function-declaration]
                 PANIC("Out of array.");
                 ^
/home/dcat/osdev/w2/heap_array_list.c: In function ‘remove_item’:
/home/dcat/osdev/w2/heap_array_list.c:44:16: warning: passing argument 1 of ‘memset’ from incompatible pointer type
         memset(&al->headers[index], 0, sizeof(header_info_t));
                ^
In file included from /home/dcat/osdev/w2/include/heap_array_list.h:8:0,
                 from /home/dcat/osdev/w2/heap_array_list.c:5:
/home/dcat/osdev/w2/include/system.h:76:23: note: expected ‘unsigned char *’ but argument is of type ‘struct header_info_t *’
 extern unsigned char *memset(unsigned char *dest, unsigned char val, int count);
                       ^
/home/dcat/osdev/w2/heap_array_list.c:46:16: warning: passing argument 1 of ‘memcpy’ from incompatible pointer type
         memcpy(&al->headers[index], &al->headers[index + 1], sizeof(header_info_t) * (al->size - index - 1));
                ^
In file included from /home/dcat/osdev/w2/include/heap_array_list.h:8:0,
                 from /home/dcat/osdev/w2/heap_array_list.c:5:
/home/dcat/osdev/w2/include/system.h:72:23: note: expected ‘unsigned char *’ but argument is of type ‘struct header_info_t *’
 extern unsigned char *memcpy(unsigned char *dest, const unsigned char *src, int count);
                       ^
/home/dcat/osdev/w2/heap_array_list.c:46:37: warning: passing argument 2 of ‘memcpy’ from incompatible pointer type
         memcpy(&al->headers[index], &al->headers[index + 1], sizeof(header_info_t) * (al->size - index - 1));
                                     ^
In file included from /home/dcat/osdev/w2/include/heap_array_list.h:8:0,
                 from /home/dcat/osdev/w2/heap_array_list.c:5:
/home/dcat/osdev/w2/include/system.h:72:23: note: expected ‘const unsigned char *’ but argument is of type ‘struct header_info_t *’
 extern unsigned char *memcpy(unsigned char *dest, const unsigned char *src, int count);
                       ^
/home/dcat/osdev/w2/heap_array_list.c: In function ‘find_suit_hole’:
/home/dcat/osdev/w2/heap_array_list.c:56:40: warning: suggest parentheses around ‘-’ in operand of ‘&’ [-Wparentheses]
             if (page_align && ((0x1000 - al->headers[x].addr & 0xFFF) + size >= al->headers[x].size)) {
                                        ^
In file included from /home/dcat/osdev/w2/include/heap_array_list.h:8:0,
                 from /home/dcat/osdev/w2/heap_array_list.c:5:
/home/dcat/osdev/w2/heap_array_list.c: At top level:
/home/dcat/osdev/w2/include/system.h:82:27: warning: inline function ‘itoa’ declared but never defined
 extern inline const char *itoa(int i, char result[]);
                           ^
/home/dcat/osdev/w2/include/system.h:82:27: warning: inline function ‘itoa’ declared but never defined
/home/dcat/osdev/w2/idt.c: In function ‘idt_install’:
/home/dcat/osdev/w2/idt.c:27:15: warning: assignment makes integer from pointer without a cast
     idtp.base = &idt;
               ^
/home/dcat/osdev/w2/idt.c:30:12: warning: passing argument 1 of ‘memset’ from incompatible pointer type
     memset(&idt, 0, sizeof(struct idt_entry) * 256);
            ^
In file included from /home/dcat/osdev/w2/include/idt.h:8:0,
                 from /home/dcat/osdev/w2/idt.c:5:
/home/dcat/osdev/w2/include/system.h:76:23: note: expected ‘unsigned char *’ but argument is of type ‘struct idt_entry (*)[256]’
 extern unsigned char *memset(unsigned char *dest, unsigned char val, int count);
                       ^
/home/dcat/osdev/w2/idt.c: At top level:
/home/dcat/osdev/w2/include/system.h:82:27: warning: inline function ‘itoa’ declared but never defined
 extern inline const char *itoa(int i, char result[]);
                           ^
/home/dcat/osdev/w2/include/system.h:82:27: warning: inline function ‘itoa’ declared but never defined
In file included from /home/dcat/osdev/w2/include/irqs.h:8:0,
                 from /home/dcat/osdev/w2/irqs.c:5:
/home/dcat/osdev/w2/include/system.h:82:27: warning: inline function ‘itoa’ declared but never defined
 extern inline const char *itoa(int i, char result[]);
                           ^
/home/dcat/osdev/w2/include/system.h:82:27: warning: inline function ‘itoa’ declared but never defined
In file included from /home/dcat/osdev/w2/fs/vfs/include/vfs.h:9:0,
                 from /home/dcat/osdev/w2/include/../proc/elf/include/proc.h:11,
                 from /home/dcat/osdev/w2/include/syscall.h:9,
                 from /home/dcat/osdev/w2/isrs.c:12:
/home/dcat/osdev/w2/include/fs_node.h:19:39: warning: ‘struct fs_node’ declared inside parameter list
 typedef int32_t (*read_type_t)(struct fs_node *, __fs_special_t *fsp, uint32_t, uint32_t, uint8_t *);
                                       ^
/home/dcat/osdev/w2/include/fs_node.h:19:39: warning: its scope is only this definition or declaration, which is probably not what you want
/home/dcat/osdev/w2/include/fs_node.h:21:40: warning: ‘struct fs_node’ declared inside parameter list
 typedef int32_t (*write_type_t)(struct fs_node *, __fs_special_t *fsp, uint32_t, uint32_t, uint8_t *);
                                        ^
/home/dcat/osdev/w2/include/fs_node.h:23:36: warning: ‘struct fs_node’ declared inside parameter list
 typedef void (*open_type_t)(struct fs_node *, __fs_special_t *fsp);
                                    ^
/home/dcat/osdev/w2/include/fs_node.h:25:37: warning: ‘struct fs_node’ declared inside parameter list
 typedef void (*close_type_t)(struct fs_node *, __fs_special_t *fsp);
                                     ^
/home/dcat/osdev/w2/include/fs_node.h:28:101: warning: ‘struct dirent’ declared inside parameter list
 typedef int32_t (*readdir_type_t)(struct fs_node *node, __fs_special_t *fsp, uint32_t count, struct dirent *result);
                                                                                                     ^
/home/dcat/osdev/w2/include/fs_node.h:28:101: warning: ‘struct fs_node’ declared inside parameter list
/home/dcat/osdev/w2/include/fs_node.h:30:95: warning: ‘struct fs_node’ declared inside parameter list
 typedef int (*finddir_type_t)(struct fs_node *, __fs_special_t *fsp, const char *name, struct fs_node *result_out);
                                                                                               ^
In file included from /home/dcat/osdev/w2/include/page.h:8:0,
                 from /home/dcat/osdev/w2/isrs.c:5:
/home/dcat/osdev/w2/isrs.c: In function ‘dump_regs’:
/home/dcat/osdev/w2/include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/isrs.c:16:5: note: in expansion of macro ‘dprintf’
     dprintf("[EAX:%x][EBX:%x][ECX:%x]", r->eax, r->ebx, r->ecx);
     ^
In file included from /home/dcat/osdev/w2/isrs.c:6:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/page.h:8,
                 from /home/dcat/osdev/w2/isrs.c:5:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/isrs.c:16:5: note: in expansion of macro ‘dprintf’
     dprintf("[EAX:%x][EBX:%x][ECX:%x]", r->eax, r->ebx, r->ecx);
     ^
In file included from /home/dcat/osdev/w2/isrs.c:6:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/page.h:8:0,
                 from /home/dcat/osdev/w2/isrs.c:5:
/home/dcat/osdev/w2/include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/isrs.c:17:5: note: in expansion of macro ‘dprintf’
     dprintf("[EDX:%x][EBP:%x][ESP:%x]", r->edx, r->ebp, r->useresp);
     ^
In file included from /home/dcat/osdev/w2/isrs.c:6:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/page.h:8,
                 from /home/dcat/osdev/w2/isrs.c:5:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/isrs.c:17:5: note: in expansion of macro ‘dprintf’
     dprintf("[EDX:%x][EBP:%x][ESP:%x]", r->edx, r->ebp, r->useresp);
     ^
In file included from /home/dcat/osdev/w2/isrs.c:6:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/page.h:8:0,
                 from /home/dcat/osdev/w2/isrs.c:5:
/home/dcat/osdev/w2/include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/isrs.c:18:5: note: in expansion of macro ‘dprintf’
     dprintf("[CS:%x][DX:%x][ES:%x]", r->cs, r->ds, r->es, r->fs, r->gs);
     ^
In file included from /home/dcat/osdev/w2/isrs.c:6:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/page.h:8,
                 from /home/dcat/osdev/w2/isrs.c:5:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/isrs.c:18:5: note: in expansion of macro ‘dprintf’
     dprintf("[CS:%x][DX:%x][ES:%x]", r->cs, r->ds, r->es, r->fs, r->gs);
     ^
In file included from /home/dcat/osdev/w2/isrs.c:6:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/page.h:8:0,
                 from /home/dcat/osdev/w2/isrs.c:5:
/home/dcat/osdev/w2/include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/isrs.c:19:5: note: in expansion of macro ‘dprintf’
     dprintf("[FS:%x][GX:%x][EIP:%x]", r->fs, r->gs, r->eip);
     ^
In file included from /home/dcat/osdev/w2/isrs.c:6:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/page.h:8,
                 from /home/dcat/osdev/w2/isrs.c:5:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/isrs.c:19:5: note: in expansion of macro ‘dprintf’
     dprintf("[FS:%x][GX:%x][EIP:%x]", r->fs, r->gs, r->eip);
     ^
In file included from /home/dcat/osdev/w2/isrs.c:6:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/page.h:8:0,
                 from /home/dcat/osdev/w2/isrs.c:5:
/home/dcat/osdev/w2/isrs.c: In function ‘fault_handler’:
/home/dcat/osdev/w2/include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/isrs.c:72:13: note: in expansion of macro ‘dprintf’
             dprintf("Proc %x cause NO.%x fault.Kill it.PC:%x", getpid(), r->int_no, r->eip);
             ^
In file included from /home/dcat/osdev/w2/isrs.c:6:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/page.h:8,
                 from /home/dcat/osdev/w2/isrs.c:5:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/isrs.c:72:13: note: in expansion of macro ‘dprintf’
             dprintf("Proc %x cause NO.%x fault.Kill it.PC:%x", getpid(), r->int_no, r->eip);
             ^
In file included from /home/dcat/osdev/w2/isrs.c:6:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
/home/dcat/osdev/w2/isrs.c:24:9: warning: unused variable ‘a’ [-Wunused-variable]
     int a = 0;
         ^
In file included from /home/dcat/osdev/w2/include/page.h:8:0,
                 from /home/dcat/osdev/w2/isrs.c:5:
/home/dcat/osdev/w2/isrs.c: At top level:
/home/dcat/osdev/w2/include/system.h:82:27: warning: inline function ‘itoa’ declared but never defined
 extern inline const char *itoa(int i, char result[]);
                           ^
/home/dcat/osdev/w2/include/system.h:82:27: warning: inline function ‘itoa’ declared but never defined
In file included from /home/dcat/osdev/w2/fs/vfs/include/vfs.h:9:0,
                 from /home/dcat/osdev/w2/proc/elf/include/proc.h:11,
                 from /home/dcat/osdev/w2/keyboard.c:5:
/home/dcat/osdev/w2/include/fs_node.h:19:39: warning: ‘struct fs_node’ declared inside parameter list
 typedef int32_t (*read_type_t)(struct fs_node *, __fs_special_t *fsp, uint32_t, uint32_t, uint8_t *);
                                       ^
/home/dcat/osdev/w2/include/fs_node.h:19:39: warning: its scope is only this definition or declaration, which is probably not what you want
/home/dcat/osdev/w2/include/fs_node.h:21:40: warning: ‘struct fs_node’ declared inside parameter list
 typedef int32_t (*write_type_t)(struct fs_node *, __fs_special_t *fsp, uint32_t, uint32_t, uint8_t *);
                                        ^
/home/dcat/osdev/w2/include/fs_node.h:23:36: warning: ‘struct fs_node’ declared inside parameter list
 typedef void (*open_type_t)(struct fs_node *, __fs_special_t *fsp);
                                    ^
/home/dcat/osdev/w2/include/fs_node.h:25:37: warning: ‘struct fs_node’ declared inside parameter list
 typedef void (*close_type_t)(struct fs_node *, __fs_special_t *fsp);
                                     ^
/home/dcat/osdev/w2/include/fs_node.h:28:101: warning: ‘struct dirent’ declared inside parameter list
 typedef int32_t (*readdir_type_t)(struct fs_node *node, __fs_special_t *fsp, uint32_t count, struct dirent *result);
                                                                                                     ^
/home/dcat/osdev/w2/include/fs_node.h:28:101: warning: ‘struct fs_node’ declared inside parameter list
/home/dcat/osdev/w2/include/fs_node.h:30:95: warning: ‘struct fs_node’ declared inside parameter list
 typedef int (*finddir_type_t)(struct fs_node *, __fs_special_t *fsp, const char *name, struct fs_node *result_out);
                                                                                               ^
In file included from /home/dcat/osdev/w2/proc/elf/include/../../../include/page.h:8:0,
                 from /home/dcat/osdev/w2/proc/elf/include/proc.h:9,
                 from /home/dcat/osdev/w2/keyboard.c:5:
/home/dcat/osdev/w2/keyboard.c: In function ‘keyboard_handler’:
/home/dcat/osdev/w2/proc/elf/include/../../../include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/keyboard.c:17:5: note: in expansion of macro ‘dprintf’
     dprintf("key down:%x", scancode);
     ^
In file included from /home/dcat/osdev/w2/keyboard.c:7:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/proc/elf/include/../../../include/system.h:7:0,
                 from /home/dcat/osdev/w2/proc/elf/include/../../../include/page.h:8,
                 from /home/dcat/osdev/w2/proc/elf/include/proc.h:9,
                 from /home/dcat/osdev/w2/keyboard.c:5:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/proc/elf/include/../../../include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/keyboard.c:17:5: note: in expansion of macro ‘dprintf’
     dprintf("key down:%x", scancode);
     ^
In file included from /home/dcat/osdev/w2/keyboard.c:7:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/proc/elf/include/../../../include/page.h:8:0,
                 from /home/dcat/osdev/w2/proc/elf/include/proc.h:9,
                 from /home/dcat/osdev/w2/keyboard.c:5:
/home/dcat/osdev/w2/keyboard.c: At top level:
/home/dcat/osdev/w2/proc/elf/include/../../../include/system.h:82:27: warning: inline function ‘itoa’ declared but never defined
 extern inline const char *itoa(int i, char result[]);
                           ^
/home/dcat/osdev/w2/proc/elf/include/../../../include/system.h:82:27: warning: inline function ‘itoa’ declared but never defined
In file included from /home/dcat/osdev/w2/keyboard.c:6:0:
/home/dcat/osdev/w2/include/irqs.h:43:14: warning: ‘irq_routines’ defined but not used [-Wunused-variable]
 static void *irq_routines[16] = {
              ^
In file included from /home/dcat/osdev/w2/kmalloc.c:5:0:
/home/dcat/osdev/w2/kmalloc.c: In function ‘kmalloc_paging’:
/home/dcat/osdev/w2/include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/kmalloc.c:26:9: note: in expansion of macro ‘dprintf’
         dprintf("allocated space:%x", r);
         ^
In file included from /home/dcat/osdev/w2/kmalloc.c:7:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/kmalloc.c:5:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/kmalloc.c:26:9: note: in expansion of macro ‘dprintf’
         dprintf("allocated space:%x", r);
         ^
In file included from /home/dcat/osdev/w2/kmalloc.c:7:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/kmalloc.c:5:0:
/home/dcat/osdev/w2/include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/kmalloc.c:29:9: note: in expansion of macro ‘dprintf’
         dprintf("heap not present.");
         ^
In file included from /home/dcat/osdev/w2/kmalloc.c:7:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/kmalloc.c:5:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/kmalloc.c:29:9: note: in expansion of macro ‘dprintf’
         dprintf("heap not present.");
         ^
In file included from /home/dcat/osdev/w2/kmalloc.c:7:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/kmalloc.c:5:0:
/home/dcat/osdev/w2/kmalloc.c: In function ‘kmalloc_internal’:
/home/dcat/osdev/w2/kmalloc.c:36:32: warning: comparison between pointer and integer
     ASSERT(heap_placement_addr >= &end);
                                ^
/home/dcat/osdev/w2/include/system.h:20:10: note: in definition of macro ‘ASSERT’
     if(!(x)){\
          ^
/home/dcat/osdev/w2/kmalloc.c:41:42: warning: passing argument 1 of ‘get_physical_address’ makes integer from pointer without a cast
             *phys = get_physical_address(ret);
                                          ^
In file included from /home/dcat/osdev/w2/kmalloc.c:6:0:
/home/dcat/osdev/w2/include/page.h:93:10: note: expected ‘uint32_t’ but argument is of type ‘void *’
 uint32_t get_physical_address(uint32_t va);
          ^
/home/dcat/osdev/w2/kmalloc.c:43:9: warning: return makes integer from pointer without a cast
         return ret;
         ^
In file included from /home/dcat/osdev/w2/kmalloc.c:5:0:
/home/dcat/osdev/w2/kmalloc.c: In function ‘kfree’:
/home/dcat/osdev/w2/include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/kmalloc.c:61:5: note: in expansion of macro ‘dprintf’
     dprintf("try to free:%x", ptr);
     ^
In file included from /home/dcat/osdev/w2/kmalloc.c:7:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/kmalloc.c:5:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/kmalloc.c:61:5: note: in expansion of macro ‘dprintf’
     dprintf("try to free:%x", ptr);
     ^
In file included from /home/dcat/osdev/w2/kmalloc.c:7:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
/home/dcat/osdev/w2/kmalloc.c:62:22: warning: comparisons like ‘X<=Y<=Z’ do not have their mathematical meaning [-Wparentheses]
     if (KPHEAP_START < (uint32_t) ptr < KPHEAP_START + KPHEAP_SIZE) {
                      ^
/home/dcat/osdev/w2/kmalloc.c:63:34: warning: passing argument 2 of ‘pheap_free’ makes integer from pointer without a cast
         pheap_free(kernel_pheap, ptr);
                                  ^
In file included from /home/dcat/osdev/w2/include/kmalloc.h:10:0,
                 from /home/dcat/osdev/w2/kmalloc.c:9:
/home/dcat/osdev/w2/include/paging_heap.h:21:6: note: expected ‘uint32_t’ but argument is of type ‘void *’
 void pheap_free(paging_heap_t *heap, uint32_t pointer);
      ^
In file included from /home/dcat/osdev/w2/kmalloc.c:5:0:
/home/dcat/osdev/w2/include/system.h:97:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/kmalloc.c:65:9: note: in expansion of macro ‘deprintf’
         deprintf("try to free a unknown[%x] memory space.", ptr);
         ^
In file included from /home/dcat/osdev/w2/kmalloc.c:7:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/kmalloc.c:5:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:97:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/kmalloc.c:65:9: note: in expansion of macro ‘deprintf’
         deprintf("try to free a unknown[%x] memory space.", ptr);
         ^
In file included from /home/dcat/osdev/w2/kmalloc.c:7:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/kmalloc.c:5:0:
/home/dcat/osdev/w2/kmalloc.c: At top level:
/home/dcat/osdev/w2/include/system.h:82:27: warning: inline function ‘itoa’ declared but never defined
 extern inline const char *itoa(int i, char result[]);
                           ^
/home/dcat/osdev/w2/include/system.h:82:27: warning: inline function ‘itoa’ declared but never defined
In file included from /home/dcat/osdev/w2/fs/vfs/include/vfs.h:9:0,
                 from /home/dcat/osdev/w2/proc/elf/include/proc.h:11,
                 from /home/dcat/osdev/w2/proc/include/exec.h:9,
                 from /home/dcat/osdev/w2/main.c:7:
/home/dcat/osdev/w2/include/fs_node.h:19:39: warning: ‘struct fs_node’ declared inside parameter list
 typedef int32_t (*read_type_t)(struct fs_node *, __fs_special_t *fsp, uint32_t, uint32_t, uint8_t *);
                                       ^
/home/dcat/osdev/w2/include/fs_node.h:19:39: warning: its scope is only this definition or declaration, which is probably not what you want
/home/dcat/osdev/w2/include/fs_node.h:21:40: warning: ‘struct fs_node’ declared inside parameter list
 typedef int32_t (*write_type_t)(struct fs_node *, __fs_special_t *fsp, uint32_t, uint32_t, uint8_t *);
                                        ^
/home/dcat/osdev/w2/include/fs_node.h:23:36: warning: ‘struct fs_node’ declared inside parameter list
 typedef void (*open_type_t)(struct fs_node *, __fs_special_t *fsp);
                                    ^
/home/dcat/osdev/w2/include/fs_node.h:25:37: warning: ‘struct fs_node’ declared inside parameter list
 typedef void (*close_type_t)(struct fs_node *, __fs_special_t *fsp);
                                     ^
/home/dcat/osdev/w2/include/fs_node.h:28:101: warning: ‘struct dirent’ declared inside parameter list
 typedef int32_t (*readdir_type_t)(struct fs_node *node, __fs_special_t *fsp, uint32_t count, struct dirent *result);
                                                                                                     ^
/home/dcat/osdev/w2/include/fs_node.h:28:101: warning: ‘struct fs_node’ declared inside parameter list
/home/dcat/osdev/w2/include/fs_node.h:30:95: warning: ‘struct fs_node’ declared inside parameter list
 typedef int (*finddir_type_t)(struct fs_node *, __fs_special_t *fsp, const char *name, struct fs_node *result_out);
                                                                                               ^
/home/dcat/osdev/w2/main.c: In function ‘heap_test’:
/home/dcat/osdev/w2/main.c:55:5: warning: implicit declaration of function ‘create_heap’ [-Wimplicit-function-declaration]
     heap_t *heap = create_heap(KHEAP_START, KHEAP_START + KHEAP_SIZE, KHEAP_START + KHEAP_SIZE * 2, kernel_dir);
     ^
/home/dcat/osdev/w2/main.c:55:20: warning: initialization makes pointer from integer without a cast
     heap_t *heap = create_heap(KHEAP_START, KHEAP_START + KHEAP_SIZE, KHEAP_START + KHEAP_SIZE * 2, kernel_dir);
                    ^
In file included from /home/dcat/osdev/w2/include/system.h:4:0,
                 from /home/dcat/osdev/w2/include/isrs.h:8,
                 from /home/dcat/osdev/w2/main.c:1:
/home/dcat/osdev/w2/main.c:57:34: warning: passing argument 1 of ‘puthex’ makes integer from pointer without a cast
     dumphex("alloced mem addr:", mem);
                                  ^
/home/dcat/osdev/w2/include/screen.h:29:12: note: in definition of macro ‘dumphex’
     puthex(x); \
            ^
/home/dcat/osdev/w2/include/screen.h:55:6: note: expected ‘uint32_t’ but argument is of type ‘void *’
 void puthex(uint32_t n);
      ^
/home/dcat/osdev/w2/main.c:59:34: warning: passing argument 1 of ‘puthex’ makes integer from pointer without a cast
     dumphex("alloced mem addr:", mem2);
                                  ^
/home/dcat/osdev/w2/include/screen.h:29:12: note: in definition of macro ‘dumphex’
     puthex(x); \
            ^
/home/dcat/osdev/w2/include/screen.h:55:6: note: expected ‘uint32_t’ but argument is of type ‘void *’
 void puthex(uint32_t n);
      ^
/home/dcat/osdev/w2/main.c:61:34: warning: passing argument 1 of ‘puthex’ makes integer from pointer without a cast
     dumphex("alloced mem addr:", mem3);
                                  ^
/home/dcat/osdev/w2/include/screen.h:29:12: note: in definition of macro ‘dumphex’
     puthex(x); \
            ^
/home/dcat/osdev/w2/include/screen.h:55:6: note: expected ‘uint32_t’ but argument is of type ‘void *’
 void puthex(uint32_t n);
      ^
/home/dcat/osdev/w2/main.c:66:17: warning: passing argument 2 of ‘hfree’ makes integer from pointer without a cast
     hfree(heap, mem2);
                 ^
In file included from /home/dcat/osdev/w2/include/kmalloc.h:9:0,
                 from /home/dcat/osdev/w2/main.c:3:
/home/dcat/osdev/w2/include/contious_heap.h:35:6: note: expected ‘uint32_t’ but argument is of type ‘void *’
 void hfree(heap_t *heap, uint32_t addr);
      ^
/home/dcat/osdev/w2/main.c:69:17: warning: passing argument 2 of ‘hfree’ makes integer from pointer without a cast
     hfree(heap, mem3);
                 ^
In file included from /home/dcat/osdev/w2/include/kmalloc.h:9:0,
                 from /home/dcat/osdev/w2/main.c:3:
/home/dcat/osdev/w2/include/contious_heap.h:35:6: note: expected ‘uint32_t’ but argument is of type ‘void *’
 void hfree(heap_t *heap, uint32_t addr);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:4:0,
                 from /home/dcat/osdev/w2/include/isrs.h:8,
                 from /home/dcat/osdev/w2/main.c:1:
/home/dcat/osdev/w2/main.c:73:34: warning: passing argument 1 of ‘puthex’ makes integer from pointer without a cast
     dumphex("alloced mem addr:", mem4);
                                  ^
/home/dcat/osdev/w2/include/screen.h:29:12: note: in definition of macro ‘dumphex’
     puthex(x); \
            ^
/home/dcat/osdev/w2/include/screen.h:55:6: note: expected ‘uint32_t’ but argument is of type ‘void *’
 void puthex(uint32_t n);
      ^
/home/dcat/osdev/w2/main.c:77:34: warning: passing argument 1 of ‘puthex’ makes integer from pointer without a cast
     dumphex("alloced mem addr:", mem5);
                                  ^
/home/dcat/osdev/w2/include/screen.h:29:12: note: in definition of macro ‘dumphex’
     puthex(x); \
            ^
/home/dcat/osdev/w2/include/screen.h:55:6: note: expected ‘uint32_t’ but argument is of type ‘void *’
 void puthex(uint32_t n);
      ^
/home/dcat/osdev/w2/main.c:80:17: warning: passing argument 2 of ‘hfree’ makes integer from pointer without a cast
     hfree(heap, mem4);
                 ^
In file included from /home/dcat/osdev/w2/include/kmalloc.h:9:0,
                 from /home/dcat/osdev/w2/main.c:3:
/home/dcat/osdev/w2/include/contious_heap.h:35:6: note: expected ‘uint32_t’ but argument is of type ‘void *’
 void hfree(heap_t *heap, uint32_t addr);
      ^
/home/dcat/osdev/w2/main.c:83:17: warning: passing argument 2 of ‘hfree’ makes integer from pointer without a cast
     hfree(heap, mem5);
                 ^
In file included from /home/dcat/osdev/w2/include/kmalloc.h:9:0,
                 from /home/dcat/osdev/w2/main.c:3:
/home/dcat/osdev/w2/include/contious_heap.h:35:6: note: expected ‘uint32_t’ but argument is of type ‘void *’
 void hfree(heap_t *heap, uint32_t addr);
      ^
/home/dcat/osdev/w2/main.c:86:17: warning: passing argument 2 of ‘hfree’ makes integer from pointer without a cast
     hfree(heap, mem);
                 ^
In file included from /home/dcat/osdev/w2/include/kmalloc.h:9:0,
                 from /home/dcat/osdev/w2/main.c:3:
/home/dcat/osdev/w2/include/contious_heap.h:35:6: note: expected ‘uint32_t’ but argument is of type ‘void *’
 void hfree(heap_t *heap, uint32_t addr);
      ^
In file included from /home/dcat/osdev/w2/include/isrs.h:8:0,
                 from /home/dcat/osdev/w2/main.c:1:
/home/dcat/osdev/w2/main.c: In function ‘catmfs_test’:
/home/dcat/osdev/w2/include/system.h:12:16: warning: passing argument 2 of ‘catrfmt_findbyname’ discards ‘const’ qualifier from pointer target type
 #define STR(x) (const char[]) {x}
                ^
/home/dcat/osdev/w2/main.c:128:32: note: in expansion of macro ‘STR’
     if (catrfmt_findbyname(fs, STR("neko.1"), &node)) {
                                ^
In file included from /home/dcat/osdev/w2/main.c:9:0:
/home/dcat/osdev/w2/fs/catmfs/include/catrfmt.h:29:9: note: expected ‘char *’ but argument is of type ‘const char *’
 uint8_t catrfmt_findbyname(catrfmt_t *fs, char *fn, fs_node_t **fs_node_out);
         ^
/home/dcat/osdev/w2/main.c:131:16: warning: pointer targets in passing argument 1 of ‘memset’ differ in signedness [-Wpointer-sign]
         memset(data, 0xCC, sizeof(char) * 250);
                ^
In file included from /home/dcat/osdev/w2/include/isrs.h:8:0,
                 from /home/dcat/osdev/w2/main.c:1:
/home/dcat/osdev/w2/include/system.h:76:23: note: expected ‘unsigned char *’ but argument is of type ‘char *’
 extern unsigned char *memset(unsigned char *dest, unsigned char val, int count);
                       ^
/home/dcat/osdev/w2/main.c:132:53: warning: pointer targets in passing argument 4 of ‘catrfmt_read’ differ in signedness [-Wpointer-sign]
         uint32_t count = catrfmt_read(node, 0, 200, data);
                                                     ^
In file included from /home/dcat/osdev/w2/main.c:9:0:
/home/dcat/osdev/w2/fs/catmfs/include/catrfmt.h:16:10: note: expected ‘unsigned char *’ but argument is of type ‘char *’
 uint32_t catrfmt_read(fs_node_t *node, uint32_t offset, uint32_t size, uint8_t *buff);
          ^
In file included from /home/dcat/osdev/w2/include/isrs.h:8:0,
                 from /home/dcat/osdev/w2/main.c:1:
/home/dcat/osdev/w2/include/system.h:12:16: warning: passing argument 2 of ‘catrfmt_findbyname’ discards ‘const’ qualifier from pointer target type
 #define STR(x) (const char[]) {x}
                ^
/home/dcat/osdev/w2/main.c:140:32: note: in expansion of macro ‘STR’
     if (catrfmt_findbyname(fs, STR("a.out"), &node)) {
                                ^
In file included from /home/dcat/osdev/w2/main.c:9:0:
/home/dcat/osdev/w2/fs/catmfs/include/catrfmt.h:29:9: note: expected ‘char *’ but argument is of type ‘const char *’
 uint8_t catrfmt_findbyname(catrfmt_t *fs, char *fn, fs_node_t **fs_node_out);
         ^
/home/dcat/osdev/w2/main.c:143:16: warning: pointer targets in passing argument 1 of ‘memset’ differ in signedness [-Wpointer-sign]
         memset(data, 0xCC, sizeof(char) * 0x1000);
                ^
In file included from /home/dcat/osdev/w2/include/isrs.h:8:0,
                 from /home/dcat/osdev/w2/main.c:1:
/home/dcat/osdev/w2/include/system.h:76:23: note: expected ‘unsigned char *’ but argument is of type ‘char *’
 extern unsigned char *memset(unsigned char *dest, unsigned char val, int count);
                       ^
/home/dcat/osdev/w2/main.c:144:56: warning: pointer targets in passing argument 4 of ‘catrfmt_read’ differ in signedness [-Wpointer-sign]
         uint32_t count = catrfmt_read(node, 0, 0x1000, data);
                                                        ^
In file included from /home/dcat/osdev/w2/main.c:9:0:
/home/dcat/osdev/w2/fs/catmfs/include/catrfmt.h:16:10: note: expected ‘unsigned char *’ but argument is of type ‘char *’
 uint32_t catrfmt_read(fs_node_t *node, uint32_t offset, uint32_t size, uint8_t *buff);
          ^
/home/dcat/osdev/w2/main.c:148:16: warning: passing argument 1 of ‘memcpy’ makes pointer from integer without a cast
         memcpy(0xB0000000, data, 0x1000);
                ^
In file included from /home/dcat/osdev/w2/include/isrs.h:8:0,
                 from /home/dcat/osdev/w2/main.c:1:
/home/dcat/osdev/w2/include/system.h:72:23: note: expected ‘unsigned char *’ but argument is of type ‘unsigned int’
 extern unsigned char *memcpy(unsigned char *dest, const unsigned char *src, int count);
                       ^
/home/dcat/osdev/w2/main.c:148:28: warning: pointer targets in passing argument 2 of ‘memcpy’ differ in signedness [-Wpointer-sign]
         memcpy(0xB0000000, data, 0x1000);
                            ^
In file included from /home/dcat/osdev/w2/include/isrs.h:8:0,
                 from /home/dcat/osdev/w2/main.c:1:
/home/dcat/osdev/w2/include/system.h:72:23: note: expected ‘const unsigned char *’ but argument is of type ‘char *’
 extern unsigned char *memcpy(unsigned char *dest, const unsigned char *src, int count);
                       ^
/home/dcat/osdev/w2/main.c: In function ‘get_phy_test’:
/home/dcat/osdev/w2/include/system.h:9:14: warning: passing argument 4 of ‘kmalloc_internal’ makes pointer from integer without a cast
 #define true 1
              ^
/home/dcat/osdev/w2/main.c:171:53: note: in expansion of macro ‘true’
     uint32_t *a = kmalloc_internal(10, false, &phy, true);
                                                     ^
In file included from /home/dcat/osdev/w2/main.c:3:0:
/home/dcat/osdev/w2/include/kmalloc.h:23:10: note: expected ‘struct heap_t *’ but argument is of type ‘int’
 uint32_t kmalloc_internal(uint32_t sz, bool align, uint32_t *phys, heap_t *heap);
          ^
/home/dcat/osdev/w2/main.c:171:19: warning: initialization makes pointer from integer without a cast
     uint32_t *a = kmalloc_internal(10, false, &phy, true);
                   ^
/home/dcat/osdev/w2/main.c:172:47: warning: passing argument 1 of ‘get_physical_address’ makes integer from pointer without a cast
     uint32_t geted_phy = get_physical_address(a);
                                               ^
In file included from /home/dcat/osdev/w2/main.c:6:0:
/home/dcat/osdev/w2/include/page.h:93:10: note: expected ‘uint32_t’ but argument is of type ‘uint32_t *’
 uint32_t get_physical_address(uint32_t va);
          ^
/home/dcat/osdev/w2/main.c:173:10: warning: large integer implicitly truncated to unsigned type [-Woverflow]
     *a = 0xFAFAFAFAF;
          ^
In file included from /home/dcat/osdev/w2/include/isrs.h:8:0,
                 from /home/dcat/osdev/w2/main.c:1:
/home/dcat/osdev/w2/main.c: In function ‘move_kernel_stack’:
/home/dcat/osdev/w2/include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/main.c:280:5: note: in expansion of macro ‘dprintf’
     dprintf("kernel stack:ebp:%x esp:%x", ebp, esp);
     ^
In file included from /home/dcat/osdev/w2/main.c:15:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/isrs.h:8,
                 from /home/dcat/osdev/w2/main.c:1:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/main.c:280:5: note: in expansion of macro ‘dprintf’
     dprintf("kernel stack:ebp:%x esp:%x", ebp, esp);
     ^
In file included from /home/dcat/osdev/w2/main.c:15:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
/home/dcat/osdev/w2/main.c: At top level:
/home/dcat/osdev/w2/main.c:285:5: warning: first argument of ‘main’ should be ‘int’ [-Wmain]
 int main(multiboot_info_t *mul_arg, uint32_t init_esp_arg) {
     ^
/home/dcat/osdev/w2/main.c:285:5: warning: second argument of ‘main’ should be ‘char **’ [-Wmain]
/home/dcat/osdev/w2/main.c: In function ‘main’:
/home/dcat/osdev/w2/main.c:292:12: warning: passing argument 1 of ‘memcpy’ from incompatible pointer type
     memcpy(&mul, mul_arg, sizeof(multiboot_info_t));
            ^
In file included from /home/dcat/osdev/w2/include/isrs.h:8:0,
                 from /home/dcat/osdev/w2/main.c:1:
/home/dcat/osdev/w2/include/system.h:72:23: note: expected ‘unsigned char *’ but argument is of type ‘struct multiboot_info_t *’
 extern unsigned char *memcpy(unsigned char *dest, const unsigned char *src, int count);
                       ^
/home/dcat/osdev/w2/main.c:292:18: warning: passing argument 2 of ‘memcpy’ from incompatible pointer type
     memcpy(&mul, mul_arg, sizeof(multiboot_info_t));
                  ^
In file included from /home/dcat/osdev/w2/include/isrs.h:8:0,
                 from /home/dcat/osdev/w2/main.c:1:
/home/dcat/osdev/w2/include/system.h:72:23: note: expected ‘const unsigned char *’ but argument is of type ‘struct multiboot_info_t *’
 extern unsigned char *memcpy(unsigned char *dest, const unsigned char *src, int count);
                       ^
/home/dcat/osdev/w2/include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/main.c:295:5: note: in expansion of macro ‘dprintf’
     dprintf("init esp:%x", init_esp);
     ^
In file included from /home/dcat/osdev/w2/main.c:15:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/isrs.h:8,
                 from /home/dcat/osdev/w2/main.c:1:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/main.c:295:5: note: in expansion of macro ‘dprintf’
     dprintf("init esp:%x", init_esp);
     ^
In file included from /home/dcat/osdev/w2/main.c:15:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/isrs.h:8:0,
                 from /home/dcat/osdev/w2/main.c:1:
/home/dcat/osdev/w2/main.c: At top level:
/home/dcat/osdev/w2/include/system.h:82:27: warning: inline function ‘itoa’ declared but never defined
 extern inline const char *itoa(int i, char result[]);
                           ^
/home/dcat/osdev/w2/include/system.h:82:27: warning: inline function ‘itoa’ declared but never defined
In file included from /home/dcat/osdev/w2/main.c:2:0:
/home/dcat/osdev/w2/include/irqs.h:43:14: warning: ‘irq_routines’ defined but not used [-Wunused-variable]
 static void *irq_routines[16] = {
              ^
In file included from /home/dcat/osdev/w2/main.c:5:0:
/home/dcat/osdev/w2/dev/include/ide.h:15:20: warning: ‘outl’ declared ‘static’ but never defined [-Wunused-function]
 static inline void outl(uint32_t value, uint16_t port);
                    ^
/home/dcat/osdev/w2/dev/include/ide.h:17:24: warning: ‘inl’ declared ‘static’ but never defined [-Wunused-function]
 static inline uint32_t inl(uint16_t port);
                        ^
In file included from /home/dcat/osdev/w2/main.c:17:0:
/home/dcat/osdev/w2/include/keyboard.h:10:22: warning: ‘kbdus’ defined but not used [-Wunused-variable]
 static unsigned char kbdus[128] =
                      ^
/home/dcat/osdev/w2/main.c: In function ‘move_kernel_stack’:
/home/dcat/osdev/w2/main.c:283:1: warning: control reaches end of non-void function [-Wreturn-type]
 }
 ^
/home/dcat/osdev/w2/page.c: In function ‘move_frame’:
/home/dcat/osdev/w2/page.c:98:12: warning: passing argument 1 of ‘memcpy’ makes pointer from integer without a cast
     memcpy(pm_src, pm_target, 0x1000);
            ^
In file included from /home/dcat/osdev/w2/include/contious_heap.h:8:0,
                 from /home/dcat/osdev/w2/include/kmalloc.h:9,
                 from /home/dcat/osdev/w2/page.c:5:
/home/dcat/osdev/w2/include/system.h:72:23: note: expected ‘unsigned char *’ but argument is of type ‘uint32_t’
 extern unsigned char *memcpy(unsigned char *dest, const unsigned char *src, int count);
                       ^
/home/dcat/osdev/w2/page.c:98:20: warning: passing argument 2 of ‘memcpy’ makes pointer from integer without a cast
     memcpy(pm_src, pm_target, 0x1000);
                    ^
In file included from /home/dcat/osdev/w2/include/contious_heap.h:8:0,
                 from /home/dcat/osdev/w2/include/kmalloc.h:9,
                 from /home/dcat/osdev/w2/page.c:5:
/home/dcat/osdev/w2/include/system.h:72:23: note: expected ‘const unsigned char *’ but argument is of type ‘uint32_t’
 extern unsigned char *memcpy(unsigned char *dest, const unsigned char *src, int count);
                       ^
/home/dcat/osdev/w2/page.c:99:12: warning: passing argument 1 of ‘memset’ makes pointer from integer without a cast
     memset(pm_src, 0, 0x1000);
            ^
In file included from /home/dcat/osdev/w2/include/contious_heap.h:8:0,
                 from /home/dcat/osdev/w2/include/kmalloc.h:9,
                 from /home/dcat/osdev/w2/page.c:5:
/home/dcat/osdev/w2/include/system.h:76:23: note: expected ‘unsigned char *’ but argument is of type ‘uint32_t’
 extern unsigned char *memset(unsigned char *dest, unsigned char val, int count);
                       ^
/home/dcat/osdev/w2/page.c: In function ‘paging_install’:
/home/dcat/osdev/w2/page.c:137:12: warning: passing argument 1 of ‘memset’ from incompatible pointer type
     memset(frame_status, 0, sizeof(uint32_t) * frame_max_count);
            ^
In file included from /home/dcat/osdev/w2/include/contious_heap.h:8:0,
                 from /home/dcat/osdev/w2/include/kmalloc.h:9,
                 from /home/dcat/osdev/w2/page.c:5:
/home/dcat/osdev/w2/include/system.h:76:23: note: expected ‘unsigned char *’ but argument is of type ‘uint32_t *’
 extern unsigned char *memset(unsigned char *dest, unsigned char val, int count);
                       ^
/home/dcat/osdev/w2/page.c:139:12: warning: passing argument 1 of ‘memset’ from incompatible pointer type
     memset(kernel_dir, 0, sizeof(page_directory_t));
            ^
In file included from /home/dcat/osdev/w2/include/contious_heap.h:8:0,
                 from /home/dcat/osdev/w2/include/kmalloc.h:9,
                 from /home/dcat/osdev/w2/page.c:5:
/home/dcat/osdev/w2/include/system.h:76:23: note: expected ‘unsigned char *’ but argument is of type ‘struct page_directory_t *’
 extern unsigned char *memset(unsigned char *dest, unsigned char val, int count);
                       ^
/home/dcat/osdev/w2/page.c:140:12: warning: passing argument 1 of ‘memset’ from incompatible pointer type
     memset(kernel_dir->table_physical_addr, 0, sizeof(uint32_t) * 1024);
            ^
In file included from /home/dcat/osdev/w2/include/contious_heap.h:8:0,
                 from /home/dcat/osdev/w2/include/kmalloc.h:9,
                 from /home/dcat/osdev/w2/page.c:5:
/home/dcat/osdev/w2/include/system.h:76:23: note: expected ‘unsigned char *’ but argument is of type ‘uint32_t *’
 extern unsigned char *memset(unsigned char *dest, unsigned char val, int count);
                       ^
/home/dcat/osdev/w2/page.c:141:12: warning: passing argument 1 of ‘memset’ from incompatible pointer type
     memset(kernel_dir->tables, 0, sizeof(page_table_t *) * 1024);
            ^
In file included from /home/dcat/osdev/w2/include/contious_heap.h:8:0,
                 from /home/dcat/osdev/w2/include/kmalloc.h:9,
                 from /home/dcat/osdev/w2/page.c:5:
/home/dcat/osdev/w2/include/system.h:76:23: note: expected ‘unsigned char *’ but argument is of type ‘struct page_table_t **’
 extern unsigned char *memset(unsigned char *dest, unsigned char val, int count);
                       ^
In file included from /home/dcat/osdev/w2/include/system.h:4:0,
                 from /home/dcat/osdev/w2/include/contious_heap.h:8,
                 from /home/dcat/osdev/w2/include/kmalloc.h:9,
                 from /home/dcat/osdev/w2/page.c:5:
/home/dcat/osdev/w2/page.c:144:38: warning: passing argument 1 of ‘puthex’ makes integer from pointer without a cast
     dumphex("heap placement start:", &end);
                                      ^
/home/dcat/osdev/w2/include/screen.h:29:12: note: in definition of macro ‘dumphex’
     puthex(x); \
            ^
/home/dcat/osdev/w2/include/screen.h:55:6: note: expected ‘uint32_t’ but argument is of type ‘uint32_t *’
 void puthex(uint32_t n);
      ^
/home/dcat/osdev/w2/page.c: In function ‘get_page’:
/home/dcat/osdev/w2/page.c:194:16: warning: passing argument 1 of ‘memset’ from incompatible pointer type
         memset(dir->tables[table_idx], 0, sizeof(page_table_t));
                ^
In file included from /home/dcat/osdev/w2/include/contious_heap.h:8:0,
                 from /home/dcat/osdev/w2/include/kmalloc.h:9,
                 from /home/dcat/osdev/w2/page.c:5:
/home/dcat/osdev/w2/include/system.h:76:23: note: expected ‘unsigned char *’ but argument is of type ‘struct page_table_t *’
 extern unsigned char *memset(unsigned char *dest, unsigned char val, int count);
                       ^
/home/dcat/osdev/w2/page.c: In function ‘page_fault_handler’:
/home/dcat/osdev/w2/page.c:224:9: warning: unused variable ‘id’ [-Wunused-variable]
     int id = r->err_code & 0x10;          // Caused by an instruction fetch?
         ^
/home/dcat/osdev/w2/page.c: In function ‘clone_page_table’:
/home/dcat/osdev/w2/page.c:264:12: warning: passing argument 1 of ‘memset’ from incompatible pointer type
     memset(target, 0, sizeof(page_table_t));
            ^
In file included from /home/dcat/osdev/w2/include/contious_heap.h:8:0,
                 from /home/dcat/osdev/w2/include/kmalloc.h:9,
                 from /home/dcat/osdev/w2/page.c:5:
/home/dcat/osdev/w2/include/system.h:76:23: note: expected ‘unsigned char *’ but argument is of type ‘struct page_table_t *’
 extern unsigned char *memset(unsigned char *dest, unsigned char val, int count);
                       ^
/home/dcat/osdev/w2/page.c: In function ‘clone_page_directory’:
/home/dcat/osdev/w2/page.c:284:12: warning: passing argument 1 of ‘memset’ from incompatible pointer type
     memset(target, 0, sizeof(page_directory_t));
            ^
In file included from /home/dcat/osdev/w2/include/contious_heap.h:8:0,
                 from /home/dcat/osdev/w2/include/kmalloc.h:9,
                 from /home/dcat/osdev/w2/page.c:5:
/home/dcat/osdev/w2/include/system.h:76:23: note: expected ‘unsigned char *’ but argument is of type ‘struct page_directory_t *’
 extern unsigned char *memset(unsigned char *dest, unsigned char val, int count);
                       ^
/home/dcat/osdev/w2/page.c: At top level:
/home/dcat/osdev/w2/include/system.h:82:27: warning: inline function ‘itoa’ declared but never defined
 extern inline const char *itoa(int i, char result[]);
                           ^
/home/dcat/osdev/w2/include/system.h:82:27: warning: inline function ‘itoa’ declared but never defined
In file included from /home/dcat/osdev/w2/page.c:7:0:
/home/dcat/osdev/w2/include/irqs.h:43:14: warning: ‘irq_routines’ defined but not used [-Wunused-variable]
 static void *irq_routines[16] = {
              ^
In file included from /home/dcat/osdev/w2/paging_heap.c:6:0:
/home/dcat/osdev/w2/paging_heap.c: In function ‘pheap_create’:
/home/dcat/osdev/w2/include/kmalloc.h:25:21: warning: initialization makes pointer from integer without a cast
 #define kmalloc(sz) kmalloc_internal(sz,false,NULL,kernel_heap)
                     ^
/home/dcat/osdev/w2/paging_heap.c:9:27: note: in expansion of macro ‘kmalloc’
     paging_heap_t *heap = kmalloc(sizeof(paging_heap_t));
                           ^
/home/dcat/osdev/w2/paging_heap.c:10:5: warning: implicit declaration of function ‘strformat’ [-Wimplicit-function-declaration]
     if (start_addr & 0xFFF || size & 0xFFF) PANIC("start_addr and size must be page align.")
     ^
/home/dcat/osdev/w2/paging_heap.c:15:12: warning: passing argument 1 of ‘memset’ makes pointer from integer without a cast
     memset(start_addr, 0, 0x1000);
            ^
In file included from /home/dcat/osdev/w2/include/paging_heap.h:9:0,
                 from /home/dcat/osdev/w2/paging_heap.c:5:
/home/dcat/osdev/w2/include/system.h:76:23: note: expected ‘unsigned char *’ but argument is of type ‘uint32_t’
 extern unsigned char *memset(unsigned char *dest, unsigned char val, int count);
                       ^
/home/dcat/osdev/w2/paging_heap.c: In function ‘pheap_alloc’:
/home/dcat/osdev/w2/paging_heap.c:66:5: warning: return makes pointer from integer without a cast
     return result;
     ^
/home/dcat/osdev/w2/paging_heap.c: In function ‘pheap_free’:
/home/dcat/osdev/w2/paging_heap.c:78:26: warning: initialization makes pointer from integer without a cast
     uint8_t *endbitptr = heap->start_addr + 0x800;
                          ^
In file included from /home/dcat/osdev/w2/include/paging_heap.h:9:0,
                 from /home/dcat/osdev/w2/paging_heap.c:5:
/home/dcat/osdev/w2/paging_heap.c: At top level:
/home/dcat/osdev/w2/include/system.h:82:27: warning: inline function ‘itoa’ declared but never defined
 extern inline const char *itoa(int i, char result[]);
                           ^
/home/dcat/osdev/w2/include/system.h:82:27: warning: inline function ‘itoa’ declared but never defined
In file included from /home/dcat/osdev/w2/fs/vfs/include/vfs.h:9:0,
                 from /home/dcat/osdev/w2/proc/elf/include/proc.h:11,
                 from /home/dcat/osdev/w2/schedule.c:7:
/home/dcat/osdev/w2/include/fs_node.h:19:39: warning: ‘struct fs_node’ declared inside parameter list
 typedef int32_t (*read_type_t)(struct fs_node *, __fs_special_t *fsp, uint32_t, uint32_t, uint8_t *);
                                       ^
/home/dcat/osdev/w2/include/fs_node.h:19:39: warning: its scope is only this definition or declaration, which is probably not what you want
/home/dcat/osdev/w2/include/fs_node.h:21:40: warning: ‘struct fs_node’ declared inside parameter list
 typedef int32_t (*write_type_t)(struct fs_node *, __fs_special_t *fsp, uint32_t, uint32_t, uint8_t *);
                                        ^
/home/dcat/osdev/w2/include/fs_node.h:23:36: warning: ‘struct fs_node’ declared inside parameter list
 typedef void (*open_type_t)(struct fs_node *, __fs_special_t *fsp);
                                    ^
/home/dcat/osdev/w2/include/fs_node.h:25:37: warning: ‘struct fs_node’ declared inside parameter list
 typedef void (*close_type_t)(struct fs_node *, __fs_special_t *fsp);
                                     ^
/home/dcat/osdev/w2/include/fs_node.h:28:101: warning: ‘struct dirent’ declared inside parameter list
 typedef int32_t (*readdir_type_t)(struct fs_node *node, __fs_special_t *fsp, uint32_t count, struct dirent *result);
                                                                                                     ^
/home/dcat/osdev/w2/include/fs_node.h:28:101: warning: ‘struct fs_node’ declared inside parameter list
/home/dcat/osdev/w2/include/fs_node.h:30:95: warning: ‘struct fs_node’ declared inside parameter list
 typedef int (*finddir_type_t)(struct fs_node *, __fs_special_t *fsp, const char *name, struct fs_node *result_out);
                                                                                               ^
In file included from /home/dcat/osdev/w2/schedule.c:5:0:
/home/dcat/osdev/w2/schedule.c: In function ‘do_schedule’:
/home/dcat/osdev/w2/include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/schedule.c:15:5: note: in expansion of macro ‘dprintf’
     dprintf("schedule routine");
     ^
In file included from /home/dcat/osdev/w2/schedule.c:6:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/schedule.c:5:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/schedule.c:15:5: note: in expansion of macro ‘dprintf’
     dprintf("schedule routine");
     ^
In file included from /home/dcat/osdev/w2/schedule.c:6:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/schedule.c:5:0:
/home/dcat/osdev/w2/include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/schedule.c:23:5: note: in expansion of macro ‘dprintf’
     dprintf("wait queue[%x]:", proc_ready_queue->count);
     ^
In file included from /home/dcat/osdev/w2/schedule.c:6:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/schedule.c:5:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/schedule.c:23:5: note: in expansion of macro ‘dprintf’
     dprintf("wait queue[%x]:", proc_ready_queue->count);
     ^
In file included from /home/dcat/osdev/w2/schedule.c:6:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/schedule.c:5:0:
/home/dcat/osdev/w2/include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/schedule.c:27:9: note: in expansion of macro ‘dprintf’
         dprintf("[%x]", proc_ready_queue->pcbs[y]->pid);
         ^
In file included from /home/dcat/osdev/w2/schedule.c:6:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/schedule.c:5:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/schedule.c:27:9: note: in expansion of macro ‘dprintf’
         dprintf("[%x]", proc_ready_queue->pcbs[y]->pid);
         ^
In file included from /home/dcat/osdev/w2/schedule.c:6:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
/home/dcat/osdev/w2/schedule.c:33:8: warning: suggest explicit braces to avoid ambiguous ‘else’ [-Wparentheses]
     if (choosed == 0)
        ^
In file included from /home/dcat/osdev/w2/schedule.c:5:0:
/home/dcat/osdev/w2/include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/schedule.c:43:5: note: in expansion of macro ‘dprintf’
     dprintf("choosed proc:%x", choosed->pid);
     ^
In file included from /home/dcat/osdev/w2/schedule.c:6:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/schedule.c:5:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/schedule.c:43:5: note: in expansion of macro ‘dprintf’
     dprintf("choosed proc:%x", choosed->pid);
     ^
In file included from /home/dcat/osdev/w2/schedule.c:6:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
/home/dcat/osdev/w2/schedule.c:13:17: warning: unused variable ‘proc_ready’ [-Wunused-variable]
     extern bool proc_ready;
                 ^
In file included from /home/dcat/osdev/w2/schedule.c:5:0:
/home/dcat/osdev/w2/schedule.c: At top level:
/home/dcat/osdev/w2/include/system.h:82:27: warning: inline function ‘itoa’ declared but never defined
 extern inline const char *itoa(int i, char result[]);
                           ^
/home/dcat/osdev/w2/include/system.h:82:27: warning: inline function ‘itoa’ declared but never defined
/home/dcat/osdev/w2/screen.c: In function ‘putc’:
/home/dcat/osdev/w2/screen.c:56:13: warning: implicit declaration of function ‘scroll’ [-Wimplicit-function-declaration]
             scroll();
             ^
In file included from /home/dcat/osdev/w2/include/system.h:4:0,
                 from /home/dcat/osdev/w2/include/contious_heap.h:8,
                 from /home/dcat/osdev/w2/include/kmalloc.h:9,
                 from /home/dcat/osdev/w2/screen.c:4:
/home/dcat/osdev/w2/screen.c: In function ‘screenClear’:
/home/dcat/osdev/w2/include/screen.h:10:28: warning: passing argument 1 of ‘memset’ makes pointer from integer without a cast
 #define SCREEN_MEMORY_BASE 0xB8000
                            ^
/home/dcat/osdev/w2/screen.c:96:12: note: in expansion of macro ‘SCREEN_MEMORY_BASE’
     memset(SCREEN_MEMORY_BASE, 0, SCREEN_MAX_Y * SCREEN_MAX_X * 2);
            ^
In file included from /home/dcat/osdev/w2/include/contious_heap.h:8:0,
                 from /home/dcat/osdev/w2/include/kmalloc.h:9,
                 from /home/dcat/osdev/w2/screen.c:4:
/home/dcat/osdev/w2/include/system.h:76:23: note: expected ‘unsigned char *’ but argument is of type ‘int’
 extern unsigned char *memset(unsigned char *dest, unsigned char val, int count);
                       ^
/home/dcat/osdev/w2/screen.c: At top level:
/home/dcat/osdev/w2/screen.c:165:13: warning: conflicting types for ‘scroll’
 inline void scroll() {
             ^
/home/dcat/osdev/w2/screen.c:56:13: note: previous implicit declaration of ‘scroll’ was here
             scroll();
             ^
/home/dcat/osdev/w2/screen.c: In function ‘scroll’:
/home/dcat/osdev/w2/screen.c:170:16: warning: passing argument 1 of ‘memset’ makes pointer from integer without a cast
         memset((SCREEN_MEMORY_BASE + ((SCREEN_MAX_Y - 1) * SCREEN_MAX_X) * 2), 0, SCREEN_MAX_X * 2);
                ^
In file included from /home/dcat/osdev/w2/include/contious_heap.h:8:0,
                 from /home/dcat/osdev/w2/include/kmalloc.h:9,
                 from /home/dcat/osdev/w2/screen.c:4:
/home/dcat/osdev/w2/include/system.h:76:23: note: expected ‘unsigned char *’ but argument is of type ‘int’
 extern unsigned char *memset(unsigned char *dest, unsigned char val, int count);
                       ^
/home/dcat/osdev/w2/screen.c: At top level:
/home/dcat/osdev/w2/include/system.h:82:27: warning: inline function ‘itoa’ declared but never defined
 extern inline const char *itoa(int i, char result[]);
                           ^
/home/dcat/osdev/w2/include/system.h:82:27: warning: inline function ‘itoa’ declared but never defined
In file included from /home/dcat/osdev/w2/include/str.h:9:0,
                 from /home/dcat/osdev/w2/str.c:5:
/home/dcat/osdev/w2/include/system.h:82:27: warning: inline function ‘itoa’ declared but never defined
 extern inline const char *itoa(int i, char result[]);
                           ^
/home/dcat/osdev/w2/include/system.h:82:27: warning: inline function ‘itoa’ declared but never defined
/home/dcat/osdev/w2/str.c: In function ‘itohexs’:
/home/dcat/osdev/w2/str.c:138:1: warning: control reaches end of non-void function [-Wreturn-type]
 }
 ^
/home/dcat/osdev/w2/str.c: In function ‘strformat’:
/home/dcat/osdev/w2/str.c:186:1: warning: control reaches end of non-void function [-Wreturn-type]
 }
 ^
/home/dcat/osdev/w2/str.c: In function ‘strformatw’:
/home/dcat/osdev/w2/str.c:234:1: warning: control reaches end of non-void function [-Wreturn-type]
 }
 ^
In file included from /home/dcat/osdev/w2/fs/vfs/include/vfs.h:9:0,
                 from /home/dcat/osdev/w2/proc/elf/include/proc.h:11,
                 from /home/dcat/osdev/w2/syscall.c:6:
/home/dcat/osdev/w2/include/fs_node.h:19:39: warning: ‘struct fs_node’ declared inside parameter list
 typedef int32_t (*read_type_t)(struct fs_node *, __fs_special_t *fsp, uint32_t, uint32_t, uint8_t *);
                                       ^
/home/dcat/osdev/w2/include/fs_node.h:19:39: warning: its scope is only this definition or declaration, which is probably not what you want
/home/dcat/osdev/w2/include/fs_node.h:21:40: warning: ‘struct fs_node’ declared inside parameter list
 typedef int32_t (*write_type_t)(struct fs_node *, __fs_special_t *fsp, uint32_t, uint32_t, uint8_t *);
                                        ^
/home/dcat/osdev/w2/include/fs_node.h:23:36: warning: ‘struct fs_node’ declared inside parameter list
 typedef void (*open_type_t)(struct fs_node *, __fs_special_t *fsp);
                                    ^
/home/dcat/osdev/w2/include/fs_node.h:25:37: warning: ‘struct fs_node’ declared inside parameter list
 typedef void (*close_type_t)(struct fs_node *, __fs_special_t *fsp);
                                     ^
/home/dcat/osdev/w2/include/fs_node.h:28:101: warning: ‘struct dirent’ declared inside parameter list
 typedef int32_t (*readdir_type_t)(struct fs_node *node, __fs_special_t *fsp, uint32_t count, struct dirent *result);
                                                                                                     ^
/home/dcat/osdev/w2/include/fs_node.h:28:101: warning: ‘struct fs_node’ declared inside parameter list
/home/dcat/osdev/w2/include/fs_node.h:30:95: warning: ‘struct fs_node’ declared inside parameter list
 typedef int (*finddir_type_t)(struct fs_node *, __fs_special_t *fsp, const char *name, struct fs_node *result_out);
                                                                                               ^
/home/dcat/osdev/w2/syscall.c:37:9: warning: initialization makes integer from pointer without a cast
         &helloworld,
         ^
/home/dcat/osdev/w2/syscall.c:37:9: warning: (near initialization for ‘syscalls_table[0]’)
/home/dcat/osdev/w2/syscall.c:38:9: warning: initialization makes integer from pointer without a cast
         &screen_print,
         ^
/home/dcat/osdev/w2/syscall.c:38:9: warning: (near initialization for ‘syscalls_table[1]’)
/home/dcat/osdev/w2/syscall.c:39:9: warning: initialization makes integer from pointer without a cast
         &delay,
         ^
/home/dcat/osdev/w2/syscall.c:39:9: warning: (near initialization for ‘syscalls_table[2]’)
/home/dcat/osdev/w2/syscall.c:40:9: warning: initialization makes integer from pointer without a cast
         &fork_s,
         ^
/home/dcat/osdev/w2/syscall.c:40:9: warning: (near initialization for ‘syscalls_table[3]’)
/home/dcat/osdev/w2/syscall.c:41:9: warning: initialization makes integer from pointer without a cast
         &getpid,
         ^
/home/dcat/osdev/w2/syscall.c:41:9: warning: (near initialization for ‘syscalls_table[4]’)
/home/dcat/osdev/w2/syscall.c:42:9: warning: initialization makes integer from pointer without a cast
         &hello_switcher,
         ^
/home/dcat/osdev/w2/syscall.c:42:9: warning: (near initialization for ‘syscalls_table[5]’)
/home/dcat/osdev/w2/syscall.c:44:1: warning: initialization makes integer from pointer without a cast
 };
 ^
/home/dcat/osdev/w2/syscall.c:44:1: warning: (near initialization for ‘syscalls_table[6]’)
/home/dcat/osdev/w2/syscall.c: In function ‘syscall_handler’:
/home/dcat/osdev/w2/syscall.c:75:25: warning: initialization makes pointer from integer without a cast
     syscall_fun_t fun = syscalls_table[r->eax];
                         ^
In file included from /home/dcat/osdev/w2/include/str.h:9:0,
                 from /home/dcat/osdev/w2/syscall.c:4:
/home/dcat/osdev/w2/syscall.c: At top level:
/home/dcat/osdev/w2/include/system.h:82:27: warning: inline function ‘itoa’ declared but never defined
 extern inline const char *itoa(int i, char result[]);
                           ^
/home/dcat/osdev/w2/include/system.h:82:27: warning: inline function ‘itoa’ declared but never defined
/home/dcat/osdev/w2/syscall.c: In function ‘hello_switcher’:
/home/dcat/osdev/w2/syscall.c:34:1: warning: control reaches end of non-void function [-Wreturn-type]
 }
 ^
/home/dcat/osdev/w2/system.c: In function ‘itoa’:
/home/dcat/osdev/w2/system.c:71:20: warning: pointer targets in passing argument 1 of ‘memcpy’ differ in signedness [-Wpointer-sign]
             memcpy(result, &result[x], x + 1);
                    ^
/home/dcat/osdev/w2/system.c:5:16: note: expected ‘unsigned char *’ but argument is of type ‘char *’
 unsigned char *memcpy(unsigned char *dest, const unsigned char *src, int count) {
                ^
/home/dcat/osdev/w2/system.c:71:28: warning: pointer targets in passing argument 2 of ‘memcpy’ differ in signedness [-Wpointer-sign]
             memcpy(result, &result[x], x + 1);
                            ^
/home/dcat/osdev/w2/system.c:5:16: note: expected ‘const unsigned char *’ but argument is of type ‘char *’
 unsigned char *memcpy(unsigned char *dest, const unsigned char *src, int count) {
                ^
/home/dcat/osdev/w2/system.c: In function ‘memcpy’:
/home/dcat/osdev/w2/system.c:9:1: warning: control reaches end of non-void function [-Wreturn-type]
 }
 ^
/home/dcat/osdev/w2/system.c: In function ‘dmemcpy’:
/home/dcat/osdev/w2/system.c:16:1: warning: control reaches end of non-void function [-Wreturn-type]
 }
 ^
/home/dcat/osdev/w2/system.c: In function ‘get_eip’:
/home/dcat/osdev/w2/system.c:82:1: warning: control reaches end of non-void function [-Wreturn-type]
 }
 ^
/home/dcat/osdev/w2/system.c: Assembler messages:
/home/dcat/osdev/w2/system.c:79: Warning: indirect jmp without `*'
In file included from /home/dcat/osdev/w2/fs/vfs/include/vfs.h:9:0,
                 from /home/dcat/osdev/w2/proc/elf/include/proc.h:11,
                 from /home/dcat/osdev/w2/timer.c:7:
/home/dcat/osdev/w2/include/fs_node.h:19:39: warning: ‘struct fs_node’ declared inside parameter list
 typedef int32_t (*read_type_t)(struct fs_node *, __fs_special_t *fsp, uint32_t, uint32_t, uint8_t *);
                                       ^
/home/dcat/osdev/w2/include/fs_node.h:19:39: warning: its scope is only this definition or declaration, which is probably not what you want
/home/dcat/osdev/w2/include/fs_node.h:21:40: warning: ‘struct fs_node’ declared inside parameter list
 typedef int32_t (*write_type_t)(struct fs_node *, __fs_special_t *fsp, uint32_t, uint32_t, uint8_t *);
                                        ^
/home/dcat/osdev/w2/include/fs_node.h:23:36: warning: ‘struct fs_node’ declared inside parameter list
 typedef void (*open_type_t)(struct fs_node *, __fs_special_t *fsp);
                                    ^
/home/dcat/osdev/w2/include/fs_node.h:25:37: warning: ‘struct fs_node’ declared inside parameter list
 typedef void (*close_type_t)(struct fs_node *, __fs_special_t *fsp);
                                     ^
/home/dcat/osdev/w2/include/fs_node.h:28:101: warning: ‘struct dirent’ declared inside parameter list
 typedef int32_t (*readdir_type_t)(struct fs_node *node, __fs_special_t *fsp, uint32_t count, struct dirent *result);
                                                                                                     ^
/home/dcat/osdev/w2/include/fs_node.h:28:101: warning: ‘struct fs_node’ declared inside parameter list
/home/dcat/osdev/w2/include/fs_node.h:30:95: warning: ‘struct fs_node’ declared inside parameter list
 typedef int (*finddir_type_t)(struct fs_node *, __fs_special_t *fsp, const char *name, struct fs_node *result_out);
                                                                                               ^
In file included from /home/dcat/osdev/w2/include/str.h:9:0,
                 from /home/dcat/osdev/w2/timer.c:5:
/home/dcat/osdev/w2/timer.c: In function ‘delay’:
/home/dcat/osdev/w2/include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/timer.c:29:5: note: in expansion of macro ‘dprintf’
     dprintf("proc %x delay %ds.", getpid(), sec);
     ^
In file included from /home/dcat/osdev/w2/timer.c:5:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/str.h:9,
                 from /home/dcat/osdev/w2/timer.c:5:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/timer.c:29:5: note: in expansion of macro ‘dprintf’
     dprintf("proc %x delay %ds.", getpid(), sec);
     ^
In file included from /home/dcat/osdev/w2/timer.c:5:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/str.h:9:0,
                 from /home/dcat/osdev/w2/timer.c:5:
/home/dcat/osdev/w2/timer.c: At top level:
/home/dcat/osdev/w2/include/system.h:82:27: warning: inline function ‘itoa’ declared but never defined
 extern inline const char *itoa(int i, char result[]);
                           ^
/home/dcat/osdev/w2/include/system.h:82:27: warning: inline function ‘itoa’ declared but never defined
In file included from /home/dcat/osdev/w2/timer.c:9:0:
/home/dcat/osdev/w2/include/irqs.h:43:14: warning: ‘irq_routines’ defined but not used [-Wunused-variable]
 static void *irq_routines[16] = {
              ^
/home/dcat/osdev/w2/tss.c: In function ‘write_tss’:
/home/dcat/osdev/w2/tss.c:20:12: warning: passing argument 1 of ‘memset’ from incompatible pointer type
     memset(&tss_entry, 0, sizeof(tss_entry));
            ^
In file included from /home/dcat/osdev/w2/include/gdt.h:8:0,
                 from /home/dcat/osdev/w2/include/tss.h:9,
                 from /home/dcat/osdev/w2/tss.c:5:
/home/dcat/osdev/w2/include/system.h:76:23: note: expected ‘unsigned char *’ but argument is of type ‘struct tss_entry_t *’
 extern unsigned char *memset(unsigned char *dest, unsigned char val, int count);
                       ^
/home/dcat/osdev/w2/tss.c: At top level:
/home/dcat/osdev/w2/include/system.h:82:27: warning: inline function ‘itoa’ declared but never defined
 extern inline const char *itoa(int i, char result[]);
                           ^
/home/dcat/osdev/w2/include/system.h:82:27: warning: inline function ‘itoa’ declared but never defined
In file included from /home/dcat/osdev/w2/fs/ext2/include/ext2.h:8:0,
                 from /home/dcat/osdev/w2/fs/ext2/ext2.c:5:
/home/dcat/osdev/w2/include/fs_node.h:19:39: warning: ‘struct fs_node’ declared inside parameter list
 typedef int32_t (*read_type_t)(struct fs_node *, __fs_special_t *fsp, uint32_t, uint32_t, uint8_t *);
                                       ^
/home/dcat/osdev/w2/include/fs_node.h:19:39: warning: its scope is only this definition or declaration, which is probably not what you want
/home/dcat/osdev/w2/include/fs_node.h:21:40: warning: ‘struct fs_node’ declared inside parameter list
 typedef int32_t (*write_type_t)(struct fs_node *, __fs_special_t *fsp, uint32_t, uint32_t, uint8_t *);
                                        ^
/home/dcat/osdev/w2/include/fs_node.h:23:36: warning: ‘struct fs_node’ declared inside parameter list
 typedef void (*open_type_t)(struct fs_node *, __fs_special_t *fsp);
                                    ^
/home/dcat/osdev/w2/include/fs_node.h:25:37: warning: ‘struct fs_node’ declared inside parameter list
 typedef void (*close_type_t)(struct fs_node *, __fs_special_t *fsp);
                                     ^
/home/dcat/osdev/w2/include/fs_node.h:28:101: warning: ‘struct dirent’ declared inside parameter list
 typedef int32_t (*readdir_type_t)(struct fs_node *node, __fs_special_t *fsp, uint32_t count, struct dirent *result);
                                                                                                     ^
/home/dcat/osdev/w2/include/fs_node.h:28:101: warning: ‘struct fs_node’ declared inside parameter list
/home/dcat/osdev/w2/include/fs_node.h:30:95: warning: ‘struct fs_node’ declared inside parameter list
 typedef int (*finddir_type_t)(struct fs_node *, __fs_special_t *fsp, const char *name, struct fs_node *result_out);
                                                                                               ^
In file included from /home/dcat/osdev/w2/include/str.h:9:0,
                 from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:
/home/dcat/osdev/w2/fs/ext2/ext2.c: In function ‘ext2_read_block’:
/home/dcat/osdev/w2/include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:20:5: note: in expansion of macro ‘dprintf’
     dprintf("[%x:%x] ==> [%x]", base, offset, buff);
     ^
In file included from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/str.h:9,
                 from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:20:5: note: in expansion of macro ‘dprintf’
     dprintf("[%x:%x] ==> [%x]", base, offset, buff);
     ^
In file included from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/str.h:9:0,
                 from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:
/home/dcat/osdev/w2/fs/ext2/ext2.c: In function ‘ext2_write_block’:
/home/dcat/osdev/w2/include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:27:5: note: in expansion of macro ‘dprintf’
     dprintf("[%x:%x] <== [%x]", base, offset, buff);
     ^
In file included from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/str.h:9,
                 from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:27:5: note: in expansion of macro ‘dprintf’
     dprintf("[%x:%x] <== [%x]", base, offset, buff);
     ^
In file included from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
/home/dcat/osdev/w2/fs/ext2/ext2.c: In function ‘ext2_get_inode_block’:
/home/dcat/osdev/w2/fs/ext2/ext2.c:39:9: warning: initialization makes integer from pointer without a cast
         TODO;//Alloc a table
         ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:39:9: warning: (near initialization for ‘(anonymous)[0]’)
/home/dcat/osdev/w2/fs/ext2/ext2.c: In function ‘ext2_find_inote’:
/home/dcat/osdev/w2/fs/ext2/ext2.c:72:12: warning: passing argument 1 of ‘memcpy’ from incompatible pointer type
     memcpy(inode_out, inode, sizeof(ext2_inode_t));
            ^
In file included from /home/dcat/osdev/w2/include/str.h:9:0,
                 from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:
/home/dcat/osdev/w2/include/system.h:72:23: note: expected ‘unsigned char *’ but argument is of type ‘struct ext2_inode_t *’
 extern unsigned char *memcpy(unsigned char *dest, const unsigned char *src, int count);
                       ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:72:23: warning: passing argument 2 of ‘memcpy’ from incompatible pointer type
     memcpy(inode_out, inode, sizeof(ext2_inode_t));
                       ^
In file included from /home/dcat/osdev/w2/include/str.h:9:0,
                 from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:
/home/dcat/osdev/w2/include/system.h:72:23: note: expected ‘const unsigned char *’ but argument is of type ‘struct ext2_inode_t *’
 extern unsigned char *memcpy(unsigned char *dest, const unsigned char *src, int count);
                       ^
/home/dcat/osdev/w2/include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:73:5: note: in expansion of macro ‘dprintf’
     dprintf("inode[%x][%x][%x][%x]", inode_id, off + off_les, off_les, inode);
     ^
In file included from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/str.h:9,
                 from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:73:5: note: in expansion of macro ‘dprintf’
     dprintf("inode[%x][%x][%x][%x]", inode_id, off + off_les, off_les, inode);
     ^
In file included from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/str.h:9:0,
                 from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:
/home/dcat/osdev/w2/fs/ext2/ext2.c: In function ‘ext2_dir_iterator_next’:
/home/dcat/osdev/w2/include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:89:9: note: in expansion of macro ‘dprintf’
         dprintf("switch block:%x/%x [%x][%x]", iter->next_block_id, EXT2_NDIR_BLOCKS,
         ^
In file included from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/str.h:9,
                 from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:89:9: note: in expansion of macro ‘dprintf’
         dprintf("switch block:%x/%x [%x][%x]", iter->next_block_id, EXT2_NDIR_BLOCKS,
         ^
In file included from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/str.h:9:0,
                 from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:
/home/dcat/osdev/w2/fs/ext2/ext2.c: In function ‘ext2_dir_iterator_exit’:
/home/dcat/osdev/w2/include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:108:5: note: in expansion of macro ‘dprintf’
     dprintf("free blk:%x", iter->block);
     ^
In file included from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/str.h:9,
                 from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:108:5: note: in expansion of macro ‘dprintf’
     dprintf("free blk:%x", iter->block);
     ^
In file included from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
/home/dcat/osdev/w2/fs/ext2/ext2.c: In function ‘ext2_update_sblk_and_bg’:
/home/dcat/osdev/w2/fs/ext2/ext2.c:116:76: warning: passing argument 3 of ‘fs->dev->write’ from incompatible pointer type
     int err = fs->dev->write(EXT2_SUPER_BLK_OFFSET, sizeof(fs->super_blk), &fs->super_blk);
                                                                            ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:116:76: note: expected ‘unsigned char *’ but argument is of type ‘struct ext2_super_block_t *’
/home/dcat/osdev/w2/fs/ext2/ext2.c:118:103: warning: passing argument 3 of ‘fs->dev->write’ from incompatible pointer type
     return fs->dev->write(EXT2_BLOCK_GROUP_OFFSET, sizeof(ext2_group_desc_t) * fs->block_group_count, fs->block_group);
                                                                                                       ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:118:103: note: expected ‘unsigned char *’ but argument is of type ‘struct ext2_group_desc_t *’
In file included from /home/dcat/osdev/w2/include/str.h:9:0,
                 from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:
/home/dcat/osdev/w2/fs/ext2/ext2.c: In function ‘ext2_alloc_inodeid’:
/home/dcat/osdev/w2/include/system.h:97:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:124:9: note: in expansion of macro ‘deprintf’
         deprintf("[-] out of inode!");
         ^
In file included from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/str.h:9,
                 from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:97:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:124:9: note: in expansion of macro ‘deprintf’
         deprintf("[-] out of inode!");
         ^
In file included from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/str.h:9:0,
                 from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:
/home/dcat/osdev/w2/include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:136:21: note: in expansion of macro ‘dprintf’
                     dprintf("[+][%x] found empty inode:%x", bitmap, *new_inode_id);
                     ^
In file included from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/str.h:9,
                 from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:136:21: note: in expansion of macro ‘dprintf’
                     dprintf("[+][%x] found empty inode:%x", bitmap, *new_inode_id);
                     ^
In file included from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/str.h:9:0,
                 from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:
/home/dcat/osdev/w2/fs/ext2/ext2.c: In function ‘ext2_alloc_block’:
/home/dcat/osdev/w2/include/system.h:97:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:157:9: note: in expansion of macro ‘deprintf’
         deprintf("[-] out of block!");
         ^
In file included from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/str.h:9,
                 from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:97:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:157:9: note: in expansion of macro ‘deprintf’
         deprintf("[-] out of block!");
         ^
In file included from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/str.h:9:0,
                 from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:
/home/dcat/osdev/w2/include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:162:13: note: in expansion of macro ‘dprintf’
             dprintf("[search:%x]", x);
             ^
In file included from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/str.h:9,
                 from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:162:13: note: in expansion of macro ‘dprintf’
             dprintf("[search:%x]", x);
             ^
In file included from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/str.h:9:0,
                 from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:
/home/dcat/osdev/w2/include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:168:21: note: in expansion of macro ‘dprintf’
                     dprintf("[+][%x] found empty block:=%x", bitmap, y);
                     ^
In file included from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/str.h:9,
                 from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:168:21: note: in expansion of macro ‘dprintf’
                     dprintf("[+][%x] found empty block:=%x", bitmap, y);
                     ^
In file included from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/str.h:9:0,
                 from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:
/home/dcat/osdev/w2/include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:177:25: note: in expansion of macro ‘dprintf’
                         dprintf("clear blk:%x", *new_block_id);
                         ^
In file included from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/str.h:9,
                 from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:177:25: note: in expansion of macro ‘dprintf’
                         dprintf("clear blk:%x", *new_block_id);
                         ^
In file included from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/str.h:9:0,
                 from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:
/home/dcat/osdev/w2/fs/ext2/ext2.c: In function ‘ext2_make’:
/home/dcat/osdev/w2/include/system.h:97:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/include/system.h:100:1: note: in expansion of macro ‘deprintf’
 deprintf("CHK::" #fun " Failed:" msg,##args);\
 ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:195:5: note: in expansion of macro ‘CHK’
     CHK (ext2_alloc_inodeid(fs, type, &ninode_id), "out of inodeid?");
     ^
In file included from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/str.h:9,
                 from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:97:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/include/system.h:100:1: note: in expansion of macro ‘deprintf’
 deprintf("CHK::" #fun " Failed:" msg,##args);\
 ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:195:5: note: in expansion of macro ‘CHK’
     CHK (ext2_alloc_inodeid(fs, type, &ninode_id), "out of inodeid?");
     ^
In file included from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/str.h:9:0,
                 from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:
/home/dcat/osdev/w2/include/system.h:97:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/include/system.h:100:1: note: in expansion of macro ‘deprintf’
 deprintf("CHK::" #fun " Failed:" msg,##args);\
 ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:201:5: note: in expansion of macro ‘CHK’
     CHK(ext2_get_inode_block(fs, father_id, &findex, &fblkno, NULL, fblk), "cannot get father inode");
     ^
In file included from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/str.h:9,
                 from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:97:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/include/system.h:100:1: note: in expansion of macro ‘deprintf’
 deprintf("CHK::" #fun " Failed:" msg,##args);\
 ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:201:5: note: in expansion of macro ‘CHK’
     CHK(ext2_get_inode_block(fs, father_id, &findex, &fblkno, NULL, fblk), "cannot get father inode");
     ^
In file included from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:210:20: warning: pointer targets in initialization differ in signedness [-Wpointer-sign]
         char *np = dir->name;
                    ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:212:25: warning: pointer targets in passing argument 1 of ‘memcmp’ differ in signedness [-Wpointer-sign]
             if (!memcmp(np, name, name_len)) {
                         ^
In file included from /home/dcat/osdev/w2/include/str.h:9:0,
                 from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:
/home/dcat/osdev/w2/include/system.h:88:9: note: expected ‘unsigned char *’ but argument is of type ‘char *’
 uint8_t memcmp(uint8_t *a1, uint8_t *a2, uint8_t len);
         ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:212:29: warning: pointer targets in passing argument 2 of ‘memcmp’ differ in signedness [-Wpointer-sign]
             if (!memcmp(np, name, name_len)) {
                             ^
In file included from /home/dcat/osdev/w2/include/str.h:9:0,
                 from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:
/home/dcat/osdev/w2/include/system.h:88:9: note: expected ‘unsigned char *’ but argument is of type ‘char *’
 uint8_t memcmp(uint8_t *a1, uint8_t *a2, uint8_t len);
         ^
/home/dcat/osdev/w2/include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:213:17: note: in expansion of macro ‘dprintf’
                 dprintf("[-] %s already exists.", name);
                 ^
In file included from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/str.h:9,
                 from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:213:17: note: in expansion of macro ‘dprintf’
                 dprintf("[-] %s already exists.", name);
                 ^
In file included from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/str.h:9:0,
                 from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:
/home/dcat/osdev/w2/include/system.h:97:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/include/system.h:100:1: note: in expansion of macro ‘deprintf’
 deprintf("CHK::" #fun " Failed:" msg,##args);\
 ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:221:5: note: in expansion of macro ‘CHK’
     CHK(ext2_get_inode_block(fs, ninode_id, &index, &blk_no, NULL, blk), "cannot get child inode");
     ^
In file included from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/str.h:9,
                 from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:97:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/include/system.h:100:1: note: in expansion of macro ‘deprintf’
 deprintf("CHK::" #fun " Failed:" msg,##args);\
 ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:221:5: note: in expansion of macro ‘CHK’
     CHK(ext2_get_inode_block(fs, ninode_id, &index, &blk_no, NULL, blk), "cannot get child inode");
     ^
In file included from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/str.h:9:0,
                 from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:
/home/dcat/osdev/w2/include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:225:5: note: in expansion of macro ‘dprintf’
     dprintf("[-]blockNO[%x][OFF:%x]", blk_no, blk_no * fs->block_size + sizeof(ext2_inode_t) * index);
     ^
In file included from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/str.h:9,
                 from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:225:5: note: in expansion of macro ‘dprintf’
     dprintf("[-]blockNO[%x][OFF:%x]", blk_no, blk_no * fs->block_size + sizeof(ext2_inode_t) * index);
     ^
In file included from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:226:12: warning: passing argument 1 of ‘memset’ from incompatible pointer type
     memset(inode, 0, sizeof(ext2_inode_t));
            ^
In file included from /home/dcat/osdev/w2/include/str.h:9:0,
                 from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:
/home/dcat/osdev/w2/include/system.h:76:23: note: expected ‘unsigned char *’ but argument is of type ‘struct ext2_inode_t *’
 extern unsigned char *memset(unsigned char *dest, unsigned char val, int count);
                       ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:277:21: warning: initialization makes integer from pointer without a cast
                     TODO;
                     ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:277:21: warning: (near initialization for ‘(anonymous)[0]’)
In file included from /home/dcat/osdev/w2/include/str.h:9:0,
                 from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:
/home/dcat/osdev/w2/include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:292:17: note: in expansion of macro ‘dprintf’
                 dprintf("[|%x]", dir->inode_id);
                 ^
In file included from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/str.h:9,
                 from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:292:17: note: in expansion of macro ‘dprintf’
                 dprintf("[|%x]", dir->inode_id);
                 ^
In file included from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/str.h:9:0,
                 from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:
/home/dcat/osdev/w2/include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:296:13: note: in expansion of macro ‘dprintf’
             dprintf("[dir]nlen:%x size:%x tsize:%x", dir->name_length, dir->size, tsize);
             ^
In file included from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/str.h:9,
                 from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:296:13: note: in expansion of macro ‘dprintf’
             dprintf("[dir]nlen:%x size:%x tsize:%x", dir->name_length, dir->size, tsize);
             ^
In file included from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/str.h:9:0,
                 from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:
/home/dcat/osdev/w2/include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:312:17: note: in expansion of macro ‘dprintf’
                 dprintf("[**] fix length:[%x] -->[%x]", old_len, dir->size);
                 ^
In file included from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/str.h:9,
                 from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:312:17: note: in expansion of macro ‘dprintf’
                 dprintf("[**] fix length:[%x] -->[%x]", old_len, dir->size);
                 ^
In file included from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:329:29: warning: cast from pointer to integer of different size [-Wpointer-to-int-cast]
     dir->size = (uint16_t) ((uint16_t) blk + fs->block_size - ((uint16_t) dir));
                             ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:329:64: warning: cast from pointer to integer of different size [-Wpointer-to-int-cast]
     dir->size = (uint16_t) ((uint16_t) blk + fs->block_size - ((uint16_t) dir));
                                                                ^
In file included from /home/dcat/osdev/w2/include/str.h:9:0,
                 from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:
/home/dcat/osdev/w2/include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:333:5: note: in expansion of macro ‘dprintf’
     dprintf("make done");
     ^
In file included from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/str.h:9,
                 from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:333:5: note: in expansion of macro ‘dprintf’
     dprintf("make done");
     ^
In file included from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
/home/dcat/osdev/w2/fs/ext2/ext2.c: In function ‘ext2_read_file_block_singly’:
/home/dcat/osdev/w2/fs/ext2/ext2.c:345:51: warning: passing argument 4 of ‘ext2_read_block’ from incompatible pointer type
     ext2_read_block(fs, inode->i_singly_block, 1, blk);
                                                   ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:17:5: note: expected ‘unsigned char *’ but argument is of type ‘uint32_t *’
 int ext2_read_block(ext2_t *fs, uint32_t base, uint32_t count, uint8_t *buff) {
     ^
In file included from /home/dcat/osdev/w2/include/str.h:9:0,
                 from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:
/home/dcat/osdev/w2/include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:348:5: note: in expansion of macro ‘dprintf’
     dprintf("[%s] %x", __func__, blk[no]);
     ^
In file included from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/str.h:9,
                 from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:348:5: note: in expansion of macro ‘dprintf’
     dprintf("[%s] %x", __func__, blk[no]);
     ^
In file included from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:350:9: warning: initialization makes integer from pointer without a cast
         if (create)TODO;
         ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:350:9: warning: (near initialization for ‘(anonymous)[0]’)
/home/dcat/osdev/w2/fs/ext2/ext2.c:349:8: warning: suggest explicit braces to avoid ambiguous ‘else’ [-Wparentheses]
     if (blk[no] == 0)
        ^
/home/dcat/osdev/w2/fs/ext2/ext2.c: In function ‘ext2_read_file_block_doubly’:
/home/dcat/osdev/w2/fs/ext2/ext2.c:358:5: warning: initialization makes integer from pointer without a cast
     TODO;
     ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:358:5: warning: (near initialization for ‘(anonymous)[0]’)
In file included from /home/dcat/osdev/w2/include/str.h:9:0,
                 from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:
/home/dcat/osdev/w2/fs/ext2/ext2.c: In function ‘ext2_read_file_block’:
/home/dcat/osdev/w2/include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:365:5: note: in expansion of macro ‘dprintf’
     dprintf("max_blocks:%x read[%x]", max_blocks, block_no);
     ^
In file included from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/str.h:9,
                 from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:365:5: note: in expansion of macro ‘dprintf’
     dprintf("max_blocks:%x read[%x]", max_blocks, block_no);
     ^
In file included from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/str.h:9:0,
                 from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:
/home/dcat/osdev/w2/include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:367:9: note: in expansion of macro ‘dprintf’
         dprintf("direct read[%x]:%x", block_no, inode->i_block[block_no]);
         ^
In file included from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/str.h:9,
                 from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:367:9: note: in expansion of macro ‘dprintf’
         dprintf("direct read[%x]:%x", block_no, inode->i_block[block_no]);
         ^
In file included from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/str.h:9:0,
                 from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:
/home/dcat/osdev/w2/include/system.h:97:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:371:17: note: in expansion of macro ‘deprintf’
                 deprintf("cannot alloc blk");
                 ^
In file included from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/str.h:9,
                 from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:97:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:371:17: note: in expansion of macro ‘deprintf’
                 deprintf("cannot alloc blk");
                 ^
In file included from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/str.h:9:0,
                 from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:
/home/dcat/osdev/w2/include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:378:9: note: in expansion of macro ‘dprintf’
         dprintf("singly direct read[%x]:%x", block_no, inode->i_block[block_no]);
         ^
In file included from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/str.h:9,
                 from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:378:9: note: in expansion of macro ‘dprintf’
         dprintf("singly direct read[%x]:%x", block_no, inode->i_block[block_no]);
         ^
In file included from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:381:9: warning: initialization makes integer from pointer without a cast
         TODO;
         ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:381:9: warning: (near initialization for ‘(anonymous)[0]’)
In file included from /home/dcat/osdev/w2/include/str.h:9:0,
                 from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:
/home/dcat/osdev/w2/fs/ext2/ext2.c: In function ‘ext2_read_file’:
/home/dcat/osdev/w2/include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:389:9: note: in expansion of macro ‘dprintf’
         dprintf("fix size:%x --> %x", size, inode->i_size - offset);
         ^
In file included from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/str.h:9,
                 from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:389:9: note: in expansion of macro ‘dprintf’
         dprintf("fix size:%x --> %x", size, inode->i_size - offset);
         ^
In file included from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/str.h:9:0,
                 from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:
/home/dcat/osdev/w2/include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:398:5: note: in expansion of macro ‘dprintf’
     dprintf("boff:%x bcou:%x", block_offset, block_count);
     ^
In file included from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/str.h:9,
                 from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:398:5: note: in expansion of macro ‘dprintf’
     dprintf("boff:%x bcou:%x", block_offset, block_count);
     ^
In file included from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/str.h:9:0,
                 from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:
/home/dcat/osdev/w2/include/system.h:97:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/include/system.h:100:1: note: in expansion of macro ‘deprintf’
 deprintf("CHK::" #fun " Failed:" msg,##args);\
 ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:403:9: note: in expansion of macro ‘CHK’
         CHK(ext2_read_file_block(fs, inode, x, true, tbuff), "");
         ^
In file included from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/str.h:9,
                 from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:97:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/include/system.h:100:1: note: in expansion of macro ‘deprintf’
 deprintf("CHK::" #fun " Failed:" msg,##args);\
 ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:403:9: note: in expansion of macro ‘CHK’
         CHK(ext2_read_file_block(fs, inode, x, true, tbuff), "");
         ^
In file included from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/str.h:9:0,
                 from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:
/home/dcat/osdev/w2/include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:405:9: note: in expansion of macro ‘dprintf’
         dprintf("head dblk no:%x offset:%x size:%x", x, hblk_off, s);
         ^
In file included from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/str.h:9,
                 from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:405:9: note: in expansion of macro ‘dprintf’
         dprintf("head dblk no:%x offset:%x size:%x", x, hblk_off, s);
         ^
In file included from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/str.h:9:0,
                 from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:
/home/dcat/osdev/w2/include/system.h:97:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/include/system.h:100:1: note: in expansion of macro ‘deprintf’
 deprintf("CHK::" #fun " Failed:" msg,##args);\
 ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:413:13: note: in expansion of macro ‘CHK’
             CHK(ext2_read_file_block(fs, inode, x, false, &buff[off]), "");
             ^
In file included from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/str.h:9,
                 from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:97:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/include/system.h:100:1: note: in expansion of macro ‘deprintf’
 deprintf("CHK::" #fun " Failed:" msg,##args);\
 ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:413:13: note: in expansion of macro ‘CHK’
             CHK(ext2_read_file_block(fs, inode, x, false, &buff[off]), "");
             ^
In file included from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/str.h:9:0,
                 from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:
/home/dcat/osdev/w2/include/system.h:97:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/include/system.h:100:1: note: in expansion of macro ‘deprintf’
 deprintf("CHK::" #fun " Failed:" msg,##args);\
 ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:420:9: note: in expansion of macro ‘CHK’
         CHK(ext2_read_file_block(fs, inode, x, false, tbuff), "");
         ^
In file included from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/str.h:9,
                 from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:97:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/include/system.h:100:1: note: in expansion of macro ‘deprintf’
 deprintf("CHK::" #fun " Failed:" msg,##args);\
 ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:420:9: note: in expansion of macro ‘CHK’
         CHK(ext2_read_file_block(fs, inode, x, false, tbuff), "");
         ^
In file included from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/str.h:9:0,
                 from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:
/home/dcat/osdev/w2/include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:421:9: note: in expansion of macro ‘dprintf’
         dprintf("footer dblk no:%x size:%x", x, les);
         ^
In file included from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/str.h:9,
                 from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:421:9: note: in expansion of macro ‘dprintf’
         dprintf("footer dblk no:%x size:%x", x, les);
         ^
In file included from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/str.h:9:0,
                 from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:
/home/dcat/osdev/w2/fs/ext2/ext2.c: In function ‘ext2_get_file_blockid’:
/home/dcat/osdev/w2/include/system.h:97:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/include/system.h:100:1: note: in expansion of macro ‘deprintf’
 deprintf("CHK::" #fun " Failed:" msg,##args);\
 ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:446:13: note: in expansion of macro ‘CHK’
             CHK(ext2_alloc_block(fs, &inode->i_singly_block, true), "fail to alloc new block");
             ^
In file included from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/str.h:9,
                 from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:97:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/include/system.h:100:1: note: in expansion of macro ‘deprintf’
 deprintf("CHK::" #fun " Failed:" msg,##args);\
 ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:446:13: note: in expansion of macro ‘CHK’
             CHK(ext2_alloc_block(fs, &inode->i_singly_block, true), "fail to alloc new block");
             ^
In file included from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/str.h:9:0,
                 from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:
/home/dcat/osdev/w2/include/system.h:97:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/include/system.h:100:1: note: in expansion of macro ‘deprintf’
 deprintf("CHK::" #fun " Failed:" msg,##args);\
 ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:452:17: note: in expansion of macro ‘CHK’
                 CHK(ext2_alloc_block(fs, blkids_p, true), "fail to alloc new child block:%x", x);
                 ^
In file included from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/str.h:9,
                 from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:97:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/include/system.h:100:1: note: in expansion of macro ‘deprintf’
 deprintf("CHK::" #fun " Failed:" msg,##args);\
 ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:452:17: note: in expansion of macro ‘CHK’
                 CHK(ext2_alloc_block(fs, blkids_p, true), "fail to alloc new child block:%x", x);
                 ^
In file included from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/str.h:9:0,
                 from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:
/home/dcat/osdev/w2/include/system.h:97:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/include/system.h:100:1: note: in expansion of macro ‘deprintf’
 deprintf("CHK::" #fun " Failed:" msg,##args);\
 ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:455:13: note: in expansion of macro ‘CHK’
             CHK(ext2_write_block(fs, inode->i_singly_block, 1, (uint8_t *) blkids), "I/O");
             ^
In file included from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/str.h:9,
                 from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:97:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/include/system.h:100:1: note: in expansion of macro ‘deprintf’
 deprintf("CHK::" #fun " Failed:" msg,##args);\
 ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:455:13: note: in expansion of macro ‘CHK’
             CHK(ext2_write_block(fs, inode->i_singly_block, 1, (uint8_t *) blkids), "I/O");
             ^
In file included from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:462:9: warning: initialization makes integer from pointer without a cast
         TODO;
         ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:462:9: warning: (near initialization for ‘(anonymous)[0]’)
In file included from /home/dcat/osdev/w2/include/str.h:9:0,
                 from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:
/home/dcat/osdev/w2/fs/ext2/ext2.c: In function ‘ext2_write_file_block’:
/home/dcat/osdev/w2/include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:469:5: note: in expansion of macro ‘dprintf’
     dprintf("max_blocks:%x read[%x]", max_blocks, block_no);
     ^
In file included from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/str.h:9,
                 from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:469:5: note: in expansion of macro ‘dprintf’
     dprintf("max_blocks:%x read[%x]", max_blocks, block_no);
     ^
In file included from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/str.h:9:0,
                 from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:
/home/dcat/osdev/w2/include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:471:9: note: in expansion of macro ‘dprintf’
         dprintf("direct write[%x]:%x", block_no, inode->i_block[block_no]);
         ^
In file included from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/str.h:9,
                 from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:471:9: note: in expansion of macro ‘dprintf’
         dprintf("direct write[%x]:%x", block_no, inode->i_block[block_no]);
         ^
In file included from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/str.h:9:0,
                 from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:
/home/dcat/osdev/w2/include/system.h:97:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:476:17: note: in expansion of macro ‘deprintf’
                 deprintf("Cannot alloc new block.");
                 ^
In file included from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/str.h:9,
                 from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:97:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:476:17: note: in expansion of macro ‘deprintf’
                 deprintf("Cannot alloc new block.");
                 ^
In file included from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/str.h:9:0,
                 from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:
/home/dcat/osdev/w2/include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:484:9: note: in expansion of macro ‘dprintf’
         dprintf("singly direct write[%x]:%x", block_no, inode->i_block[block_no]);
         ^
In file included from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/str.h:9,
                 from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:484:9: note: in expansion of macro ‘dprintf’
         dprintf("singly direct write[%x]:%x", block_no, inode->i_block[block_no]);
         ^
In file included from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:485:9: warning: initialization makes integer from pointer without a cast
         TODO;
         ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:485:9: warning: (near initialization for ‘(anonymous)[0]’)
/home/dcat/osdev/w2/fs/ext2/ext2.c:487:9: warning: initialization makes integer from pointer without a cast
         TODO;
         ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:487:9: warning: (near initialization for ‘(anonymous)[0]’)
In file included from /home/dcat/osdev/w2/include/str.h:9:0,
                 from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:
/home/dcat/osdev/w2/fs/ext2/ext2.c: In function ‘ext2_update_inode’:
/home/dcat/osdev/w2/include/system.h:97:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/include/system.h:100:1: note: in expansion of macro ‘deprintf’
 deprintf("CHK::" #fun " Failed:" msg,##args);\
 ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:494:5: note: in expansion of macro ‘CHK’
     CHK(ext2_get_inode_block(fs, inode_id, &findex, &fblkno, NULL, blk), "cannot get inode");
     ^
In file included from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/str.h:9,
                 from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:97:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/include/system.h:100:1: note: in expansion of macro ‘deprintf’
 deprintf("CHK::" #fun " Failed:" msg,##args);\
 ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:494:5: note: in expansion of macro ‘CHK’
     CHK(ext2_get_inode_block(fs, inode_id, &findex, &fblkno, NULL, blk), "cannot get inode");
     ^
In file included from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:496:12: warning: passing argument 1 of ‘memcpy’ from incompatible pointer type
     memcpy(inode, new_inode, sizeof(ext2_inode_t));
            ^
In file included from /home/dcat/osdev/w2/include/str.h:9:0,
                 from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:
/home/dcat/osdev/w2/include/system.h:72:23: note: expected ‘unsigned char *’ but argument is of type ‘struct ext2_inode_t *’
 extern unsigned char *memcpy(unsigned char *dest, const unsigned char *src, int count);
                       ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:496:19: warning: passing argument 2 of ‘memcpy’ from incompatible pointer type
     memcpy(inode, new_inode, sizeof(ext2_inode_t));
                   ^
In file included from /home/dcat/osdev/w2/include/str.h:9:0,
                 from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:
/home/dcat/osdev/w2/include/system.h:72:23: note: expected ‘const unsigned char *’ but argument is of type ‘struct ext2_inode_t *’
 extern unsigned char *memcpy(unsigned char *dest, const unsigned char *src, int count);
                       ^
/home/dcat/osdev/w2/include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:497:5: note: in expansion of macro ‘dprintf’
     dprintf("saving inode %x", inode_id);
     ^
In file included from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/str.h:9,
                 from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:497:5: note: in expansion of macro ‘dprintf’
     dprintf("saving inode %x", inode_id);
     ^
In file included from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/str.h:9:0,
                 from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:
/home/dcat/osdev/w2/include/system.h:97:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/include/system.h:100:1: note: in expansion of macro ‘deprintf’
 deprintf("CHK::" #fun " Failed:" msg,##args);\
 ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:498:5: note: in expansion of macro ‘CHK’
     CHK(ext2_write_block(fs, fblkno, 1, blk), "");
     ^
In file included from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/str.h:9,
                 from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:97:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/include/system.h:100:1: note: in expansion of macro ‘deprintf’
 deprintf("CHK::" #fun " Failed:" msg,##args);\
 ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:498:5: note: in expansion of macro ‘CHK’
     CHK(ext2_write_block(fs, fblkno, 1, blk), "");
     ^
In file included from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/str.h:9:0,
                 from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:
/home/dcat/osdev/w2/fs/ext2/ext2.c: In function ‘ext2_write_file’:
/home/dcat/osdev/w2/include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:513:5: note: in expansion of macro ‘dprintf’
     dprintf("boff:%x bcou:%x", block_offset, block_count);
     ^
In file included from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/str.h:9,
                 from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:513:5: note: in expansion of macro ‘dprintf’
     dprintf("boff:%x bcou:%x", block_offset, block_count);
     ^
In file included from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/str.h:9:0,
                 from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:
/home/dcat/osdev/w2/include/system.h:97:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/include/system.h:100:1: note: in expansion of macro ‘deprintf’
 deprintf("CHK::" #fun " Failed:" msg,##args);\
 ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:518:9: note: in expansion of macro ‘CHK’
         CHK(ext2_read_file_block(fs, inode, x, true, tbuff), "");
         ^
In file included from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/str.h:9,
                 from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:97:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/include/system.h:100:1: note: in expansion of macro ‘deprintf’
 deprintf("CHK::" #fun " Failed:" msg,##args);\
 ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:518:9: note: in expansion of macro ‘CHK’
         CHK(ext2_read_file_block(fs, inode, x, true, tbuff), "");
         ^
In file included from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/str.h:9:0,
                 from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:
/home/dcat/osdev/w2/include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:520:9: note: in expansion of macro ‘dprintf’
         dprintf("head dblk no:%x offset:%x size:%x", x, hblk_off, s);
         ^
In file included from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/str.h:9,
                 from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:520:9: note: in expansion of macro ‘dprintf’
         dprintf("head dblk no:%x offset:%x size:%x", x, hblk_off, s);
         ^
In file included from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/str.h:9:0,
                 from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:
/home/dcat/osdev/w2/include/system.h:97:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/include/system.h:100:1: note: in expansion of macro ‘deprintf’
 deprintf("CHK::" #fun " Failed:" msg,##args);\
 ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:522:9: note: in expansion of macro ‘CHK’
         CHK(ext2_write_file_block(fs, inode, x, tbuff), "");
         ^
In file included from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/str.h:9,
                 from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:97:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/include/system.h:100:1: note: in expansion of macro ‘deprintf’
 deprintf("CHK::" #fun " Failed:" msg,##args);\
 ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:522:9: note: in expansion of macro ‘CHK’
         CHK(ext2_write_file_block(fs, inode, x, tbuff), "");
         ^
In file included from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/str.h:9:0,
                 from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:
/home/dcat/osdev/w2/include/system.h:97:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/include/system.h:100:1: note: in expansion of macro ‘deprintf’
 deprintf("CHK::" #fun " Failed:" msg,##args);\
 ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:529:13: note: in expansion of macro ‘CHK’
             CHK(ext2_write_file_block(fs, inode, x, &buff[off]), "");
             ^
In file included from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/str.h:9,
                 from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:97:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/include/system.h:100:1: note: in expansion of macro ‘deprintf’
 deprintf("CHK::" #fun " Failed:" msg,##args);\
 ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:529:13: note: in expansion of macro ‘CHK’
             CHK(ext2_write_file_block(fs, inode, x, &buff[off]), "");
             ^
In file included from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/str.h:9:0,
                 from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:
/home/dcat/osdev/w2/include/system.h:97:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/include/system.h:100:1: note: in expansion of macro ‘deprintf’
 deprintf("CHK::" #fun " Failed:" msg,##args);\
 ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:536:9: note: in expansion of macro ‘CHK’
         CHK(ext2_read_file_block(fs, inode, x, true, tbuff), "");
         ^
In file included from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/str.h:9,
                 from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:97:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/include/system.h:100:1: note: in expansion of macro ‘deprintf’
 deprintf("CHK::" #fun " Failed:" msg,##args);\
 ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:536:9: note: in expansion of macro ‘CHK’
         CHK(ext2_read_file_block(fs, inode, x, true, tbuff), "");
         ^
In file included from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/str.h:9:0,
                 from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:
/home/dcat/osdev/w2/include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:537:9: note: in expansion of macro ‘dprintf’
         dprintf("footer dblk no:%x size:%x", x, les);
         ^
In file included from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/str.h:9,
                 from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:537:9: note: in expansion of macro ‘dprintf’
         dprintf("footer dblk no:%x size:%x", x, les);
         ^
In file included from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/str.h:9:0,
                 from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:
/home/dcat/osdev/w2/include/system.h:97:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/include/system.h:100:1: note: in expansion of macro ‘deprintf’
 deprintf("CHK::" #fun " Failed:" msg,##args);\
 ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:539:9: note: in expansion of macro ‘CHK’
         CHK(ext2_write_file_block(fs, inode, x, tbuff), "");
         ^
In file included from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/str.h:9,
                 from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:97:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/include/system.h:100:1: note: in expansion of macro ‘deprintf’
 deprintf("CHK::" #fun " Failed:" msg,##args);\
 ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:539:9: note: in expansion of macro ‘CHK’
         CHK(ext2_write_file_block(fs, inode, x, tbuff), "");
         ^
In file included from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
/home/dcat/osdev/w2/fs/ext2/ext2.c: In function ‘ext2_test’:
/home/dcat/osdev/w2/fs/ext2/ext2.c:555:21: warning: initialization makes pointer from integer without a cast
     uint8_t *buff = kmalloc_paging(1024, NULL);
                     ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:558:12: warning: passing argument 1 of ‘memcpy’ from incompatible pointer type
     memcpy(&node, buff + offset * sizeof(ext2_inode_t), sizeof(ext2_inode_t));
            ^
In file included from /home/dcat/osdev/w2/include/str.h:9:0,
                 from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:
/home/dcat/osdev/w2/include/system.h:72:23: note: expected ‘unsigned char *’ but argument is of type ‘struct ext2_inode_t *’
 extern unsigned char *memcpy(unsigned char *dest, const unsigned char *src, int count);
                       ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:569:60: warning: pointer targets in passing argument 5 of ‘ext2_write_file’ differ in signedness [-Wpointer-sign]
     ASSERT(ext2_write_file(&ext2_fs_test, sillynode, 0, 5, sillybuff) == 0);
                                                            ^
/home/dcat/osdev/w2/include/system.h:20:10: note: in definition of macro ‘ASSERT’
     if(!(x)){\
          ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:506:9: note: expected ‘unsigned char *’ but argument is of type ‘char *’
 int32_t ext2_write_file(ext2_t *fs, ext2_inode_t *inode, uint32_t offset, uint32_t size, uint8_t *buff) {
         ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:577:16: warning: pointer targets in passing argument 1 of ‘memcpy’ differ in signedness [-Wpointer-sign]
         memcpy(name, d->name, d->name_length);
                ^
In file included from /home/dcat/osdev/w2/include/str.h:9:0,
                 from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:
/home/dcat/osdev/w2/include/system.h:72:23: note: expected ‘unsigned char *’ but argument is of type ‘char *’
 extern unsigned char *memcpy(unsigned char *dest, const unsigned char *src, int count);
                       ^
In file included from /home/dcat/osdev/w2/fs/ext2/ext2.c:9:0:
/home/dcat/osdev/w2/include/kmalloc.h:25:21: warning: initialization makes pointer from integer without a cast
 #define kmalloc(sz) kmalloc_internal(sz,false,NULL,kernel_heap)
                     ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:598:23: note: in expansion of macro ‘kmalloc’
     ext2_dir_t *dir = kmalloc(ext2_fs_test.block_size);
                       ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:599:56: warning: passing argument 4 of ‘ext2_read_block’ from incompatible pointer type
     ext2_read_block(&ext2_fs_test, node.i_block[0], 1, dir);
                                                        ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:17:5: note: expected ‘unsigned char *’ but argument is of type ‘struct ext2_dir_t *’
 int ext2_read_block(ext2_t *fs, uint32_t base, uint32_t count, uint8_t *buff) {
     ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:602:16: warning: pointer targets in passing argument 1 of ‘memcpy’ differ in signedness [-Wpointer-sign]
         memcpy(name, dir->name, dir->name_length);
                ^
In file included from /home/dcat/osdev/w2/include/str.h:9:0,
                 from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:
/home/dcat/osdev/w2/include/system.h:72:23: note: expected ‘unsigned char *’ but argument is of type ‘char *’
 extern unsigned char *memcpy(unsigned char *dest, const unsigned char *src, int count);
                       ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:605:13: warning: assignment makes pointer from integer without a cast
         dir = ((uint32_t) dir) + dir->size;
             ^
In file included from /home/dcat/osdev/w2/include/str.h:9:0,
                 from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:
/home/dcat/osdev/w2/fs/ext2/ext2.c: In function ‘ext2_init’:
/home/dcat/osdev/w2/include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:612:5: note: in expansion of macro ‘dprintf’
     dprintf("callin");
     ^
In file included from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/str.h:9,
                 from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:612:5: note: in expansion of macro ‘dprintf’
     dprintf("callin");
     ^
In file included from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:613:12: warning: passing argument 1 of ‘memset’ from incompatible pointer type
     memset(fs_out, 0, sizeof(ext2_t));
            ^
In file included from /home/dcat/osdev/w2/include/str.h:9:0,
                 from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:
/home/dcat/osdev/w2/include/system.h:76:23: note: expected ‘unsigned char *’ but argument is of type ‘struct ext2_t *’
 extern unsigned char *memset(unsigned char *dest, unsigned char val, int count);
                       ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:629:23: warning: passing argument 3 of ‘fs_out->dev->read’ from incompatible pointer type
                       fs_out->block_group);
                       ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:629:23: note: expected ‘unsigned char *’ but argument is of type ‘struct ext2_group_desc_t *’
In file included from /home/dcat/osdev/w2/include/str.h:9:0,
                 from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:
/home/dcat/osdev/w2/fs/ext2/ext2.c: In function ‘ext2_fs_node_write’:
/home/dcat/osdev/w2/include/system.h:97:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/include/system.h:100:1: note: in expansion of macro ‘deprintf’
 deprintf("CHK::" #fun " Failed:" msg,##args);\
 ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:637:5: note: in expansion of macro ‘CHK’
     CHK(ext2_find_inote(fs, node->inode, &inode), "inode not exist");
     ^
In file included from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/str.h:9,
                 from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:97:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/include/system.h:100:1: note: in expansion of macro ‘deprintf’
 deprintf("CHK::" #fun " Failed:" msg,##args);\
 ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:637:5: note: in expansion of macro ‘CHK’
     CHK(ext2_find_inote(fs, node->inode, &inode), "inode not exist");
     ^
In file included from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/str.h:9:0,
                 from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:
/home/dcat/osdev/w2/include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:640:9: note: in expansion of macro ‘dprintf’
         dprintf("update inode %x size %x ==> %x", node->inode, inode.i_size, offset + len);
         ^
In file included from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/str.h:9,
                 from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:640:9: note: in expansion of macro ‘dprintf’
         dprintf("update inode %x size %x ==> %x", node->inode, inode.i_size, offset + len);
         ^
In file included from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/str.h:9:0,
                 from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:
/home/dcat/osdev/w2/include/system.h:97:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/include/system.h:100:1: note: in expansion of macro ‘deprintf’
 deprintf("CHK::" #fun " Failed:" msg,##args);\
 ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:642:9: note: in expansion of macro ‘CHK’
         CHK(ext2_update_inode(fs, node->inode, &inode), "");
         ^
In file included from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/str.h:9,
                 from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:97:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/include/system.h:100:1: note: in expansion of macro ‘deprintf’
 deprintf("CHK::" #fun " Failed:" msg,##args);\
 ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:642:9: note: in expansion of macro ‘CHK’
         CHK(ext2_update_inode(fs, node->inode, &inode), "");
         ^
In file included from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/str.h:9:0,
                 from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:
/home/dcat/osdev/w2/fs/ext2/ext2.c: In function ‘ext2_fs_node_read’:
/home/dcat/osdev/w2/include/system.h:97:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/include/system.h:100:1: note: in expansion of macro ‘deprintf’
 deprintf("CHK::" #fun " Failed:" msg,##args);\
 ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:653:5: note: in expansion of macro ‘CHK’
     CHK(ext2_find_inote(fs, node->inode, &inode), "inode not exist");
     ^
In file included from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/str.h:9,
                 from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:97:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/include/system.h:100:1: note: in expansion of macro ‘deprintf’
 deprintf("CHK::" #fun " Failed:" msg,##args);\
 ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:653:5: note: in expansion of macro ‘CHK’
     CHK(ext2_find_inote(fs, node->inode, &inode), "inode not exist");
     ^
In file included from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/str.h:9:0,
                 from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:
/home/dcat/osdev/w2/fs/ext2/ext2.c: In function ‘ext2_get_fs_node’:
/home/dcat/osdev/w2/include/system.h:97:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:662:9: note: in expansion of macro ‘deprintf’
         deprintf("Bad inode_id:%x", inode_id);
         ^
In file included from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/str.h:9,
                 from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:97:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:662:9: note: in expansion of macro ‘deprintf’
         deprintf("Bad inode_id:%x", inode_id);
         ^
In file included from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/str.h:9:0,
                 from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:
/home/dcat/osdev/w2/fs/ext2/ext2.c: In function ‘ext2_fs_node_readdir’:
/home/dcat/osdev/w2/include/system.h:97:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/include/system.h:100:1: note: in expansion of macro ‘deprintf’
 deprintf("CHK::" #fun " Failed:" msg,##args);\
 ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:687:5: note: in expansion of macro ‘CHK’
     CHK(ext2_find_inote(fs, node->inode, &inode), "inode not exist");
     ^
In file included from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/str.h:9,
                 from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:97:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/include/system.h:100:1: note: in expansion of macro ‘deprintf’
 deprintf("CHK::" #fun " Failed:" msg,##args);\
 ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:687:5: note: in expansion of macro ‘CHK’
     CHK(ext2_find_inote(fs, node->inode, &inode), "inode not exist");
     ^
In file included from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:696:16: warning: pointer targets in passing argument 1 of ‘memcpy’ differ in signedness [-Wpointer-sign]
         memcpy(result[x].name, dir->name, dir->name_length);
                ^
In file included from /home/dcat/osdev/w2/include/str.h:9:0,
                 from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:
/home/dcat/osdev/w2/include/system.h:72:23: note: expected ‘unsigned char *’ but argument is of type ‘char *’
 extern unsigned char *memcpy(unsigned char *dest, const unsigned char *src, int count);
                       ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:702:9: warning: suggest parentheses around assignment used as truth value [-Wparentheses]
         else if (dir->type_indicator = INODE_DIR_TYPE_INDICATOR_FILE)
         ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:691:15: warning: unused variable ‘tmp_node’ [-Wunused-variable]
     fs_node_t tmp_node;
               ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:690:18: warning: unused variable ‘cinode’ [-Wunused-variable]
     ext2_inode_t cinode;
                  ^
In file included from /home/dcat/osdev/w2/include/str.h:9:0,
                 from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:
/home/dcat/osdev/w2/fs/ext2/ext2.c: In function ‘ext2_fs_node_finddir’:
/home/dcat/osdev/w2/include/system.h:97:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/include/system.h:100:1: note: in expansion of macro ‘deprintf’
 deprintf("CHK::" #fun " Failed:" msg,##args);\
 ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:722:5: note: in expansion of macro ‘CHK’
     CHK(ext2_find_inote(fs, node->inode, &inode), "inode not exist");
     ^
In file included from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/str.h:9,
                 from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:97:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/include/system.h:100:1: note: in expansion of macro ‘deprintf’
 deprintf("CHK::" #fun " Failed:" msg,##args);\
 ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:722:5: note: in expansion of macro ‘CHK’
     CHK(ext2_find_inote(fs, node->inode, &inode), "inode not exist");
     ^
In file included from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:730:16: warning: pointer targets in passing argument 1 of ‘memcpy’ differ in signedness [-Wpointer-sign]
         memcpy(sname, dir->name, dir->name_length);
                ^
In file included from /home/dcat/osdev/w2/include/str.h:9:0,
                 from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:
/home/dcat/osdev/w2/include/system.h:72:23: note: expected ‘unsigned char *’ but argument is of type ‘char *’
 extern unsigned char *memcpy(unsigned char *dest, const unsigned char *src, int count);
                       ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:725:18: warning: unused variable ‘cinode’ [-Wunused-variable]
     ext2_inode_t cinode;
                  ^
/home/dcat/osdev/w2/fs/ext2/ext2.c: In function ‘ext2_fs_node_get_node’:
/home/dcat/osdev/w2/fs/ext2/ext2.c:752:5: warning: initialization makes integer from pointer without a cast
     TODO;
     ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:752:5: warning: (near initialization for ‘(anonymous)[0]’)
In file included from /home/dcat/osdev/w2/include/str.h:9:0,
                 from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:
/home/dcat/osdev/w2/fs/ext2/ext2.c: In function ‘ext2_fs_node_make’:
/home/dcat/osdev/w2/include/system.h:97:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:767:13: note: in expansion of macro ‘deprintf’
             deprintf("[ext2_fs_node_make]unknown type:%x", type);
             ^
In file included from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/str.h:9,
                 from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:97:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:767:13: note: in expansion of macro ‘deprintf’
             deprintf("[ext2_fs_node_make]unknown type:%x", type);
             ^
In file included from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/str.h:9:0,
                 from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:
/home/dcat/osdev/w2/include/system.h:97:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/include/system.h:100:1: note: in expansion of macro ‘deprintf’
 deprintf("CHK::" #fun " Failed:" msg,##args);\
 ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:771:5: note: in expansion of macro ‘CHK’
     CHK(ext2_make(fs, e2type, inode_id, name, &new_nnid), "make failed.");
     ^
In file included from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/str.h:9,
                 from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:97:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/include/system.h:100:1: note: in expansion of macro ‘deprintf’
 deprintf("CHK::" #fun " Failed:" msg,##args);\
 ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:771:5: note: in expansion of macro ‘CHK’
     CHK(ext2_make(fs, e2type, inode_id, name, &new_nnid), "make failed.");
     ^
In file included from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/fs/ext2/ext2.c:9:0:
/home/dcat/osdev/w2/fs/ext2/ext2.c: In function ‘ext2_fs_node_mount’:
/home/dcat/osdev/w2/include/kmalloc.h:25:21: warning: initialization makes pointer from integer without a cast
 #define kmalloc(sz) kmalloc_internal(sz,false,NULL,kernel_heap)
                     ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:779:18: note: in expansion of macro ‘kmalloc’
     ext2_t *fs = kmalloc(sizeof(ext2_t));
                  ^
In file included from /home/dcat/osdev/w2/include/str.h:9:0,
                 from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:
/home/dcat/osdev/w2/include/system.h:97:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/include/system.h:100:1: note: in expansion of macro ‘deprintf’
 deprintf("CHK::" #fun " Failed:" msg,##args);\
 ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:780:5: note: in expansion of macro ‘CHK’
     CHK(ext2_init(fs, dev), "[ext2]fail to mount");
     ^
In file included from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/str.h:9,
                 from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:97:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/include/system.h:100:1: note: in expansion of macro ‘deprintf’
 deprintf("CHK::" #fun " Failed:" msg,##args);\
 ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:780:5: note: in expansion of macro ‘CHK’
     CHK(ext2_init(fs, dev), "[ext2]fail to mount");
     ^
In file included from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
/home/dcat/osdev/w2/fs/ext2/ext2.c: In function ‘ext2_create_fstype’:
/home/dcat/osdev/w2/fs/ext2/ext2.c:791:19: warning: assignment from incompatible pointer type
     ext2_fs.mount = ext2_fs_node_mount;
                   ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:792:18: warning: assignment from incompatible pointer type
     ext2_fs.read = ext2_fs_node_read;
                  ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:793:19: warning: assignment from incompatible pointer type
     ext2_fs.write = ext2_fs_node_write;
                   ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:794:21: warning: assignment from incompatible pointer type
     ext2_fs.readdir = ext2_fs_node_readdir;
                     ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:795:21: warning: assignment from incompatible pointer type
     ext2_fs.finddir = ext2_fs_node_finddir;
                     ^
In file included from /home/dcat/osdev/w2/include/str.h:9:0,
                 from /home/dcat/osdev/w2/fs/ext2/ext2.c:4:
/home/dcat/osdev/w2/fs/ext2/ext2.c: At top level:
/home/dcat/osdev/w2/include/system.h:82:27: warning: inline function ‘itoa’ declared but never defined
 extern inline const char *itoa(int i, char result[]);
                           ^
/home/dcat/osdev/w2/include/system.h:82:27: warning: inline function ‘itoa’ declared but never defined
In file included from /home/dcat/osdev/w2/fs/ext2/ext2.c:8:0:
/home/dcat/osdev/w2/dev/include/ide.h:15:20: warning: ‘outl’ declared ‘static’ but never defined [-Wunused-function]
 static inline void outl(uint32_t value, uint16_t port);
                    ^
/home/dcat/osdev/w2/dev/include/ide.h:17:24: warning: ‘inl’ declared ‘static’ but never defined [-Wunused-function]
 static inline uint32_t inl(uint16_t port);
                        ^
/home/dcat/osdev/w2/fs/ext2/ext2.c: In function ‘ext2_dir_iterator_exit’:
/home/dcat/osdev/w2/fs/ext2/ext2.c:110:1: warning: control reaches end of non-void function [-Wreturn-type]
 }
 ^
/home/dcat/osdev/w2/fs/ext2/ext2.c: In function ‘ext2_make’:
/home/dcat/osdev/w2/fs/ext2/ext2.c:336:5: warning: ‘blk’ may be used uninitialized in this function [-Wmaybe-uninitialized]
     kfree(blk);
     ^
/home/dcat/osdev/w2/fs/ext2/ext2.c:337:5: warning: ‘fblk’ may be used uninitialized in this function [-Wmaybe-uninitialized]
     kfree(fblk);
     ^
In file included from /home/dcat/osdev/w2/fs/ext2/include/ext2.h:8:0,
                 from /home/dcat/osdev/w2/fs/vfs/vfs.c:7:
/home/dcat/osdev/w2/include/fs_node.h:19:39: warning: ‘struct fs_node’ declared inside parameter list
 typedef int32_t (*read_type_t)(struct fs_node *, __fs_special_t *fsp, uint32_t, uint32_t, uint8_t *);
                                       ^
/home/dcat/osdev/w2/include/fs_node.h:19:39: warning: its scope is only this definition or declaration, which is probably not what you want
/home/dcat/osdev/w2/include/fs_node.h:21:40: warning: ‘struct fs_node’ declared inside parameter list
 typedef int32_t (*write_type_t)(struct fs_node *, __fs_special_t *fsp, uint32_t, uint32_t, uint8_t *);
                                        ^
/home/dcat/osdev/w2/include/fs_node.h:23:36: warning: ‘struct fs_node’ declared inside parameter list
 typedef void (*open_type_t)(struct fs_node *, __fs_special_t *fsp);
                                    ^
/home/dcat/osdev/w2/include/fs_node.h:25:37: warning: ‘struct fs_node’ declared inside parameter list
 typedef void (*close_type_t)(struct fs_node *, __fs_special_t *fsp);
                                     ^
/home/dcat/osdev/w2/include/fs_node.h:28:101: warning: ‘struct dirent’ declared inside parameter list
 typedef int32_t (*readdir_type_t)(struct fs_node *node, __fs_special_t *fsp, uint32_t count, struct dirent *result);
                                                                                                     ^
/home/dcat/osdev/w2/include/fs_node.h:28:101: warning: ‘struct fs_node’ declared inside parameter list
/home/dcat/osdev/w2/include/fs_node.h:30:95: warning: ‘struct fs_node’ declared inside parameter list
 typedef int (*finddir_type_t)(struct fs_node *, __fs_special_t *fsp, const char *name, struct fs_node *result_out);
                                                                                               ^
/home/dcat/osdev/w2/fs/vfs/vfs.c: In function ‘vfs_install’:
/home/dcat/osdev/w2/fs/vfs/vfs.c:28:12: warning: passing argument 1 of ‘memset’ from incompatible pointer type
     memset(mount_points, 0, sizeof(mount_point_t) * MAX_MOUNT_POINTS);
            ^
In file included from /home/dcat/osdev/w2/include/str.h:9:0,
                 from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:
/home/dcat/osdev/w2/include/system.h:76:23: note: expected ‘unsigned char *’ but argument is of type ‘struct mount_point_t *’
 extern unsigned char *memset(unsigned char *dest, unsigned char val, int count);
                       ^
/home/dcat/osdev/w2/fs/vfs/vfs.c:30:12: warning: passing argument 1 of ‘memset’ from incompatible pointer type
     memset(global_fh_table, 0, sizeof(file_handle_t) * MAX_FILE_HANDLES);
            ^
In file included from /home/dcat/osdev/w2/include/str.h:9:0,
                 from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:
/home/dcat/osdev/w2/include/system.h:76:23: note: expected ‘unsigned char *’ but argument is of type ‘struct file_handle_t *’
 extern unsigned char *memset(unsigned char *dest, unsigned char val, int count);
                       ^
/home/dcat/osdev/w2/fs/vfs/vfs.c: In function ‘vfs_init’:
/home/dcat/osdev/w2/fs/vfs/vfs.c:35:12: warning: passing argument 1 of ‘memset’ from incompatible pointer type
     memset(vfs, 0, sizeof(vfs_t));
            ^
In file included from /home/dcat/osdev/w2/include/str.h:9:0,
                 from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:
/home/dcat/osdev/w2/include/system.h:76:23: note: expected ‘unsigned char *’ but argument is of type ‘struct vfs_t *’
 extern unsigned char *memset(unsigned char *dest, unsigned char val, int count);
                       ^
/home/dcat/osdev/w2/fs/vfs/vfs.c: In function ‘vfs_find_mount_point’:
/home/dcat/osdev/w2/include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/fs/vfs/vfs.c:39:5: note: in expansion of macro ‘dprintf’
     dprintf("mount point count:%x", mount_points_count);
     ^
In file included from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/str.h:9,
                 from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/fs/vfs/vfs.c:39:5: note: in expansion of macro ‘dprintf’
     dprintf("mount point count:%x", mount_points_count);
     ^
In file included from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/str.h:9:0,
                 from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:
/home/dcat/osdev/w2/include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/fs/vfs/vfs.c:51:9: note: in expansion of macro ‘dprintf’
         dprintf("%s fs not found!", path);
         ^
In file included from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/str.h:9,
                 from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/fs/vfs/vfs.c:51:9: note: in expansion of macro ‘dprintf’
         dprintf("%s fs not found!", path);
         ^
In file included from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/str.h:9:0,
                 from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:
/home/dcat/osdev/w2/include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/fs/vfs/vfs.c:59:9: note: in expansion of macro ‘dprintf’
         dprintf("%s fs:%s rpath:%s", path, mp->fs->name, *relatively_path);
         ^
In file included from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/str.h:9,
                 from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/fs/vfs/vfs.c:59:9: note: in expansion of macro ‘dprintf’
         dprintf("%s fs:%s rpath:%s", path, mp->fs->name, *relatively_path);
         ^
In file included from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
/home/dcat/osdev/w2/fs/vfs/vfs.c: In function ‘vfs_cpynode’:
/home/dcat/osdev/w2/fs/vfs/vfs.c:65:12: warning: passing argument 1 of ‘memcpy’ from incompatible pointer type
     memcpy(target, src, sizeof(fs_node_t));
            ^
In file included from /home/dcat/osdev/w2/include/str.h:9:0,
                 from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:
/home/dcat/osdev/w2/include/system.h:72:23: note: expected ‘unsigned char *’ but argument is of type ‘struct fs_node_t *’
 extern unsigned char *memcpy(unsigned char *dest, const unsigned char *src, int count);
                       ^
/home/dcat/osdev/w2/fs/vfs/vfs.c:65:20: warning: passing argument 2 of ‘memcpy’ from incompatible pointer type
     memcpy(target, src, sizeof(fs_node_t));
                    ^
In file included from /home/dcat/osdev/w2/include/str.h:9:0,
                 from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:
/home/dcat/osdev/w2/include/system.h:72:23: note: expected ‘const unsigned char *’ but argument is of type ‘struct fs_node_t *’
 extern unsigned char *memcpy(unsigned char *dest, const unsigned char *src, int count);
                       ^
/home/dcat/osdev/w2/fs/vfs/vfs.c: In function ‘vfs_get_node’:
/home/dcat/osdev/w2/include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/fs/vfs/vfs.c:70:5: note: in expansion of macro ‘dprintf’
     dprintf("target:%s", path);
     ^
In file included from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/str.h:9,
                 from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/fs/vfs/vfs.c:70:5: note: in expansion of macro ‘dprintf’
     dprintf("target:%s", path);
     ^
In file included from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/str.h:9:0,
                 from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:
/home/dcat/osdev/w2/include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/fs/vfs/vfs.c:79:9: note: in expansion of macro ‘dprintf’
         dprintf("mount point not found:%s", path);
         ^
In file included from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/str.h:9,
                 from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/fs/vfs/vfs.c:79:9: note: in expansion of macro ‘dprintf’
         dprintf("mount point not found:%s", path);
         ^
In file included from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/str.h:9:0,
                 from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:
/home/dcat/osdev/w2/include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/fs/vfs/vfs.c:83:9: note: in expansion of macro ‘dprintf’
         dprintf("cd to root");
         ^
In file included from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/str.h:9,
                 from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/fs/vfs/vfs.c:83:9: note: in expansion of macro ‘dprintf’
         dprintf("cd to root");
         ^
In file included from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
/home/dcat/osdev/w2/fs/vfs/vfs.c:94:20: warning: pointer targets in passing argument 1 of ‘memcpy’ differ in signedness [-Wpointer-sign]
             memcpy(name, &rpath[x], len);
                    ^
In file included from /home/dcat/osdev/w2/include/str.h:9:0,
                 from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:
/home/dcat/osdev/w2/include/system.h:72:23: note: expected ‘unsigned char *’ but argument is of type ‘char *’
 extern unsigned char *memcpy(unsigned char *dest, const unsigned char *src, int count);
                       ^
/home/dcat/osdev/w2/fs/vfs/vfs.c:94:26: warning: pointer targets in passing argument 2 of ‘memcpy’ differ in signedness [-Wpointer-sign]
             memcpy(name, &rpath[x], len);
                          ^
In file included from /home/dcat/osdev/w2/include/str.h:9:0,
                 from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:
/home/dcat/osdev/w2/include/system.h:72:23: note: expected ‘const unsigned char *’ but argument is of type ‘char *’
 extern unsigned char *memcpy(unsigned char *dest, const unsigned char *src, int count);
                       ^
/home/dcat/osdev/w2/fs/vfs/vfs.c:98:20: warning: pointer targets in passing argument 1 of ‘memcpy’ differ in signedness [-Wpointer-sign]
             memcpy(name, &rpath[x], len);
                    ^
In file included from /home/dcat/osdev/w2/include/str.h:9:0,
                 from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:
/home/dcat/osdev/w2/include/system.h:72:23: note: expected ‘unsigned char *’ but argument is of type ‘char *’
 extern unsigned char *memcpy(unsigned char *dest, const unsigned char *src, int count);
                       ^
/home/dcat/osdev/w2/fs/vfs/vfs.c:98:26: warning: pointer targets in passing argument 2 of ‘memcpy’ differ in signedness [-Wpointer-sign]
             memcpy(name, &rpath[x], len);
                          ^
In file included from /home/dcat/osdev/w2/include/str.h:9:0,
                 from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:
/home/dcat/osdev/w2/include/system.h:72:23: note: expected ‘const unsigned char *’ but argument is of type ‘char *’
 extern unsigned char *memcpy(unsigned char *dest, const unsigned char *src, int count);
                       ^
/home/dcat/osdev/w2/include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/fs/vfs/vfs.c:101:9: note: in expansion of macro ‘dprintf’
         dprintf("cd fn:%s", name);
         ^
In file included from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/str.h:9,
                 from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/fs/vfs/vfs.c:101:9: note: in expansion of macro ‘dprintf’
         dprintf("cd fn:%s", name);
         ^
In file included from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
/home/dcat/osdev/w2/fs/vfs/vfs.c:103:29: warning: passing argument 1 of ‘mp->fs->finddir’ from incompatible pointer type
         if (mp->fs->finddir(&cur, mp->fsp, name, &tmp)) {
                             ^
/home/dcat/osdev/w2/fs/vfs/vfs.c:103:29: note: expected ‘struct fs_node *’ but argument is of type ‘struct fs_node_t *’
/home/dcat/osdev/w2/fs/vfs/vfs.c:103:50: warning: passing argument 4 of ‘mp->fs->finddir’ from incompatible pointer type
         if (mp->fs->finddir(&cur, mp->fsp, name, &tmp)) {
                                                  ^
/home/dcat/osdev/w2/fs/vfs/vfs.c:103:50: note: expected ‘struct fs_node *’ but argument is of type ‘struct fs_node_t *’
In file included from /home/dcat/osdev/w2/include/str.h:9:0,
                 from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:
/home/dcat/osdev/w2/include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/fs/vfs/vfs.c:104:13: note: in expansion of macro ‘dprintf’
             dprintf("obj not found:%s", name);
             ^
In file included from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/str.h:9,
                 from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/fs/vfs/vfs.c:104:13: note: in expansion of macro ‘dprintf’
             dprintf("obj not found:%s", name);
             ^
In file included from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/str.h:9:0,
                 from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:
/home/dcat/osdev/w2/fs/vfs/vfs.c: In function ‘vfs_cd’:
/home/dcat/osdev/w2/include/system.h:97:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/fs/vfs/vfs.c:116:9: note: in expansion of macro ‘deprintf’
         deprintf("no such file or dir:%s", path);
         ^
In file included from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/str.h:9,
                 from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:97:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/fs/vfs/vfs.c:116:9: note: in expansion of macro ‘deprintf’
         deprintf("no such file or dir:%s", path);
         ^
In file included from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/str.h:9:0,
                 from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:
/home/dcat/osdev/w2/include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/fs/vfs/vfs.c:120:9: note: in expansion of macro ‘dprintf’
         dprintf("cd to dir:%s", path);
         ^
In file included from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/str.h:9,
                 from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/fs/vfs/vfs.c:120:9: note: in expansion of macro ‘dprintf’
         dprintf("cd to dir:%s", path);
         ^
In file included from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/str.h:9:0,
                 from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:
/home/dcat/osdev/w2/include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/fs/vfs/vfs.c:123:9: note: in expansion of macro ‘dprintf’
         dprintf("cd to file:%s", path);
         ^
In file included from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/str.h:9,
                 from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/fs/vfs/vfs.c:123:9: note: in expansion of macro ‘dprintf’
         dprintf("cd to file:%s", path);
         ^
In file included from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/str.h:9:0,
                 from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:
/home/dcat/osdev/w2/include/system.h:97:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/fs/vfs/vfs.c:125:9: note: in expansion of macro ‘deprintf’
         deprintf("cd to unknown thing(%x):%s", vfs->current.flags, path);
         ^
In file included from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/str.h:9,
                 from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:97:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/fs/vfs/vfs.c:125:9: note: in expansion of macro ‘deprintf’
         deprintf("cd to unknown thing(%x):%s", vfs->current.flags, path);
         ^
In file included from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/str.h:9:0,
                 from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:
/home/dcat/osdev/w2/include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/fs/vfs/vfs.c:127:5: note: in expansion of macro ‘dprintf’
     dprintf("%s inode:%x", path, vfs->current.inode);
     ^
In file included from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/str.h:9,
                 from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/fs/vfs/vfs.c:127:5: note: in expansion of macro ‘dprintf’
     dprintf("%s inode:%x", path, vfs->current.inode);
     ^
In file included from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/str.h:9:0,
                 from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:
/home/dcat/osdev/w2/fs/vfs/vfs.c: In function ‘vfs_mount’:
/home/dcat/osdev/w2/include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/fs/vfs/vfs.c:138:5: note: in expansion of macro ‘dprintf’
     dprintf("root inode:%x", mp->root.inode);
     ^
In file included from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/str.h:9,
                 from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/fs/vfs/vfs.c:138:5: note: in expansion of macro ‘dprintf’
     dprintf("root inode:%x", mp->root.inode);
     ^
In file included from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/str.h:9:0,
                 from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:
/home/dcat/osdev/w2/include/system.h:97:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/fs/vfs/vfs.c:140:9: note: in expansion of macro ‘deprintf’
         deprintf("fail to mount %s to %s", fs->name, path);
         ^
In file included from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/str.h:9,
                 from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:97:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/fs/vfs/vfs.c:140:9: note: in expansion of macro ‘deprintf’
         deprintf("fail to mount %s to %s", fs->name, path);
         ^
In file included from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/str.h:9:0,
                 from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:
/home/dcat/osdev/w2/include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/fs/vfs/vfs.c:146:5: note: in expansion of macro ‘dprintf’
     dprintf("%s mount to %s", fs->name, path);
     ^
In file included from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/str.h:9,
                 from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/fs/vfs/vfs.c:146:5: note: in expansion of macro ‘dprintf’
     dprintf("%s mount to %s", fs->name, path);
     ^
In file included from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/str.h:9:0,
                 from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:
/home/dcat/osdev/w2/fs/vfs/vfs.c: In function ‘vfs_ls’:
/home/dcat/osdev/w2/include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/fs/vfs/vfs.c:154:9: note: in expansion of macro ‘dprintf’
         dprintf("mount point not found:%s", vfs->path);
         ^
In file included from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/str.h:9,
                 from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/fs/vfs/vfs.c:154:9: note: in expansion of macro ‘dprintf’
         dprintf("mount point not found:%s", vfs->path);
         ^
In file included from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
/home/dcat/osdev/w2/fs/vfs/vfs.c:157:28: warning: passing argument 1 of ‘mp->fs->readdir’ from incompatible pointer type
     return mp->fs->readdir(&vfs->current_dir, mp->fsp, max_count, dirs);
                            ^
/home/dcat/osdev/w2/fs/vfs/vfs.c:157:28: note: expected ‘struct fs_node *’ but argument is of type ‘struct fs_node_t *’
/home/dcat/osdev/w2/fs/vfs/vfs.c:157:67: warning: passing argument 4 of ‘mp->fs->readdir’ from incompatible pointer type
     return mp->fs->readdir(&vfs->current_dir, mp->fsp, max_count, dirs);
                                                                   ^
/home/dcat/osdev/w2/fs/vfs/vfs.c:157:67: note: expected ‘struct dirent *’ but argument is of type ‘struct dirent_t *’
In file included from /home/dcat/osdev/w2/include/str.h:9:0,
                 from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:
/home/dcat/osdev/w2/fs/vfs/vfs.c: In function ‘vfs_make’:
/home/dcat/osdev/w2/include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/fs/vfs/vfs.c:165:9: note: in expansion of macro ‘dprintf’
         dprintf("mount point not found:%s", vfs->path);
         ^
In file included from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/str.h:9,
                 from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/fs/vfs/vfs.c:165:9: note: in expansion of macro ‘dprintf’
         dprintf("mount point not found:%s", vfs->path);
         ^
In file included from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
/home/dcat/osdev/w2/fs/vfs/vfs.c:168:59: warning: passing argument 4 of ‘mp->fs->make’ discards ‘const’ qualifier from pointer target type
     return mp->fs->make(&vfs->current_dir, mp->fsp, type, name);
                                                           ^
/home/dcat/osdev/w2/fs/vfs/vfs.c:168:59: note: expected ‘char *’ but argument is of type ‘const char *’
In file included from /home/dcat/osdev/w2/include/str.h:9:0,
                 from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:
/home/dcat/osdev/w2/fs/vfs/vfs.c: In function ‘vfs_read’:
/home/dcat/osdev/w2/include/system.h:97:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/fs/vfs/vfs.c:183:9: note: in expansion of macro ‘deprintf’
         deprintf("mount point not found:%s", vfs->path);
         ^
In file included from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/str.h:9,
                 from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:97:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/fs/vfs/vfs.c:183:9: note: in expansion of macro ‘deprintf’
         deprintf("mount point not found:%s", vfs->path);
         ^
In file included from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/str.h:9:0,
                 from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:
/home/dcat/osdev/w2/include/system.h:97:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/fs/vfs/vfs.c:187:9: note: in expansion of macro ‘deprintf’
         deprintf("try to read a directory or something else:%s", vfs->path);
         ^
In file included from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/str.h:9,
                 from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:97:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/fs/vfs/vfs.c:187:9: note: in expansion of macro ‘deprintf’
         deprintf("try to read a directory or something else:%s", vfs->path);
         ^
In file included from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
/home/dcat/osdev/w2/fs/vfs/vfs.c:190:25: warning: passing argument 1 of ‘mp->fs->read’ from incompatible pointer type
     return mp->fs->read(&vfs->current, mp->fsp, offset, size, buff);
                         ^
/home/dcat/osdev/w2/fs/vfs/vfs.c:190:25: note: expected ‘struct fs_node *’ but argument is of type ‘struct fs_node_t *’
In file included from /home/dcat/osdev/w2/include/str.h:9:0,
                 from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:
/home/dcat/osdev/w2/fs/vfs/vfs.c: In function ‘vfs_write’:
/home/dcat/osdev/w2/include/system.h:97:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/fs/vfs/vfs.c:197:9: note: in expansion of macro ‘deprintf’
         deprintf("mount point not found:%s", vfs->path);
         ^
In file included from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/str.h:9,
                 from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:97:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/fs/vfs/vfs.c:197:9: note: in expansion of macro ‘deprintf’
         deprintf("mount point not found:%s", vfs->path);
         ^
In file included from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/str.h:9:0,
                 from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:
/home/dcat/osdev/w2/include/system.h:97:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/fs/vfs/vfs.c:201:9: note: in expansion of macro ‘deprintf’
         deprintf("try to write a directory or something else:%s", vfs->path);
         ^
In file included from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/str.h:9,
                 from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:97:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/fs/vfs/vfs.c:201:9: note: in expansion of macro ‘deprintf’
         deprintf("try to write a directory or something else:%s", vfs->path);
         ^
In file included from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
/home/dcat/osdev/w2/fs/vfs/vfs.c:204:26: warning: passing argument 1 of ‘mp->fs->write’ from incompatible pointer type
     return mp->fs->write(&vfs->current, mp->fsp, offset, size, buff);
                          ^
/home/dcat/osdev/w2/fs/vfs/vfs.c:204:26: note: expected ‘struct fs_node *’ but argument is of type ‘struct fs_node_t *’
In file included from /home/dcat/osdev/w2/include/str.h:9:0,
                 from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:
/home/dcat/osdev/w2/fs/vfs/vfs.c: In function ‘vfs_rm’:
/home/dcat/osdev/w2/include/system.h:97:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/fs/vfs/vfs.c:211:9: note: in expansion of macro ‘deprintf’
         deprintf("mount point not found:%s", vfs->path);
         ^
In file included from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/str.h:9,
                 from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:97:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/fs/vfs/vfs.c:211:9: note: in expansion of macro ‘deprintf’
         deprintf("mount point not found:%s", vfs->path);
         ^
In file included from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/str.h:9:0,
                 from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:
/home/dcat/osdev/w2/fs/vfs/vfs.c: In function ‘kopen’:
/home/dcat/osdev/w2/include/system.h:97:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/fs/vfs/vfs.c:229:9: note: in expansion of macro ‘deprintf’
         deprintf("cannot open more than %x files.", MAX_FILE_HANDLES);
         ^
In file included from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/str.h:9,
                 from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:97:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/fs/vfs/vfs.c:229:9: note: in expansion of macro ‘deprintf’
         deprintf("cannot open more than %x files.", MAX_FILE_HANDLES);
         ^
In file included from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/str.h:9:0,
                 from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:
/home/dcat/osdev/w2/include/system.h:97:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/fs/vfs/vfs.c:234:9: note: in expansion of macro ‘deprintf’
         deprintf("no such file or dir:%s", name);
         ^
In file included from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/str.h:9,
                 from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:97:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/fs/vfs/vfs.c:234:9: note: in expansion of macro ‘deprintf’
         deprintf("no such file or dir:%s", name);
         ^
In file included from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/str.h:9:0,
                 from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:
/home/dcat/osdev/w2/include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/fs/vfs/vfs.c:238:9: note: in expansion of macro ‘dprintf’
         dprintf("mount point not found:%s", path);
         ^
In file included from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/str.h:9,
                 from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/fs/vfs/vfs.c:238:9: note: in expansion of macro ‘dprintf’
         dprintf("mount point not found:%s", path);
         ^
In file included from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/str.h:9:0,
                 from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:
/home/dcat/osdev/w2/include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/fs/vfs/vfs.c:244:5: note: in expansion of macro ‘dprintf’
     dprintf("proc %x open %s fd:%x", getpid(), path, fd);
     ^
In file included from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/str.h:9,
                 from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/fs/vfs/vfs.c:244:5: note: in expansion of macro ‘dprintf’
     dprintf("proc %x open %s fd:%x", getpid(), path, fd);
     ^
In file included from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/str.h:9:0,
                 from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:
/home/dcat/osdev/w2/fs/vfs/vfs.c: In function ‘kclose’:
/home/dcat/osdev/w2/include/system.h:97:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/fs/vfs/vfs.c:255:9: note: in expansion of macro ‘deprintf’
         deprintf("cannot close a closed file:%x", fd);
         ^
In file included from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/str.h:9,
                 from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:97:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/fs/vfs/vfs.c:255:9: note: in expansion of macro ‘deprintf’
         deprintf("cannot close a closed file:%x", fd);
         ^
In file included from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/str.h:9:0,
                 from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:
/home/dcat/osdev/w2/fs/vfs/vfs.c: In function ‘kread’:
/home/dcat/osdev/w2/include/system.h:97:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/fs/vfs/vfs.c:270:9: note: in expansion of macro ‘deprintf’
         deprintf("fd %x not present.", fd);
         ^
In file included from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/str.h:9,
                 from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:97:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/fs/vfs/vfs.c:270:9: note: in expansion of macro ‘deprintf’
         deprintf("fd %x not present.", fd);
         ^
In file included from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/str.h:9:0,
                 from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:
/home/dcat/osdev/w2/include/system.h:97:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/fs/vfs/vfs.c:274:9: note: in expansion of macro ‘deprintf’
         deprintf("[%x]mount point not found.", fd);
         ^
In file included from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/str.h:9,
                 from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:97:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/fs/vfs/vfs.c:274:9: note: in expansion of macro ‘deprintf’
         deprintf("[%x]mount point not found.", fd);
         ^
In file included from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
/home/dcat/osdev/w2/fs/vfs/vfs.c:277:36: warning: passing argument 1 of ‘fh->mp->fs->read’ from incompatible pointer type
     int32_t ret = fh->mp->fs->read(&fh->node, fh->mp->fsp, offset, size, buff);
                                    ^
/home/dcat/osdev/w2/fs/vfs/vfs.c:277:36: note: expected ‘struct fs_node *’ but argument is of type ‘struct fs_node_t *’
In file included from /home/dcat/osdev/w2/include/str.h:9:0,
                 from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:
/home/dcat/osdev/w2/fs/vfs/vfs.c: In function ‘mount_rootfs’:
/home/dcat/osdev/w2/include/system.h:97:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/include/system.h:100:1: note: in expansion of macro ‘deprintf’
 deprintf("CHK::" #fun " Failed:" msg,##args);\
 ^
/home/dcat/osdev/w2/fs/vfs/vfs.c:295:5: note: in expansion of macro ‘CHK’
     CHK(vfs_mount(&vfs, "/", &catmfs, NULL), "");
     ^
In file included from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/str.h:9,
                 from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:97:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/include/system.h:100:1: note: in expansion of macro ‘deprintf’
 deprintf("CHK::" #fun " Failed:" msg,##args);\
 ^
/home/dcat/osdev/w2/fs/vfs/vfs.c:295:5: note: in expansion of macro ‘CHK’
     CHK(vfs_mount(&vfs, "/", &catmfs, NULL), "");
     ^
In file included from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/str.h:9:0,
                 from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:
/home/dcat/osdev/w2/include/system.h:97:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/include/system.h:100:1: note: in expansion of macro ‘deprintf’
 deprintf("CHK::" #fun " Failed:" msg,##args);\
 ^
/home/dcat/osdev/w2/fs/vfs/vfs.c:296:5: note: in expansion of macro ‘CHK’
     CHK(vfs_cd(&vfs, "/"), "");
     ^
In file included from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/str.h:9,
                 from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:97:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/include/system.h:100:1: note: in expansion of macro ‘deprintf’
 deprintf("CHK::" #fun " Failed:" msg,##args);\
 ^
/home/dcat/osdev/w2/fs/vfs/vfs.c:296:5: note: in expansion of macro ‘CHK’
     CHK(vfs_cd(&vfs, "/"), "");
     ^
In file included from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/str.h:9:0,
                 from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:
/home/dcat/osdev/w2/include/system.h:97:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/include/system.h:100:1: note: in expansion of macro ‘deprintf’
 deprintf("CHK::" #fun " Failed:" msg,##args);\
 ^
/home/dcat/osdev/w2/fs/vfs/vfs.c:299:5: note: in expansion of macro ‘CHK’
     CHK(catmfs_fs_node_load_catrfmt(&vfs.current_dir, mp->fsp, initrd), "");
     ^
In file included from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/str.h:9,
                 from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:97:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/include/system.h:100:1: note: in expansion of macro ‘deprintf’
 deprintf("CHK::" #fun " Failed:" msg,##args);\
 ^
/home/dcat/osdev/w2/fs/vfs/vfs.c:299:5: note: in expansion of macro ‘CHK’
     CHK(catmfs_fs_node_load_catrfmt(&vfs.current_dir, mp->fsp, initrd), "");
     ^
In file included from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/str.h:9:0,
                 from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:
/home/dcat/osdev/w2/include/system.h:97:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/include/system.h:100:1: note: in expansion of macro ‘deprintf’
 deprintf("CHK::" #fun " Failed:" msg,##args);\
 ^
/home/dcat/osdev/w2/fs/vfs/vfs.c:300:5: note: in expansion of macro ‘CHK’
     CHK(vfs_cd(&vfs, "/"), "");
     ^
In file included from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/str.h:9,
                 from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:97:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/include/system.h:100:1: note: in expansion of macro ‘deprintf’
 deprintf("CHK::" #fun " Failed:" msg,##args);\
 ^
/home/dcat/osdev/w2/fs/vfs/vfs.c:300:5: note: in expansion of macro ‘CHK’
     CHK(vfs_cd(&vfs, "/"), "");
     ^
In file included from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/str.h:9:0,
                 from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:
/home/dcat/osdev/w2/include/system.h:97:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/include/system.h:100:1: note: in expansion of macro ‘deprintf’
 deprintf("CHK::" #fun " Failed:" msg,##args);\
 ^
/home/dcat/osdev/w2/fs/vfs/vfs.c:301:5: note: in expansion of macro ‘CHK’
     CHK(vfs_mkdir(&vfs, "data"), "");
     ^
In file included from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/str.h:9,
                 from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:97:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/include/system.h:100:1: note: in expansion of macro ‘deprintf’
 deprintf("CHK::" #fun " Failed:" msg,##args);\
 ^
/home/dcat/osdev/w2/fs/vfs/vfs.c:301:5: note: in expansion of macro ‘CHK’
     CHK(vfs_mkdir(&vfs, "data"), "");
     ^
In file included from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/str.h:9:0,
                 from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:
/home/dcat/osdev/w2/include/system.h:97:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/include/system.h:100:1: note: in expansion of macro ‘deprintf’
 deprintf("CHK::" #fun " Failed:" msg,##args);\
 ^
/home/dcat/osdev/w2/fs/vfs/vfs.c:302:5: note: in expansion of macro ‘CHK’
     CHK(vfs_mount(&vfs, "/data/", &ext2_fs, &disk1), "");
     ^
In file included from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/str.h:9,
                 from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:97:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/include/system.h:100:1: note: in expansion of macro ‘deprintf’
 deprintf("CHK::" #fun " Failed:" msg,##args);\
 ^
/home/dcat/osdev/w2/fs/vfs/vfs.c:302:5: note: in expansion of macro ‘CHK’
     CHK(vfs_mount(&vfs, "/data/", &ext2_fs, &disk1), "");
     ^
In file included from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:4:0,
                 from /home/dcat/osdev/w2/include/str.h:9,
                 from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:
/home/dcat/osdev/w2/fs/vfs/vfs.c: In function ‘vfs_test’:
/home/dcat/osdev/w2/fs/vfs/vfs.c:321:10: warning: pointer targets in passing argument 2 of ‘strformat’ differ in signedness [-Wpointer-sign]
     putf(d);
          ^
/home/dcat/osdev/w2/include/screen.h:37:17: note: in definition of macro ‘putnf’
  strformat(data,fmt,##args);\
                 ^
/home/dcat/osdev/w2/fs/vfs/vfs.c:321:5: note: in expansion of macro ‘putf’
     putf(d);
     ^
In file included from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:0:
/home/dcat/osdev/w2/include/str.h:15:6: note: expected ‘const char *’ but argument is of type ‘uchar_t *’
 uint strformat(char *out, const char *fmt, ...);
      ^
/home/dcat/osdev/w2/fs/vfs/vfs.c: In function ‘vfs_test_old’:
/home/dcat/osdev/w2/fs/vfs/vfs.c:341:12: warning: pointer targets in passing argument 1 of ‘memset’ differ in signedness [-Wpointer-sign]
     memset(bigneko, 'H', size);
            ^
In file included from /home/dcat/osdev/w2/include/str.h:9:0,
                 from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:
/home/dcat/osdev/w2/include/system.h:76:23: note: expected ‘unsigned char *’ but argument is of type ‘char *’
 extern unsigned char *memset(unsigned char *dest, unsigned char val, int count);
                       ^
/home/dcat/osdev/w2/fs/vfs/vfs.c:342:40: warning: pointer targets in passing argument 4 of ‘vfs_write’ differ in signedness [-Wpointer-sign]
     int32_t a = vfs_write(&vfs, 0, 10, bigneko);
                                        ^
/home/dcat/osdev/w2/fs/vfs/vfs.c:193:9: note: expected ‘uchar_t *’ but argument is of type ‘char *’
 int32_t vfs_write(vfs_t *vfs, uint32_t offset, uint32_t size, uchar_t *buff) {
         ^
/home/dcat/osdev/w2/fs/vfs/vfs.c:347:12: warning: pointer targets in passing argument 1 of ‘memset’ differ in signedness [-Wpointer-sign]
     memset(bigneko, 'P', size);
            ^
In file included from /home/dcat/osdev/w2/include/str.h:9:0,
                 from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:
/home/dcat/osdev/w2/include/system.h:76:23: note: expected ‘unsigned char *’ but argument is of type ‘char *’
 extern unsigned char *memset(unsigned char *dest, unsigned char val, int count);
                       ^
/home/dcat/osdev/w2/fs/vfs/vfs.c:348:33: warning: pointer targets in passing argument 4 of ‘vfs_write’ differ in signedness [-Wpointer-sign]
     a = vfs_write(&vfs, 10, 10, bigneko);
                                 ^
/home/dcat/osdev/w2/fs/vfs/vfs.c:193:9: note: expected ‘uchar_t *’ but argument is of type ‘char *’
 int32_t vfs_write(vfs_t *vfs, uint32_t offset, uint32_t size, uchar_t *buff) {
         ^
/home/dcat/osdev/w2/fs/vfs/vfs.c:351:12: warning: pointer targets in passing argument 1 of ‘memset’ differ in signedness [-Wpointer-sign]
     memset(nya, 0, 2032);
            ^
In file included from /home/dcat/osdev/w2/include/str.h:9:0,
                 from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:
/home/dcat/osdev/w2/include/system.h:76:23: note: expected ‘unsigned char *’ but argument is of type ‘char *’
 extern unsigned char *memset(unsigned char *dest, unsigned char val, int count);
                       ^
/home/dcat/osdev/w2/fs/vfs/vfs.c:352:38: warning: pointer targets in passing argument 4 of ‘vfs_read’ differ in signedness [-Wpointer-sign]
     int ret = vfs_read(&vfs, 10, 10, nya);
                                      ^
/home/dcat/osdev/w2/fs/vfs/vfs.c:179:9: note: expected ‘uchar_t *’ but argument is of type ‘char *’
 int32_t vfs_read(vfs_t *vfs, uint32_t offset, uint32_t size, uchar_t *buff) {
         ^
In file included from /home/dcat/osdev/w2/include/str.h:9:0,
                 from /home/dcat/osdev/w2/fs/vfs/vfs.c:5:
/home/dcat/osdev/w2/fs/vfs/vfs.c: At top level:
/home/dcat/osdev/w2/include/system.h:82:27: warning: inline function ‘itoa’ declared but never defined
 extern inline const char *itoa(int i, char result[]);
                           ^
/home/dcat/osdev/w2/include/system.h:82:27: warning: inline function ‘itoa’ declared but never defined
/home/dcat/osdev/w2/fs/vfs/vfs.c: In function ‘vfs_cpynode’:
/home/dcat/osdev/w2/fs/vfs/vfs.c:66:1: warning: control reaches end of non-void function [-Wreturn-type]
 }
 ^
In file included from /home/dcat/osdev/w2/fs/catmfs/include/catmfs.h:8:0,
                 from /home/dcat/osdev/w2/fs/catmfs/catmfs.c:7:
/home/dcat/osdev/w2/include/fs_node.h:19:39: warning: ‘struct fs_node’ declared inside parameter list
 typedef int32_t (*read_type_t)(struct fs_node *, __fs_special_t *fsp, uint32_t, uint32_t, uint8_t *);
                                       ^
/home/dcat/osdev/w2/include/fs_node.h:19:39: warning: its scope is only this definition or declaration, which is probably not what you want
/home/dcat/osdev/w2/include/fs_node.h:21:40: warning: ‘struct fs_node’ declared inside parameter list
 typedef int32_t (*write_type_t)(struct fs_node *, __fs_special_t *fsp, uint32_t, uint32_t, uint8_t *);
                                        ^
/home/dcat/osdev/w2/include/fs_node.h:23:36: warning: ‘struct fs_node’ declared inside parameter list
 typedef void (*open_type_t)(struct fs_node *, __fs_special_t *fsp);
                                    ^
/home/dcat/osdev/w2/include/fs_node.h:25:37: warning: ‘struct fs_node’ declared inside parameter list
 typedef void (*close_type_t)(struct fs_node *, __fs_special_t *fsp);
                                     ^
/home/dcat/osdev/w2/include/fs_node.h:28:101: warning: ‘struct dirent’ declared inside parameter list
 typedef int32_t (*readdir_type_t)(struct fs_node *node, __fs_special_t *fsp, uint32_t count, struct dirent *result);
                                                                                                     ^
/home/dcat/osdev/w2/include/fs_node.h:28:101: warning: ‘struct fs_node’ declared inside parameter list
/home/dcat/osdev/w2/include/fs_node.h:30:95: warning: ‘struct fs_node’ declared inside parameter list
 typedef int (*finddir_type_t)(struct fs_node *, __fs_special_t *fsp, const char *name, struct fs_node *result_out);
                                                                                               ^
In file included from /home/dcat/osdev/w2/include/contious_heap.h:8:0,
                 from /home/dcat/osdev/w2/include/kmalloc.h:9,
                 from /home/dcat/osdev/w2/fs/catmfs/catmfs.c:6:
/home/dcat/osdev/w2/fs/catmfs/catmfs.c: In function ‘catmfs_alloc_inode’:
/home/dcat/osdev/w2/include/system.h:97:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/fs/catmfs/catmfs.c:21:21: note: in expansion of macro ‘deprintf’
     if (inode == 0) deprintf("Out of memory!");
                     ^
In file included from /home/dcat/osdev/w2/fs/catmfs/catmfs.c:8:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/contious_heap.h:8,
                 from /home/dcat/osdev/w2/include/kmalloc.h:9,
                 from /home/dcat/osdev/w2/fs/catmfs/catmfs.c:6:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:97:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/fs/catmfs/catmfs.c:21:21: note: in expansion of macro ‘deprintf’
     if (inode == 0) deprintf("Out of memory!");
                     ^
In file included from /home/dcat/osdev/w2/fs/catmfs/catmfs.c:8:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
/home/dcat/osdev/w2/fs/catmfs/catmfs.c:22:12: warning: passing argument 1 of ‘memset’ from incompatible pointer type
     memset(inode, 0, 0x1000);
            ^
In file included from /home/dcat/osdev/w2/include/contious_heap.h:8:0,
                 from /home/dcat/osdev/w2/include/kmalloc.h:9,
                 from /home/dcat/osdev/w2/fs/catmfs/catmfs.c:6:
/home/dcat/osdev/w2/include/system.h:76:23: note: expected ‘unsigned char *’ but argument is of type ‘struct catmfs_inode_t *’
 extern unsigned char *memset(unsigned char *dest, unsigned char val, int count);
                       ^
/home/dcat/osdev/w2/fs/catmfs/catmfs.c: In function ‘catmfs_make’:
/home/dcat/osdev/w2/include/system.h:97:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/fs/catmfs/catmfs.c:29:9: note: in expansion of macro ‘deprintf’
         deprintf("not a catmfs node[%x][%x].", inode, inode->magic);
         ^
In file included from /home/dcat/osdev/w2/fs/catmfs/catmfs.c:8:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/contious_heap.h:8,
                 from /home/dcat/osdev/w2/include/kmalloc.h:9,
                 from /home/dcat/osdev/w2/fs/catmfs/catmfs.c:6:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:97:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/fs/catmfs/catmfs.c:29:9: note: in expansion of macro ‘deprintf’
         deprintf("not a catmfs node[%x][%x].", inode, inode->magic);
         ^
In file included from /home/dcat/osdev/w2/fs/catmfs/catmfs.c:8:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/contious_heap.h:8:0,
                 from /home/dcat/osdev/w2/include/kmalloc.h:9,
                 from /home/dcat/osdev/w2/fs/catmfs/catmfs.c:6:
/home/dcat/osdev/w2/include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/fs/catmfs/catmfs.c:43:13: note: in expansion of macro ‘dprintf’
             dprintf("offset:%x name:%s", dir, name);
             ^
In file included from /home/dcat/osdev/w2/fs/catmfs/catmfs.c:8:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/contious_heap.h:8,
                 from /home/dcat/osdev/w2/include/kmalloc.h:9,
                 from /home/dcat/osdev/w2/fs/catmfs/catmfs.c:6:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/fs/catmfs/catmfs.c:43:13: note: in expansion of macro ‘dprintf’
             dprintf("offset:%x name:%s", dir, name);
             ^
In file included from /home/dcat/osdev/w2/fs/catmfs/catmfs.c:8:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
/home/dcat/osdev/w2/fs/catmfs/catmfs.c:47:24: warning: assignment makes integer from pointer without a cast
             dir->inode = ninode;
                        ^
/home/dcat/osdev/w2/fs/catmfs/catmfs.c:51:20: warning: pointer targets in passing argument 1 of ‘memcpy’ differ in signedness [-Wpointer-sign]
             memcpy(np, name, len);
                    ^
In file included from /home/dcat/osdev/w2/include/contious_heap.h:8:0,
                 from /home/dcat/osdev/w2/include/kmalloc.h:9,
                 from /home/dcat/osdev/w2/fs/catmfs/catmfs.c:6:
/home/dcat/osdev/w2/include/system.h:72:23: note: expected ‘unsigned char *’ but argument is of type ‘char *’
 extern unsigned char *memcpy(unsigned char *dest, const unsigned char *src, int count);
                       ^
/home/dcat/osdev/w2/fs/catmfs/catmfs.c:51:24: warning: pointer targets in passing argument 2 of ‘memcpy’ differ in signedness [-Wpointer-sign]
             memcpy(np, name, len);
                        ^
In file included from /home/dcat/osdev/w2/include/contious_heap.h:8:0,
                 from /home/dcat/osdev/w2/include/kmalloc.h:9,
                 from /home/dcat/osdev/w2/fs/catmfs/catmfs.c:6:
/home/dcat/osdev/w2/include/system.h:72:23: note: expected ‘const unsigned char *’ but argument is of type ‘char *’
 extern unsigned char *memcpy(unsigned char *dest, const unsigned char *src, int count);
                       ^
/home/dcat/osdev/w2/include/system.h:97:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/fs/catmfs/catmfs.c:57:13: note: in expansion of macro ‘deprintf’
             deprintf("Out of space.last:[%x]", raw);
             ^
In file included from /home/dcat/osdev/w2/fs/catmfs/catmfs.c:8:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/contious_heap.h:8,
                 from /home/dcat/osdev/w2/include/kmalloc.h:9,
                 from /home/dcat/osdev/w2/fs/catmfs/catmfs.c:6:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:97:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/fs/catmfs/catmfs.c:57:13: note: in expansion of macro ‘deprintf’
             deprintf("Out of space.last:[%x]", raw);
             ^
In file included from /home/dcat/osdev/w2/fs/catmfs/catmfs.c:8:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/contious_heap.h:8:0,
                 from /home/dcat/osdev/w2/include/kmalloc.h:9,
                 from /home/dcat/osdev/w2/fs/catmfs/catmfs.c:6:
/home/dcat/osdev/w2/fs/catmfs/catmfs.c: In function ‘catmfs_fs_node_readdir’:
/home/dcat/osdev/w2/include/system.h:97:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/fs/catmfs/catmfs.c:73:9: note: in expansion of macro ‘deprintf’
         deprintf("not a catmfs node[%x][%x].", inode, inode->magic);
         ^
In file included from /home/dcat/osdev/w2/fs/catmfs/catmfs.c:8:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/contious_heap.h:8,
                 from /home/dcat/osdev/w2/include/kmalloc.h:9,
                 from /home/dcat/osdev/w2/fs/catmfs/catmfs.c:6:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:97:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/fs/catmfs/catmfs.c:73:9: note: in expansion of macro ‘deprintf’
         deprintf("not a catmfs node[%x][%x].", inode, inode->magic);
         ^
In file included from /home/dcat/osdev/w2/fs/catmfs/catmfs.c:8:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/contious_heap.h:8:0,
                 from /home/dcat/osdev/w2/include/kmalloc.h:9,
                 from /home/dcat/osdev/w2/fs/catmfs/catmfs.c:6:
/home/dcat/osdev/w2/include/system.h:97:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/fs/catmfs/catmfs.c:83:13: note: in expansion of macro ‘deprintf’
             deprintf("Bad namelen:%x", dir->name_len);
             ^
In file included from /home/dcat/osdev/w2/fs/catmfs/catmfs.c:8:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/contious_heap.h:8,
                 from /home/dcat/osdev/w2/include/kmalloc.h:9,
                 from /home/dcat/osdev/w2/fs/catmfs/catmfs.c:6:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:97:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/fs/catmfs/catmfs.c:83:13: note: in expansion of macro ‘deprintf’
             deprintf("Bad namelen:%x", dir->name_len);
             ^
In file included from /home/dcat/osdev/w2/fs/catmfs/catmfs.c:8:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
/home/dcat/osdev/w2/fs/catmfs/catmfs.c:87:16: warning: pointer targets in passing argument 1 of ‘memcpy’ differ in signedness [-Wpointer-sign]
         memcpy(result[x].name, np, dir->name_len);
                ^
In file included from /home/dcat/osdev/w2/include/contious_heap.h:8:0,
                 from /home/dcat/osdev/w2/include/kmalloc.h:9,
                 from /home/dcat/osdev/w2/fs/catmfs/catmfs.c:6:
/home/dcat/osdev/w2/include/system.h:72:23: note: expected ‘unsigned char *’ but argument is of type ‘char *’
 extern unsigned char *memcpy(unsigned char *dest, const unsigned char *src, int count);
                       ^
/home/dcat/osdev/w2/fs/catmfs/catmfs.c:87:32: warning: pointer targets in passing argument 2 of ‘memcpy’ differ in signedness [-Wpointer-sign]
         memcpy(result[x].name, np, dir->name_len);
                                ^
In file included from /home/dcat/osdev/w2/include/contious_heap.h:8:0,
                 from /home/dcat/osdev/w2/include/kmalloc.h:9,
                 from /home/dcat/osdev/w2/fs/catmfs/catmfs.c:6:
/home/dcat/osdev/w2/include/system.h:72:23: note: expected ‘const unsigned char *’ but argument is of type ‘char *’
 extern unsigned char *memcpy(unsigned char *dest, const unsigned char *src, int count);
                       ^
/home/dcat/osdev/w2/fs/catmfs/catmfs.c:71:23: warning: unused variable ‘fsp’ [-Wunused-variable]
     catmfs_special_t *fsp = fsp_;
                       ^
In file included from /home/dcat/osdev/w2/include/contious_heap.h:8:0,
                 from /home/dcat/osdev/w2/include/kmalloc.h:9,
                 from /home/dcat/osdev/w2/fs/catmfs/catmfs.c:6:
/home/dcat/osdev/w2/fs/catmfs/catmfs.c: In function ‘catmfs_fs_node_finddir’:
/home/dcat/osdev/w2/include/system.h:97:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/fs/catmfs/catmfs.c:105:9: note: in expansion of macro ‘deprintf’
         deprintf("not a catmfs node[%x][%x].", inode, inode->magic);
         ^
In file included from /home/dcat/osdev/w2/fs/catmfs/catmfs.c:8:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/contious_heap.h:8,
                 from /home/dcat/osdev/w2/include/kmalloc.h:9,
                 from /home/dcat/osdev/w2/fs/catmfs/catmfs.c:6:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:97:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/fs/catmfs/catmfs.c:105:9: note: in expansion of macro ‘deprintf’
         deprintf("not a catmfs node[%x][%x].", inode, inode->magic);
         ^
In file included from /home/dcat/osdev/w2/fs/catmfs/catmfs.c:8:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/contious_heap.h:8:0,
                 from /home/dcat/osdev/w2/include/kmalloc.h:9,
                 from /home/dcat/osdev/w2/fs/catmfs/catmfs.c:6:
/home/dcat/osdev/w2/include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/fs/catmfs/catmfs.c:115:13: note: in expansion of macro ‘dprintf’
             dprintf("Bad namelen:%x", dir->name_len);
             ^
In file included from /home/dcat/osdev/w2/fs/catmfs/catmfs.c:8:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/contious_heap.h:8,
                 from /home/dcat/osdev/w2/include/kmalloc.h:9,
                 from /home/dcat/osdev/w2/fs/catmfs/catmfs.c:6:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/fs/catmfs/catmfs.c:115:13: note: in expansion of macro ‘dprintf’
             dprintf("Bad namelen:%x", dir->name_len);
             ^
In file included from /home/dcat/osdev/w2/fs/catmfs/catmfs.c:8:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
/home/dcat/osdev/w2/fs/catmfs/catmfs.c:119:16: warning: pointer targets in passing argument 1 of ‘memcpy’ differ in signedness [-Wpointer-sign]
         memcpy(sname, np, dir->name_len);
                ^
In file included from /home/dcat/osdev/w2/include/contious_heap.h:8:0,
                 from /home/dcat/osdev/w2/include/kmalloc.h:9,
                 from /home/dcat/osdev/w2/fs/catmfs/catmfs.c:6:
/home/dcat/osdev/w2/include/system.h:72:23: note: expected ‘unsigned char *’ but argument is of type ‘char *’
 extern unsigned char *memcpy(unsigned char *dest, const unsigned char *src, int count);
                       ^
/home/dcat/osdev/w2/fs/catmfs/catmfs.c:119:23: warning: pointer targets in passing argument 2 of ‘memcpy’ differ in signedness [-Wpointer-sign]
         memcpy(sname, np, dir->name_len);
                       ^
In file included from /home/dcat/osdev/w2/include/contious_heap.h:8:0,
                 from /home/dcat/osdev/w2/include/kmalloc.h:9,
                 from /home/dcat/osdev/w2/fs/catmfs/catmfs.c:6:
/home/dcat/osdev/w2/include/system.h:72:23: note: expected ‘const unsigned char *’ but argument is of type ‘char *’
 extern unsigned char *memcpy(unsigned char *dest, const unsigned char *src, int count);
                       ^
/home/dcat/osdev/w2/fs/catmfs/catmfs.c:123:13: warning: implicit declaration of function ‘catmfs_get_fs_node’ [-Wimplicit-function-declaration]
             catmfs_get_fs_node(dir->inode, result_out);
             ^
In file included from /home/dcat/osdev/w2/include/contious_heap.h:8:0,
                 from /home/dcat/osdev/w2/include/kmalloc.h:9,
                 from /home/dcat/osdev/w2/fs/catmfs/catmfs.c:6:
/home/dcat/osdev/w2/fs/catmfs/catmfs.c: In function ‘catmfs_get_fs_node’:
/home/dcat/osdev/w2/include/system.h:97:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/fs/catmfs/catmfs.c:137:9: note: in expansion of macro ‘deprintf’
         deprintf("not a catmfs node[%x][%x].", inode, inode->magic);
         ^
In file included from /home/dcat/osdev/w2/fs/catmfs/catmfs.c:8:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/contious_heap.h:8,
                 from /home/dcat/osdev/w2/include/kmalloc.h:9,
                 from /home/dcat/osdev/w2/fs/catmfs/catmfs.c:6:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:97:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/fs/catmfs/catmfs.c:137:9: note: in expansion of macro ‘deprintf’
         deprintf("not a catmfs node[%x][%x].", inode, inode->magic);
         ^
In file included from /home/dcat/osdev/w2/fs/catmfs/catmfs.c:8:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/contious_heap.h:8:0,
                 from /home/dcat/osdev/w2/include/kmalloc.h:9,
                 from /home/dcat/osdev/w2/fs/catmfs/catmfs.c:6:
/home/dcat/osdev/w2/fs/catmfs/catmfs.c: In function ‘catmfs_fs_node_read’:
/home/dcat/osdev/w2/include/system.h:97:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/fs/catmfs/catmfs.c:152:9: note: in expansion of macro ‘deprintf’
         deprintf("not a catmfs node[%x][%x].", inode, inode->magic);
         ^
In file included from /home/dcat/osdev/w2/fs/catmfs/catmfs.c:8:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/contious_heap.h:8,
                 from /home/dcat/osdev/w2/include/kmalloc.h:9,
                 from /home/dcat/osdev/w2/fs/catmfs/catmfs.c:6:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:97:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/fs/catmfs/catmfs.c:152:9: note: in expansion of macro ‘deprintf’
         deprintf("not a catmfs node[%x][%x].", inode, inode->magic);
         ^
In file included from /home/dcat/osdev/w2/fs/catmfs/catmfs.c:8:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/contious_heap.h:8:0,
                 from /home/dcat/osdev/w2/include/kmalloc.h:9,
                 from /home/dcat/osdev/w2/fs/catmfs/catmfs.c:6:
/home/dcat/osdev/w2/include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/fs/catmfs/catmfs.c:156:9: note: in expansion of macro ‘dprintf’
         dprintf("a catrfmt file,redirect it.");
         ^
In file included from /home/dcat/osdev/w2/fs/catmfs/catmfs.c:8:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/contious_heap.h:8,
                 from /home/dcat/osdev/w2/include/kmalloc.h:9,
                 from /home/dcat/osdev/w2/fs/catmfs/catmfs.c:6:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/fs/catmfs/catmfs.c:156:9: note: in expansion of macro ‘dprintf’
         dprintf("a catrfmt file,redirect it.");
         ^
In file included from /home/dcat/osdev/w2/fs/catmfs/catmfs.c:8:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
/home/dcat/osdev/w2/fs/catmfs/catmfs.c:157:29: warning: passing argument 1 of ‘catrfmt_read’ makes pointer from integer without a cast
         return catrfmt_read(inode->reserved, offset, size, buff);
                             ^
In file included from /home/dcat/osdev/w2/fs/catmfs/catmfs.c:10:0:
/home/dcat/osdev/w2/fs/catmfs/include/catrfmt.h:16:10: note: expected ‘struct fs_node_t *’ but argument is of type ‘uint32_t’
 uint32_t catrfmt_read(fs_node_t *node, uint32_t offset, uint32_t size, uint8_t *buff);
          ^
In file included from /home/dcat/osdev/w2/include/contious_heap.h:8:0,
                 from /home/dcat/osdev/w2/include/kmalloc.h:9,
                 from /home/dcat/osdev/w2/fs/catmfs/catmfs.c:6:
/home/dcat/osdev/w2/include/system.h:97:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/fs/catmfs/catmfs.c:180:13: note: in expansion of macro ‘deprintf’
             deprintf("bad catmfs block:%x", dblk);
             ^
In file included from /home/dcat/osdev/w2/fs/catmfs/catmfs.c:8:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/contious_heap.h:8,
                 from /home/dcat/osdev/w2/include/kmalloc.h:9,
                 from /home/dcat/osdev/w2/fs/catmfs/catmfs.c:6:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:97:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/fs/catmfs/catmfs.c:180:13: note: in expansion of macro ‘deprintf’
             deprintf("bad catmfs block:%x", dblk);
             ^
In file included from /home/dcat/osdev/w2/fs/catmfs/catmfs.c:8:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/contious_heap.h:8:0,
                 from /home/dcat/osdev/w2/include/kmalloc.h:9,
                 from /home/dcat/osdev/w2/fs/catmfs/catmfs.c:6:
/home/dcat/osdev/w2/fs/catmfs/catmfs.c: In function ‘catmfs_fs_node_write’:
/home/dcat/osdev/w2/include/system.h:97:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/fs/catmfs/catmfs.c:203:9: note: in expansion of macro ‘deprintf’
         deprintf("not a catmfs node[%x][%x].", inode, inode->magic);
         ^
In file included from /home/dcat/osdev/w2/fs/catmfs/catmfs.c:8:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/contious_heap.h:8,
                 from /home/dcat/osdev/w2/include/kmalloc.h:9,
                 from /home/dcat/osdev/w2/fs/catmfs/catmfs.c:6:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:97:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/fs/catmfs/catmfs.c:203:9: note: in expansion of macro ‘deprintf’
         deprintf("not a catmfs node[%x][%x].", inode, inode->magic);
         ^
In file included from /home/dcat/osdev/w2/fs/catmfs/catmfs.c:8:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/contious_heap.h:8:0,
                 from /home/dcat/osdev/w2/include/kmalloc.h:9,
                 from /home/dcat/osdev/w2/fs/catmfs/catmfs.c:6:
/home/dcat/osdev/w2/include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/fs/catmfs/catmfs.c:207:9: note: in expansion of macro ‘dprintf’
         dprintf("a catrfmt file,redirect it.");
         ^
In file included from /home/dcat/osdev/w2/fs/catmfs/catmfs.c:8:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/contious_heap.h:8,
                 from /home/dcat/osdev/w2/include/kmalloc.h:9,
                 from /home/dcat/osdev/w2/fs/catmfs/catmfs.c:6:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/fs/catmfs/catmfs.c:207:9: note: in expansion of macro ‘dprintf’
         dprintf("a catrfmt file,redirect it.");
         ^
In file included from /home/dcat/osdev/w2/fs/catmfs/catmfs.c:8:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
/home/dcat/osdev/w2/fs/catmfs/catmfs.c:208:30: warning: passing argument 1 of ‘catrfmt_write’ makes pointer from integer without a cast
         return catrfmt_write(inode->reserved, offset, size, buff);
                              ^
In file included from /home/dcat/osdev/w2/fs/catmfs/catmfs.c:10:0:
/home/dcat/osdev/w2/fs/catmfs/include/catrfmt.h:20:10: note: expected ‘struct fs_node_t *’ but argument is of type ‘uint32_t’
 uint32_t catrfmt_write(fs_node_t *node, uint32_t offset, uint32_t size, uint8_t *buff);
          ^
In file included from /home/dcat/osdev/w2/include/contious_heap.h:8:0,
                 from /home/dcat/osdev/w2/include/kmalloc.h:9,
                 from /home/dcat/osdev/w2/fs/catmfs/catmfs.c:6:
/home/dcat/osdev/w2/include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/fs/catmfs/catmfs.c:215:5: note: in expansion of macro ‘dprintf’
     dprintf("inode:%x begin:%x", inode, raw);
     ^
In file included from /home/dcat/osdev/w2/fs/catmfs/catmfs.c:8:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/contious_heap.h:8,
                 from /home/dcat/osdev/w2/include/kmalloc.h:9,
                 from /home/dcat/osdev/w2/fs/catmfs/catmfs.c:6:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/fs/catmfs/catmfs.c:215:5: note: in expansion of macro ‘dprintf’
     dprintf("inode:%x begin:%x", inode, raw);
     ^
In file included from /home/dcat/osdev/w2/fs/catmfs/catmfs.c:8:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/contious_heap.h:8:0,
                 from /home/dcat/osdev/w2/include/kmalloc.h:9,
                 from /home/dcat/osdev/w2/fs/catmfs/catmfs.c:6:
/home/dcat/osdev/w2/include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/fs/catmfs/catmfs.c:218:9: note: in expansion of macro ‘dprintf’
         dprintf("write %x-%x to fblk[%x]", off, off + s, &raw[offset]);
         ^
In file included from /home/dcat/osdev/w2/fs/catmfs/catmfs.c:8:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/contious_heap.h:8,
                 from /home/dcat/osdev/w2/include/kmalloc.h:9,
                 from /home/dcat/osdev/w2/fs/catmfs/catmfs.c:6:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/fs/catmfs/catmfs.c:218:9: note: in expansion of macro ‘dprintf’
         dprintf("write %x-%x to fblk[%x]", off, off + s, &raw[offset]);
         ^
In file included from /home/dcat/osdev/w2/fs/catmfs/catmfs.c:8:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/contious_heap.h:8:0,
                 from /home/dcat/osdev/w2/include/kmalloc.h:9,
                 from /home/dcat/osdev/w2/fs/catmfs/catmfs.c:6:
/home/dcat/osdev/w2/include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/fs/catmfs/catmfs.c:226:9: note: in expansion of macro ‘dprintf’
         dprintf("[%x]allocated new sblk:%x", inode, inode->singly_block);
         ^
In file included from /home/dcat/osdev/w2/fs/catmfs/catmfs.c:8:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/contious_heap.h:8,
                 from /home/dcat/osdev/w2/include/kmalloc.h:9,
                 from /home/dcat/osdev/w2/fs/catmfs/catmfs.c:6:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/fs/catmfs/catmfs.c:226:9: note: in expansion of macro ‘dprintf’
         dprintf("[%x]allocated new sblk:%x", inode, inode->singly_block);
         ^
In file included from /home/dcat/osdev/w2/fs/catmfs/catmfs.c:8:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/contious_heap.h:8:0,
                 from /home/dcat/osdev/w2/include/kmalloc.h:9,
                 from /home/dcat/osdev/w2/fs/catmfs/catmfs.c:6:
/home/dcat/osdev/w2/include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/fs/catmfs/catmfs.c:238:13: note: in expansion of macro ‘dprintf’
             dprintf("[%x]allocated new datablk for %x:%x", inode, blkno, dblk);
             ^
In file included from /home/dcat/osdev/w2/fs/catmfs/catmfs.c:8:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/contious_heap.h:8,
                 from /home/dcat/osdev/w2/include/kmalloc.h:9,
                 from /home/dcat/osdev/w2/fs/catmfs/catmfs.c:6:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/fs/catmfs/catmfs.c:238:13: note: in expansion of macro ‘dprintf’
             dprintf("[%x]allocated new datablk for %x:%x", inode, blkno, dblk);
             ^
In file included from /home/dcat/osdev/w2/fs/catmfs/catmfs.c:8:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/contious_heap.h:8:0,
                 from /home/dcat/osdev/w2/include/kmalloc.h:9,
                 from /home/dcat/osdev/w2/fs/catmfs/catmfs.c:6:
/home/dcat/osdev/w2/include/system.h:97:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/fs/catmfs/catmfs.c:241:13: note: in expansion of macro ‘deprintf’
             deprintf("bad catmfs block:%x", dblk);
             ^
In file included from /home/dcat/osdev/w2/fs/catmfs/catmfs.c:8:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/contious_heap.h:8,
                 from /home/dcat/osdev/w2/include/kmalloc.h:9,
                 from /home/dcat/osdev/w2/fs/catmfs/catmfs.c:6:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:97:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/fs/catmfs/catmfs.c:241:13: note: in expansion of macro ‘deprintf’
             deprintf("bad catmfs block:%x", dblk);
             ^
In file included from /home/dcat/osdev/w2/fs/catmfs/catmfs.c:8:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/contious_heap.h:8:0,
                 from /home/dcat/osdev/w2/include/kmalloc.h:9,
                 from /home/dcat/osdev/w2/fs/catmfs/catmfs.c:6:
/home/dcat/osdev/w2/include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/fs/catmfs/catmfs.c:251:9: note: in expansion of macro ‘dprintf’
         dprintf("write %x-%x to pblk[no:%x][%x]", off, off + s, blkno, braw);
         ^
In file included from /home/dcat/osdev/w2/fs/catmfs/catmfs.c:8:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/contious_heap.h:8,
                 from /home/dcat/osdev/w2/include/kmalloc.h:9,
                 from /home/dcat/osdev/w2/fs/catmfs/catmfs.c:6:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/fs/catmfs/catmfs.c:251:9: note: in expansion of macro ‘dprintf’
         dprintf("write %x-%x to pblk[no:%x][%x]", off, off + s, blkno, braw);
         ^
In file included from /home/dcat/osdev/w2/fs/catmfs/catmfs.c:8:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/contious_heap.h:8:0,
                 from /home/dcat/osdev/w2/include/kmalloc.h:9,
                 from /home/dcat/osdev/w2/fs/catmfs/catmfs.c:6:
/home/dcat/osdev/w2/fs/catmfs/catmfs.c: In function ‘catmfs_fs_node_rm’:
/home/dcat/osdev/w2/include/system.h:97:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/fs/catmfs/catmfs.c:266:9: note: in expansion of macro ‘deprintf’
         deprintf("not a catmfs node[%x][%x].", inode, inode->magic);
         ^
In file included from /home/dcat/osdev/w2/fs/catmfs/catmfs.c:8:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/contious_heap.h:8,
                 from /home/dcat/osdev/w2/include/kmalloc.h:9,
                 from /home/dcat/osdev/w2/fs/catmfs/catmfs.c:6:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:97:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/fs/catmfs/catmfs.c:266:9: note: in expansion of macro ‘deprintf’
         deprintf("not a catmfs node[%x][%x].", inode, inode->magic);
         ^
In file included from /home/dcat/osdev/w2/fs/catmfs/catmfs.c:8:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/contious_heap.h:8:0,
                 from /home/dcat/osdev/w2/include/kmalloc.h:9,
                 from /home/dcat/osdev/w2/fs/catmfs/catmfs.c:6:
/home/dcat/osdev/w2/include/system.h:97:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/fs/catmfs/catmfs.c:270:9: note: in expansion of macro ‘deprintf’
         deprintf("cannot remove a not empty dir:%x child_c:%x", inode, inode->reserved);
         ^
In file included from /home/dcat/osdev/w2/fs/catmfs/catmfs.c:8:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/contious_heap.h:8,
                 from /home/dcat/osdev/w2/include/kmalloc.h:9,
                 from /home/dcat/osdev/w2/fs/catmfs/catmfs.c:6:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:97:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/fs/catmfs/catmfs.c:270:9: note: in expansion of macro ‘deprintf’
         deprintf("cannot remove a not empty dir:%x child_c:%x", inode, inode->reserved);
         ^
In file included from /home/dcat/osdev/w2/fs/catmfs/catmfs.c:8:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/contious_heap.h:8:0,
                 from /home/dcat/osdev/w2/include/kmalloc.h:9,
                 from /home/dcat/osdev/w2/fs/catmfs/catmfs.c:6:
/home/dcat/osdev/w2/include/system.h:97:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/fs/catmfs/catmfs.c:282:17: note: in expansion of macro ‘deprintf’
                 deprintf("Bad namelen:%x", dir->name_len);
                 ^
In file included from /home/dcat/osdev/w2/fs/catmfs/catmfs.c:8:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/contious_heap.h:8,
                 from /home/dcat/osdev/w2/include/kmalloc.h:9,
                 from /home/dcat/osdev/w2/fs/catmfs/catmfs.c:6:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:97:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/fs/catmfs/catmfs.c:282:17: note: in expansion of macro ‘deprintf’
                 deprintf("Bad namelen:%x", dir->name_len);
                 ^
In file included from /home/dcat/osdev/w2/fs/catmfs/catmfs.c:8:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/contious_heap.h:8:0,
                 from /home/dcat/osdev/w2/include/kmalloc.h:9,
                 from /home/dcat/osdev/w2/fs/catmfs/catmfs.c:6:
/home/dcat/osdev/w2/include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/fs/catmfs/catmfs.c:286:17: note: in expansion of macro ‘dprintf’
                 dprintf("found in finode %x addr:%x", inode->finode, dir);
                 ^
In file included from /home/dcat/osdev/w2/fs/catmfs/catmfs.c:8:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/contious_heap.h:8,
                 from /home/dcat/osdev/w2/include/kmalloc.h:9,
                 from /home/dcat/osdev/w2/fs/catmfs/catmfs.c:6:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/fs/catmfs/catmfs.c:286:17: note: in expansion of macro ‘dprintf’
                 dprintf("found in finode %x addr:%x", inode->finode, dir);
                 ^
In file included from /home/dcat/osdev/w2/fs/catmfs/catmfs.c:8:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/contious_heap.h:8:0,
                 from /home/dcat/osdev/w2/include/kmalloc.h:9,
                 from /home/dcat/osdev/w2/fs/catmfs/catmfs.c:6:
/home/dcat/osdev/w2/include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/fs/catmfs/catmfs.c:289:17: note: in expansion of macro ‘dprintf’
                 dprintf("cpy %x to %x size %x", next, dir, fsp->page_size - (next - (uint32_t) inode->finode));
                 ^
In file included from /home/dcat/osdev/w2/fs/catmfs/catmfs.c:8:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/contious_heap.h:8,
                 from /home/dcat/osdev/w2/include/kmalloc.h:9,
                 from /home/dcat/osdev/w2/fs/catmfs/catmfs.c:6:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/fs/catmfs/catmfs.c:289:17: note: in expansion of macro ‘dprintf’
                 dprintf("cpy %x to %x size %x", next, dir, fsp->page_size - (next - (uint32_t) inode->finode));
                 ^
In file included from /home/dcat/osdev/w2/fs/catmfs/catmfs.c:8:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
/home/dcat/osdev/w2/fs/catmfs/catmfs.c:290:24: warning: passing argument 1 of ‘memcpy’ makes pointer from integer without a cast
                 memcpy((uint32_t) dir, next, fsp->page_size - (next - (uint32_t) inode->finode));
                        ^
In file included from /home/dcat/osdev/w2/include/contious_heap.h:8:0,
                 from /home/dcat/osdev/w2/include/kmalloc.h:9,
                 from /home/dcat/osdev/w2/fs/catmfs/catmfs.c:6:
/home/dcat/osdev/w2/include/system.h:72:23: note: expected ‘unsigned char *’ but argument is of type ‘long unsigned int’
 extern unsigned char *memcpy(unsigned char *dest, const unsigned char *src, int count);
                       ^
/home/dcat/osdev/w2/fs/catmfs/catmfs.c:290:40: warning: passing argument 2 of ‘memcpy’ makes pointer from integer without a cast
                 memcpy((uint32_t) dir, next, fsp->page_size - (next - (uint32_t) inode->finode));
                                        ^
In file included from /home/dcat/osdev/w2/include/contious_heap.h:8:0,
                 from /home/dcat/osdev/w2/include/kmalloc.h:9,
                 from /home/dcat/osdev/w2/fs/catmfs/catmfs.c:6:
/home/dcat/osdev/w2/include/system.h:72:23: note: expected ‘const unsigned char *’ but argument is of type ‘uint32_t’
 extern unsigned char *memcpy(unsigned char *dest, const unsigned char *src, int count);
                       ^
/home/dcat/osdev/w2/include/system.h:97:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/fs/catmfs/catmfs.c:299:13: note: in expansion of macro ‘deprintf’
             deprintf("%x is not in father inode %x", inode, inode->finode);
             ^
In file included from /home/dcat/osdev/w2/fs/catmfs/catmfs.c:8:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/contious_heap.h:8,
                 from /home/dcat/osdev/w2/include/kmalloc.h:9,
                 from /home/dcat/osdev/w2/fs/catmfs/catmfs.c:6:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:97:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/fs/catmfs/catmfs.c:299:13: note: in expansion of macro ‘deprintf’
             deprintf("%x is not in father inode %x", inode, inode->finode);
             ^
In file included from /home/dcat/osdev/w2/fs/catmfs/catmfs.c:8:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/contious_heap.h:8:0,
                 from /home/dcat/osdev/w2/include/kmalloc.h:9,
                 from /home/dcat/osdev/w2/fs/catmfs/catmfs.c:6:
/home/dcat/osdev/w2/include/system.h:97:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/fs/catmfs/catmfs.c:301:9: note: in expansion of macro ‘deprintf’
         deprintf("cannot remove root inode:%x,use umount(//TODO) instead.", inode);
         ^
In file included from /home/dcat/osdev/w2/fs/catmfs/catmfs.c:8:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/contious_heap.h:8,
                 from /home/dcat/osdev/w2/include/kmalloc.h:9,
                 from /home/dcat/osdev/w2/fs/catmfs/catmfs.c:6:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:97:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/fs/catmfs/catmfs.c:301:9: note: in expansion of macro ‘deprintf’
         deprintf("cannot remove root inode:%x,use umount(//TODO) instead.", inode);
         ^
In file included from /home/dcat/osdev/w2/fs/catmfs/catmfs.c:8:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
/home/dcat/osdev/w2/fs/catmfs/catmfs.c:311:19: warning: passing argument 1 of ‘kfree’ makes pointer from integer without a cast
             kfree(*blk);
                   ^
In file included from /home/dcat/osdev/w2/fs/catmfs/catmfs.c:6:0:
/home/dcat/osdev/w2/include/kmalloc.h:19:6: note: expected ‘void *’ but argument is of type ‘uint32_t’
 void kfree(void *ptr);
      ^
/home/dcat/osdev/w2/fs/catmfs/catmfs.c:315:15: warning: passing argument 1 of ‘kfree’ makes pointer from integer without a cast
         kfree(inode->singly_block);
               ^
In file included from /home/dcat/osdev/w2/fs/catmfs/catmfs.c:6:0:
/home/dcat/osdev/w2/include/kmalloc.h:19:6: note: expected ‘void *’ but argument is of type ‘uint32_t’
 void kfree(void *ptr);
      ^
In file included from /home/dcat/osdev/w2/include/contious_heap.h:8:0,
                 from /home/dcat/osdev/w2/include/kmalloc.h:9,
                 from /home/dcat/osdev/w2/fs/catmfs/catmfs.c:6:
/home/dcat/osdev/w2/include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/fs/catmfs/catmfs.c:320:5: note: in expansion of macro ‘dprintf’
     dprintf("rm done.free %x blks", blkc);
     ^
In file included from /home/dcat/osdev/w2/fs/catmfs/catmfs.c:8:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/contious_heap.h:8,
                 from /home/dcat/osdev/w2/include/kmalloc.h:9,
                 from /home/dcat/osdev/w2/fs/catmfs/catmfs.c:6:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/fs/catmfs/catmfs.c:320:5: note: in expansion of macro ‘dprintf’
     dprintf("rm done.free %x blks", blkc);
     ^
In file included from /home/dcat/osdev/w2/fs/catmfs/catmfs.c:8:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/contious_heap.h:8:0,
                 from /home/dcat/osdev/w2/include/kmalloc.h:9,
                 from /home/dcat/osdev/w2/fs/catmfs/catmfs.c:6:
/home/dcat/osdev/w2/fs/catmfs/catmfs.c: In function ‘catmfs_fs_node_load_catrfmt’:
/home/dcat/osdev/w2/include/system.h:97:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/fs/catmfs/catmfs.c:329:9: note: in expansion of macro ‘deprintf’
         deprintf("not a catmfs node[%x][%x].", inode, inode->magic);
         ^
In file included from /home/dcat/osdev/w2/fs/catmfs/catmfs.c:8:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/contious_heap.h:8,
                 from /home/dcat/osdev/w2/include/kmalloc.h:9,
                 from /home/dcat/osdev/w2/fs/catmfs/catmfs.c:6:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:97:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/fs/catmfs/catmfs.c:329:9: note: in expansion of macro ‘deprintf’
         deprintf("not a catmfs node[%x][%x].", inode, inode->magic);
         ^
In file included from /home/dcat/osdev/w2/fs/catmfs/catmfs.c:8:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/contious_heap.h:8:0,
                 from /home/dcat/osdev/w2/include/kmalloc.h:9,
                 from /home/dcat/osdev/w2/fs/catmfs/catmfs.c:6:
/home/dcat/osdev/w2/include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/fs/catmfs/catmfs.c:333:5: note: in expansion of macro ‘dprintf’
     dprintf("loading %x;table count:%x", start_addr, fs->table_count);
     ^
In file included from /home/dcat/osdev/w2/fs/catmfs/catmfs.c:8:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/contious_heap.h:8,
                 from /home/dcat/osdev/w2/include/kmalloc.h:9,
                 from /home/dcat/osdev/w2/fs/catmfs/catmfs.c:6:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/fs/catmfs/catmfs.c:333:5: note: in expansion of macro ‘dprintf’
     dprintf("loading %x;table count:%x", start_addr, fs->table_count);
     ^
In file included from /home/dcat/osdev/w2/fs/catmfs/catmfs.c:8:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/contious_heap.h:8:0,
                 from /home/dcat/osdev/w2/include/kmalloc.h:9,
                 from /home/dcat/osdev/w2/fs/catmfs/catmfs.c:6:
/home/dcat/osdev/w2/include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/fs/catmfs/catmfs.c:335:9: note: in expansion of macro ‘dprintf’
         dprintf("table[%d]", cur_table_no);
         ^
In file included from /home/dcat/osdev/w2/fs/catmfs/catmfs.c:8:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/contious_heap.h:8,
                 from /home/dcat/osdev/w2/include/kmalloc.h:9,
                 from /home/dcat/osdev/w2/fs/catmfs/catmfs.c:6:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/fs/catmfs/catmfs.c:335:9: note: in expansion of macro ‘dprintf’
         dprintf("table[%d]", cur_table_no);
         ^
In file included from /home/dcat/osdev/w2/fs/catmfs/catmfs.c:8:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/contious_heap.h:8:0,
                 from /home/dcat/osdev/w2/include/kmalloc.h:9,
                 from /home/dcat/osdev/w2/fs/catmfs/catmfs.c:6:
/home/dcat/osdev/w2/include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/fs/catmfs/catmfs.c:341:13: note: in expansion of macro ‘dprintf’
             dprintf("[*]file:%s len:%d offset:%d", obj->name, obj->length, obj->offset);
             ^
In file included from /home/dcat/osdev/w2/fs/catmfs/catmfs.c:8:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/contious_heap.h:8,
                 from /home/dcat/osdev/w2/include/kmalloc.h:9,
                 from /home/dcat/osdev/w2/fs/catmfs/catmfs.c:6:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/fs/catmfs/catmfs.c:341:13: note: in expansion of macro ‘dprintf’
             dprintf("[*]file:%s len:%d offset:%d", obj->name, obj->length, obj->offset);
             ^
In file included from /home/dcat/osdev/w2/fs/catmfs/catmfs.c:8:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/contious_heap.h:8:0,
                 from /home/dcat/osdev/w2/include/kmalloc.h:9,
                 from /home/dcat/osdev/w2/fs/catmfs/catmfs.c:6:
/home/dcat/osdev/w2/include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/fs/catmfs/catmfs.c:343:9: note: in expansion of macro ‘dprintf’
         dprintf("table[%d] end.", cur_table_no);
         ^
In file included from /home/dcat/osdev/w2/fs/catmfs/catmfs.c:8:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/contious_heap.h:8,
                 from /home/dcat/osdev/w2/include/kmalloc.h:9,
                 from /home/dcat/osdev/w2/fs/catmfs/catmfs.c:6:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/fs/catmfs/catmfs.c:343:9: note: in expansion of macro ‘dprintf’
         dprintf("table[%d] end.", cur_table_no);
         ^
In file included from /home/dcat/osdev/w2/fs/catmfs/catmfs.c:8:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
/home/dcat/osdev/w2/fs/catmfs/catmfs.c:346:5: warning: label ‘_err’ defined but not used [-Wunused-label]
     _err:
     ^
/home/dcat/osdev/w2/fs/catmfs/catmfs.c: In function ‘catmfs_create_fstype’:
/home/dcat/osdev/w2/fs/catmfs/catmfs.c:368:12: warning: passing argument 1 of ‘memset’ from incompatible pointer type
     memset(&catmfs, 0, sizeof(fs_t));
            ^
In file included from /home/dcat/osdev/w2/include/contious_heap.h:8:0,
                 from /home/dcat/osdev/w2/include/kmalloc.h:9,
                 from /home/dcat/osdev/w2/fs/catmfs/catmfs.c:6:
/home/dcat/osdev/w2/include/system.h:76:23: note: expected ‘unsigned char *’ but argument is of type ‘struct fs_t *’
 extern unsigned char *memset(unsigned char *dest, unsigned char val, int count);
                       ^
/home/dcat/osdev/w2/fs/catmfs/catmfs.c:371:20: warning: assignment from incompatible pointer type
     catmfs.readdir = catmfs_fs_node_readdir;
                    ^
/home/dcat/osdev/w2/fs/catmfs/catmfs.c:373:20: warning: assignment from incompatible pointer type
     catmfs.finddir = catmfs_fs_node_finddir;
                    ^
/home/dcat/osdev/w2/fs/catmfs/catmfs.c:374:17: warning: assignment from incompatible pointer type
     catmfs.read = catmfs_fs_node_read;
                 ^
/home/dcat/osdev/w2/fs/catmfs/catmfs.c:375:18: warning: assignment from incompatible pointer type
     catmfs.write = catmfs_fs_node_write;
                  ^
In file included from /home/dcat/osdev/w2/include/contious_heap.h:8:0,
                 from /home/dcat/osdev/w2/include/kmalloc.h:9,
                 from /home/dcat/osdev/w2/fs/catmfs/catmfs.c:6:
/home/dcat/osdev/w2/fs/catmfs/catmfs.c: At top level:
/home/dcat/osdev/w2/include/system.h:82:27: warning: inline function ‘itoa’ declared but never defined
 extern inline const char *itoa(int i, char result[]);
                           ^
/home/dcat/osdev/w2/include/system.h:82:27: warning: inline function ‘itoa’ declared but never defined
/home/dcat/osdev/w2/fs/catmfs/catmfs.c: In function ‘catmfs_get_fs_node’:
/home/dcat/osdev/w2/fs/catmfs/catmfs.c:146:1: warning: control reaches end of non-void function [-Wreturn-type]
 }
 ^
In file included from /home/dcat/osdev/w2/fs/catmfs/include/catrfmt.h:10:0,
                 from /home/dcat/osdev/w2/fs/catmfs/catrfmt.c:5:
/home/dcat/osdev/w2/include/fs_node.h:19:39: warning: ‘struct fs_node’ declared inside parameter list
 typedef int32_t (*read_type_t)(struct fs_node *, __fs_special_t *fsp, uint32_t, uint32_t, uint8_t *);
                                       ^
/home/dcat/osdev/w2/include/fs_node.h:19:39: warning: its scope is only this definition or declaration, which is probably not what you want
/home/dcat/osdev/w2/include/fs_node.h:21:40: warning: ‘struct fs_node’ declared inside parameter list
 typedef int32_t (*write_type_t)(struct fs_node *, __fs_special_t *fsp, uint32_t, uint32_t, uint8_t *);
                                        ^
/home/dcat/osdev/w2/include/fs_node.h:23:36: warning: ‘struct fs_node’ declared inside parameter list
 typedef void (*open_type_t)(struct fs_node *, __fs_special_t *fsp);
                                    ^
/home/dcat/osdev/w2/include/fs_node.h:25:37: warning: ‘struct fs_node’ declared inside parameter list
 typedef void (*close_type_t)(struct fs_node *, __fs_special_t *fsp);
                                     ^
/home/dcat/osdev/w2/include/fs_node.h:28:101: warning: ‘struct dirent’ declared inside parameter list
 typedef int32_t (*readdir_type_t)(struct fs_node *node, __fs_special_t *fsp, uint32_t count, struct dirent *result);
                                                                                                     ^
/home/dcat/osdev/w2/include/fs_node.h:28:101: warning: ‘struct fs_node’ declared inside parameter list
/home/dcat/osdev/w2/include/fs_node.h:30:95: warning: ‘struct fs_node’ declared inside parameter list
 typedef int (*finddir_type_t)(struct fs_node *, __fs_special_t *fsp, const char *name, struct fs_node *result_out);
                                                                                               ^
In file included from /home/dcat/osdev/w2/fs/catmfs/include/catrfmt.h:8:0,
                 from /home/dcat/osdev/w2/fs/catmfs/catrfmt.c:5:
/home/dcat/osdev/w2/fs/catmfs/catrfmt.c: In function ‘catrfmt_init’:
/home/dcat/osdev/w2/include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/fs/catmfs/catrfmt.c:22:5: note: in expansion of macro ‘dprintf’
     dprintf("[CATRFMT]size:%x table_count:%x", fs->header->length, fs->header->obj_table_count);
     ^
In file included from /home/dcat/osdev/w2/fs/catmfs/catrfmt.c:6:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/fs/catmfs/include/catrfmt.h:8,
                 from /home/dcat/osdev/w2/fs/catmfs/catrfmt.c:5:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/fs/catmfs/catrfmt.c:22:5: note: in expansion of macro ‘dprintf’
     dprintf("[CATRFMT]size:%x table_count:%x", fs->header->length, fs->header->obj_table_count);
     ^
In file included from /home/dcat/osdev/w2/fs/catmfs/catrfmt.c:6:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/fs/catmfs/include/catrfmt.h:8:0,
                 from /home/dcat/osdev/w2/fs/catmfs/catrfmt.c:5:
/home/dcat/osdev/w2/fs/catmfs/catrfmt.c: In function ‘catrfmt_read_inner’:
/home/dcat/osdev/w2/include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/fs/catmfs/catrfmt.c:40:5: note: in expansion of macro ‘dprintf’
     dprintf("Reading %s data:%x offset:%x", fs_obj->name, fs->data_addr, saddr);
     ^
In file included from /home/dcat/osdev/w2/fs/catmfs/catrfmt.c:6:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/fs/catmfs/include/catrfmt.h:8,
                 from /home/dcat/osdev/w2/fs/catmfs/catrfmt.c:5:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/fs/catmfs/catrfmt.c:40:5: note: in expansion of macro ‘dprintf’
     dprintf("Reading %s data:%x offset:%x", fs_obj->name, fs->data_addr, saddr);
     ^
In file included from /home/dcat/osdev/w2/fs/catmfs/catrfmt.c:6:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
/home/dcat/osdev/w2/fs/catmfs/catrfmt.c:44:40: warning: passing argument 2 of ‘memcpy’ makes pointer from integer without a cast
         return (uint32_t) memcpy(buff, saddr, fs_obj->length - offset);
                                        ^
In file included from /home/dcat/osdev/w2/fs/catmfs/include/catrfmt.h:8:0,
                 from /home/dcat/osdev/w2/fs/catmfs/catrfmt.c:5:
/home/dcat/osdev/w2/include/system.h:72:23: note: expected ‘const unsigned char *’ but argument is of type ‘uint32_t’
 extern unsigned char *memcpy(unsigned char *dest, const unsigned char *src, int count);
                       ^
/home/dcat/osdev/w2/fs/catmfs/catrfmt.c:46:40: warning: passing argument 2 of ‘memcpy’ makes pointer from integer without a cast
         return (uint32_t) memcpy(buff, saddr, size);
                                        ^
In file included from /home/dcat/osdev/w2/fs/catmfs/include/catrfmt.h:8:0,
                 from /home/dcat/osdev/w2/fs/catmfs/catrfmt.c:5:
/home/dcat/osdev/w2/include/system.h:72:23: note: expected ‘const unsigned char *’ but argument is of type ‘uint32_t’
 extern unsigned char *memcpy(unsigned char *dest, const unsigned char *src, int count);
                       ^
/home/dcat/osdev/w2/fs/catmfs/catrfmt.c: In function ‘catrfmt_create_fs_node’:
/home/dcat/osdev/w2/fs/catmfs/catrfmt.c:59:12: warning: passing argument 1 of ‘memset’ from incompatible pointer type
     memset(node, 0, sizeof(fs_node_t));
            ^
In file included from /home/dcat/osdev/w2/fs/catmfs/include/catrfmt.h:8:0,
                 from /home/dcat/osdev/w2/fs/catmfs/catrfmt.c:5:
/home/dcat/osdev/w2/include/system.h:76:23: note: expected ‘unsigned char *’ but argument is of type ‘struct fs_node_t *’
 extern unsigned char *memset(unsigned char *dest, unsigned char val, int count);
                       ^
/home/dcat/osdev/w2/fs/catmfs/catrfmt.c:60:12: warning: pointer targets in passing argument 1 of ‘memcpy’ differ in signedness [-Wpointer-sign]
     memcpy(node->name, fs_obj->name, 256);
            ^
In file included from /home/dcat/osdev/w2/fs/catmfs/include/catrfmt.h:8:0,
                 from /home/dcat/osdev/w2/fs/catmfs/catrfmt.c:5:
/home/dcat/osdev/w2/include/system.h:72:23: note: expected ‘unsigned char *’ but argument is of type ‘char *’
 extern unsigned char *memcpy(unsigned char *dest, const unsigned char *src, int count);
                       ^
/home/dcat/osdev/w2/fs/catmfs/catrfmt.c:60:24: warning: pointer targets in passing argument 2 of ‘memcpy’ differ in signedness [-Wpointer-sign]
     memcpy(node->name, fs_obj->name, 256);
                        ^
In file included from /home/dcat/osdev/w2/fs/catmfs/include/catrfmt.h:8:0,
                 from /home/dcat/osdev/w2/fs/catmfs/catrfmt.c:5:
/home/dcat/osdev/w2/include/system.h:72:23: note: expected ‘const unsigned char *’ but argument is of type ‘char *’
 extern unsigned char *memcpy(unsigned char *dest, const unsigned char *src, int count);
                       ^
/home/dcat/osdev/w2/fs/catmfs/catrfmt.c: In function ‘catrfmt_findbyname’:
/home/dcat/osdev/w2/fs/catmfs/catrfmt.c:72:55: warning: passing argument 1 of ‘catrfmt_create_fs_node’ from incompatible pointer type
                 *fs_node_out = catrfmt_create_fs_node(table->objects[x].name);
                                                       ^
/home/dcat/osdev/w2/fs/catmfs/catrfmt.c:54:12: note: expected ‘struct catrfmt_obj_t *’ but argument is of type ‘char *’
 fs_node_t *catrfmt_create_fs_node(catrfmt_obj_t *fs_obj) {
            ^
In file included from /home/dcat/osdev/w2/fs/catmfs/include/catrfmt.h:8:0,
                 from /home/dcat/osdev/w2/fs/catmfs/catrfmt.c:5:
/home/dcat/osdev/w2/fs/catmfs/catrfmt.c: In function ‘catrfmt_dumpfilelist’:
/home/dcat/osdev/w2/include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/fs/catmfs/catrfmt.c:91:9: note: in expansion of macro ‘dprintf’
         dprintf("table[%d]", cur_table_no);
         ^
In file included from /home/dcat/osdev/w2/fs/catmfs/catrfmt.c:6:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/fs/catmfs/include/catrfmt.h:8,
                 from /home/dcat/osdev/w2/fs/catmfs/catrfmt.c:5:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/fs/catmfs/catrfmt.c:91:9: note: in expansion of macro ‘dprintf’
         dprintf("table[%d]", cur_table_no);
         ^
In file included from /home/dcat/osdev/w2/fs/catmfs/catrfmt.c:6:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/fs/catmfs/include/catrfmt.h:8:0,
                 from /home/dcat/osdev/w2/fs/catmfs/catrfmt.c:5:
/home/dcat/osdev/w2/include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/fs/catmfs/catrfmt.c:95:13: note: in expansion of macro ‘dprintf’
             dprintf("[*]file:%s len:%d offset:%d", obj->name, obj->length, obj->offset);
             ^
In file included from /home/dcat/osdev/w2/fs/catmfs/catrfmt.c:6:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/fs/catmfs/include/catrfmt.h:8,
                 from /home/dcat/osdev/w2/fs/catmfs/catrfmt.c:5:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/fs/catmfs/catrfmt.c:95:13: note: in expansion of macro ‘dprintf’
             dprintf("[*]file:%s len:%d offset:%d", obj->name, obj->length, obj->offset);
             ^
In file included from /home/dcat/osdev/w2/fs/catmfs/catrfmt.c:6:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/fs/catmfs/include/catrfmt.h:8:0,
                 from /home/dcat/osdev/w2/fs/catmfs/catrfmt.c:5:
/home/dcat/osdev/w2/include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/fs/catmfs/catrfmt.c:97:9: note: in expansion of macro ‘dprintf’
         dprintf("table[%d] end.", cur_table_no);
         ^
In file included from /home/dcat/osdev/w2/fs/catmfs/catrfmt.c:6:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/fs/catmfs/include/catrfmt.h:8,
                 from /home/dcat/osdev/w2/fs/catmfs/catrfmt.c:5:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/fs/catmfs/catrfmt.c:97:9: note: in expansion of macro ‘dprintf’
         dprintf("table[%d] end.", cur_table_no);
         ^
In file included from /home/dcat/osdev/w2/fs/catmfs/catrfmt.c:6:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/fs/catmfs/include/catrfmt.h:8:0,
                 from /home/dcat/osdev/w2/fs/catmfs/catrfmt.c:5:
/home/dcat/osdev/w2/fs/catmfs/catrfmt.c: At top level:
/home/dcat/osdev/w2/include/system.h:82:27: warning: inline function ‘itoa’ declared but never defined
 extern inline const char *itoa(int i, char result[]);
                           ^
/home/dcat/osdev/w2/include/system.h:82:27: warning: inline function ‘itoa’ declared but never defined
In file included from /home/dcat/osdev/w2/include/str.h:9:0,
                 from /home/dcat/osdev/w2/dev/blk_dev.c:5:
/home/dcat/osdev/w2/dev/blk_dev.c: In function ‘disk1_ata_section_read’:
/home/dcat/osdev/w2/include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/dev/blk_dev.c:26:9: note: in expansion of macro ‘dprintf’
         dprintf("copy %x to %x size %x", buff + (blk_count) * SECTION_SIZE, buff, len % SECTION_SIZE);
         ^
In file included from /home/dcat/osdev/w2/dev/blk_dev.c:5:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/str.h:9,
                 from /home/dcat/osdev/w2/dev/blk_dev.c:5:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/dev/blk_dev.c:26:9: note: in expansion of macro ‘dprintf’
         dprintf("copy %x to %x size %x", buff + (blk_count) * SECTION_SIZE, buff, len % SECTION_SIZE);
         ^
In file included from /home/dcat/osdev/w2/dev/blk_dev.c:5:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/str.h:9:0,
                 from /home/dcat/osdev/w2/dev/blk_dev.c:5:
/home/dcat/osdev/w2/dev/blk_dev.c: At top level:
/home/dcat/osdev/w2/include/system.h:82:27: warning: inline function ‘itoa’ declared but never defined
 extern inline const char *itoa(int i, char result[]);
                           ^
/home/dcat/osdev/w2/include/system.h:82:27: warning: inline function ‘itoa’ declared but never defined
In file included from /home/dcat/osdev/w2/dev/blk_dev.c:6:0:
/home/dcat/osdev/w2/dev/include/ide.h:15:20: warning: ‘outl’ declared ‘static’ but never defined [-Wunused-function]
 static inline void outl(uint32_t value, uint16_t port);
                    ^
/home/dcat/osdev/w2/dev/include/ide.h:17:24: warning: ‘inl’ declared ‘static’ but never defined [-Wunused-function]
 static inline uint32_t inl(uint16_t port);
                        ^
/home/dcat/osdev/w2/dev/ide.c: In function ‘ide_read_buffer’:
/home/dcat/osdev/w2/dev/ide.c:75:51: warning: passing argument 2 of ‘insl’ makes pointer from integer without a cast
         insl(channels[channel].base + reg - 0x00, buffer, quads);
                                                   ^
/home/dcat/osdev/w2/dev/ide.c:57:20: note: expected ‘void *’ but argument is of type ‘unsigned int’
 static inline void insl(uint16_t port, void *addr, unsigned long count) {
                    ^
/home/dcat/osdev/w2/dev/ide.c:77:51: warning: passing argument 2 of ‘insl’ makes pointer from integer without a cast
         insl(channels[channel].base + reg - 0x06, buffer, quads);
                                                   ^
/home/dcat/osdev/w2/dev/ide.c:57:20: note: expected ‘void *’ but argument is of type ‘unsigned int’
 static inline void insl(uint16_t port, void *addr, unsigned long count) {
                    ^
/home/dcat/osdev/w2/dev/ide.c:79:51: warning: passing argument 2 of ‘insl’ makes pointer from integer without a cast
         insl(channels[channel].ctrl + reg - 0x0A, buffer, quads);
                                                   ^
/home/dcat/osdev/w2/dev/ide.c:57:20: note: expected ‘void *’ but argument is of type ‘unsigned int’
 static inline void insl(uint16_t port, void *addr, unsigned long count) {
                    ^
/home/dcat/osdev/w2/dev/ide.c:81:52: warning: passing argument 2 of ‘insl’ makes pointer from integer without a cast
         insl(channels[channel].bmide + reg - 0x0E, buffer, quads);
                                                    ^
/home/dcat/osdev/w2/dev/ide.c:57:20: note: expected ‘void *’ but argument is of type ‘unsigned int’
 static inline void insl(uint16_t port, void *addr, unsigned long count) {
                    ^
In file included from /home/dcat/osdev/w2/dev/include/ide.h:8:0,
                 from /home/dcat/osdev/w2/dev/ide.c:5:
/home/dcat/osdev/w2/dev/ide.c: In function ‘ide_initialize’:
/home/dcat/osdev/w2/dev/include/../../include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/dev/ide.c:270:13: note: in expansion of macro ‘dprintf’
             dprintf("[%d]Drive %s size:%x channel:%x model:%s",
             ^
In file included from /home/dcat/osdev/w2/dev/ide.c:6:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/dev/include/../../include/system.h:7:0,
                 from /home/dcat/osdev/w2/dev/include/ide.h:8,
                 from /home/dcat/osdev/w2/dev/ide.c:5:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/dev/include/../../include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/dev/ide.c:270:13: note: in expansion of macro ‘dprintf’
             dprintf("[%d]Drive %s size:%x channel:%x model:%s",
             ^
In file included from /home/dcat/osdev/w2/dev/ide.c:6:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/dev/include/ide.h:8:0,
                 from /home/dcat/osdev/w2/dev/ide.c:5:
/home/dcat/osdev/w2/dev/ide.c: At top level:
/home/dcat/osdev/w2/dev/include/../../include/system.h:82:27: warning: inline function ‘itoa’ declared but never defined
 extern inline const char *itoa(int i, char result[]);
                           ^
/home/dcat/osdev/w2/dev/include/../../include/system.h:82:27: warning: inline function ‘itoa’ declared but never defined
/home/dcat/osdev/w2/dev/ide.c:13:22: warning: ‘atapi_packet’ defined but not used [-Wunused-variable]
 unsigned static char atapi_packet[12] = {0xA8, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0};
                      ^
/home/dcat/osdev/w2/dev/ide.c: In function ‘ide_read’:
/home/dcat/osdev/w2/dev/ide.c:54:5: warning: ‘result’ may be used uninitialized in this function [-Wmaybe-uninitialized]
     return result;
     ^
In file included from /home/dcat/osdev/w2/dev/include/serial.h:9:0,
                 from /home/dcat/osdev/w2/dev/serial.c:6:
/home/dcat/osdev/w2/include/system.h:82:27: warning: inline function ‘itoa’ declared but never defined
 extern inline const char *itoa(int i, char result[]);
                           ^
/home/dcat/osdev/w2/include/system.h:82:27: warning: inline function ‘itoa’ declared but never defined
In file included from /home/dcat/osdev/w2/fs/vfs/include/vfs.h:9:0,
                 from /home/dcat/osdev/w2/proc/elf/elfloader.c:5:
/home/dcat/osdev/w2/include/fs_node.h:19:39: warning: ‘struct fs_node’ declared inside parameter list
 typedef int32_t (*read_type_t)(struct fs_node *, __fs_special_t *fsp, uint32_t, uint32_t, uint8_t *);
                                       ^
/home/dcat/osdev/w2/include/fs_node.h:19:39: warning: its scope is only this definition or declaration, which is probably not what you want
/home/dcat/osdev/w2/include/fs_node.h:21:40: warning: ‘struct fs_node’ declared inside parameter list
 typedef int32_t (*write_type_t)(struct fs_node *, __fs_special_t *fsp, uint32_t, uint32_t, uint8_t *);
                                        ^
/home/dcat/osdev/w2/include/fs_node.h:23:36: warning: ‘struct fs_node’ declared inside parameter list
 typedef void (*open_type_t)(struct fs_node *, __fs_special_t *fsp);
                                    ^
/home/dcat/osdev/w2/include/fs_node.h:25:37: warning: ‘struct fs_node’ declared inside parameter list
 typedef void (*close_type_t)(struct fs_node *, __fs_special_t *fsp);
                                     ^
/home/dcat/osdev/w2/include/fs_node.h:28:101: warning: ‘struct dirent’ declared inside parameter list
 typedef int32_t (*readdir_type_t)(struct fs_node *node, __fs_special_t *fsp, uint32_t count, struct dirent *result);
                                                                                                     ^
/home/dcat/osdev/w2/include/fs_node.h:28:101: warning: ‘struct fs_node’ declared inside parameter list
/home/dcat/osdev/w2/include/fs_node.h:30:95: warning: ‘struct fs_node’ declared inside parameter list
 typedef int (*finddir_type_t)(struct fs_node *, __fs_special_t *fsp, const char *name, struct fs_node *result_out);
                                                                                               ^
In file included from /home/dcat/osdev/w2/fs/vfs/include/vfs.h:8:0,
                 from /home/dcat/osdev/w2/proc/elf/elfloader.c:5:
/home/dcat/osdev/w2/proc/elf/elfloader.c: In function ‘elf_load’:
/home/dcat/osdev/w2/include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/proc/elf/elfloader.c:16:5: note: in expansion of macro ‘dprintf’
     dprintf("try to load elf pid:%x fd:%x", pid, fd);
     ^
In file included from /home/dcat/osdev/w2/proc/elf/elfloader.c:8:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/fs/vfs/include/vfs.h:8,
                 from /home/dcat/osdev/w2/proc/elf/elfloader.c:5:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/proc/elf/elfloader.c:16:5: note: in expansion of macro ‘dprintf’
     dprintf("try to load elf pid:%x fd:%x", pid, fd);
     ^
In file included from /home/dcat/osdev/w2/proc/elf/elfloader.c:8:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
/home/dcat/osdev/w2/proc/elf/elfloader.c:19:49: warning: passing argument 5 of ‘kread’ from incompatible pointer type
     if (kread(pid, fd, 0, sizeof(elf_header_t), &ehdr) != sizeof(elf_header_t)) {
                                                 ^
In file included from /home/dcat/osdev/w2/proc/elf/elfloader.c:5:0:
/home/dcat/osdev/w2/fs/vfs/include/vfs.h:87:9: note: expected ‘uchar_t *’ but argument is of type ‘struct elf_header_t *’
 int32_t kread(uint32_t pid, int8_t fd, uint32_t offset, int32_t size, uchar_t *buff);
         ^
In file included from /home/dcat/osdev/w2/fs/vfs/include/vfs.h:8:0,
                 from /home/dcat/osdev/w2/proc/elf/elfloader.c:5:
/home/dcat/osdev/w2/include/system.h:97:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/proc/elf/elfloader.c:20:9: note: in expansion of macro ‘deprintf’
         deprintf("cannot read elf header.");
         ^
In file included from /home/dcat/osdev/w2/proc/elf/elfloader.c:8:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/fs/vfs/include/vfs.h:8,
                 from /home/dcat/osdev/w2/proc/elf/elfloader.c:5:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:97:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/proc/elf/elfloader.c:20:9: note: in expansion of macro ‘deprintf’
         deprintf("cannot read elf header.");
         ^
In file included from /home/dcat/osdev/w2/proc/elf/elfloader.c:8:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/fs/vfs/include/vfs.h:8:0,
                 from /home/dcat/osdev/w2/proc/elf/elfloader.c:5:
/home/dcat/osdev/w2/include/system.h:97:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/proc/elf/elfloader.c:27:9: note: in expansion of macro ‘deprintf’
         deprintf("not a elf file.");
         ^
In file included from /home/dcat/osdev/w2/proc/elf/elfloader.c:8:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/fs/vfs/include/vfs.h:8,
                 from /home/dcat/osdev/w2/proc/elf/elfloader.c:5:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:97:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/proc/elf/elfloader.c:27:9: note: in expansion of macro ‘deprintf’
         deprintf("not a elf file.");
         ^
In file included from /home/dcat/osdev/w2/proc/elf/elfloader.c:8:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/fs/vfs/include/vfs.h:8:0,
                 from /home/dcat/osdev/w2/proc/elf/elfloader.c:5:
/home/dcat/osdev/w2/include/system.h:97:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/proc/elf/elfloader.c:31:9: note: in expansion of macro ‘deprintf’
         deprintf("Unsupported ELF type:machine[%x]", ehdr.e_machine);
         ^
In file included from /home/dcat/osdev/w2/proc/elf/elfloader.c:8:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/fs/vfs/include/vfs.h:8,
                 from /home/dcat/osdev/w2/proc/elf/elfloader.c:5:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:97:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/proc/elf/elfloader.c:31:9: note: in expansion of macro ‘deprintf’
         deprintf("Unsupported ELF type:machine[%x]", ehdr.e_machine);
         ^
In file included from /home/dcat/osdev/w2/proc/elf/elfloader.c:8:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
/home/dcat/osdev/w2/proc/elf/elfloader.c:37:48: warning: passing argument 5 of ‘kread’ from incompatible pointer type
     if (kread(pid, fd, ehdr.e_shoff, shdrsize, shdr) != shdrsize) {
                                                ^
In file included from /home/dcat/osdev/w2/proc/elf/elfloader.c:5:0:
/home/dcat/osdev/w2/fs/vfs/include/vfs.h:87:9: note: expected ‘uchar_t *’ but argument is of type ‘struct elf_section_t *’
 int32_t kread(uint32_t pid, int8_t fd, uint32_t offset, int32_t size, uchar_t *buff);
         ^
In file included from /home/dcat/osdev/w2/fs/vfs/include/vfs.h:8:0,
                 from /home/dcat/osdev/w2/proc/elf/elfloader.c:5:
/home/dcat/osdev/w2/include/system.h:97:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/proc/elf/elfloader.c:38:9: note: in expansion of macro ‘deprintf’
         deprintf("cannot read section info.");
         ^
In file included from /home/dcat/osdev/w2/proc/elf/elfloader.c:8:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/fs/vfs/include/vfs.h:8,
                 from /home/dcat/osdev/w2/proc/elf/elfloader.c:5:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:97:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/proc/elf/elfloader.c:38:9: note: in expansion of macro ‘deprintf’
         deprintf("cannot read section info.");
         ^
In file included from /home/dcat/osdev/w2/proc/elf/elfloader.c:8:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/fs/vfs/include/vfs.h:8:0,
                 from /home/dcat/osdev/w2/proc/elf/elfloader.c:5:
/home/dcat/osdev/w2/include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/proc/elf/elfloader.c:42:9: note: in expansion of macro ‘dprintf’
         dprintf("Section %x addr:%x size:%x offset:%x", x, shdr->sh_addr, shdr->sh_size, shdr->sh_offset);
         ^
In file included from /home/dcat/osdev/w2/proc/elf/elfloader.c:8:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/fs/vfs/include/vfs.h:8,
                 from /home/dcat/osdev/w2/proc/elf/elfloader.c:5:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/proc/elf/elfloader.c:42:9: note: in expansion of macro ‘dprintf’
         dprintf("Section %x addr:%x size:%x offset:%x", x, shdr->sh_addr, shdr->sh_size, shdr->sh_offset);
         ^
In file included from /home/dcat/osdev/w2/proc/elf/elfloader.c:8:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
/home/dcat/osdev/w2/proc/elf/elfloader.c:48:24: warning: passing argument 1 of ‘memset’ makes pointer from integer without a cast
                 memset(shdr->sh_addr, 0, shdr->sh_size);
                        ^
In file included from /home/dcat/osdev/w2/fs/vfs/include/vfs.h:8:0,
                 from /home/dcat/osdev/w2/proc/elf/elfloader.c:5:
/home/dcat/osdev/w2/include/system.h:76:23: note: expected ‘unsigned char *’ but argument is of type ‘uint32_t’
 extern unsigned char *memset(unsigned char *dest, unsigned char val, int count);
                       ^
/home/dcat/osdev/w2/include/system.h:97:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/proc/elf/elfloader.c:52:21: note: in expansion of macro ‘deprintf’
                     deprintf("cannot read section:%x", x);
                     ^
In file included from /home/dcat/osdev/w2/proc/elf/elfloader.c:8:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/fs/vfs/include/vfs.h:8,
                 from /home/dcat/osdev/w2/proc/elf/elfloader.c:5:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:97:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/proc/elf/elfloader.c:52:21: note: in expansion of macro ‘deprintf’
                     deprintf("cannot read section:%x", x);
                     ^
In file included from /home/dcat/osdev/w2/proc/elf/elfloader.c:8:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
/home/dcat/osdev/w2/proc/elf/elfloader.c:55:24: warning: passing argument 1 of ‘memcpy’ makes pointer from integer without a cast
                 memcpy(shdr->sh_addr, sec, shdr->sh_size);
                        ^
In file included from /home/dcat/osdev/w2/fs/vfs/include/vfs.h:8:0,
                 from /home/dcat/osdev/w2/proc/elf/elfloader.c:5:
/home/dcat/osdev/w2/include/system.h:72:23: note: expected ‘unsigned char *’ but argument is of type ‘uint32_t’
 extern unsigned char *memcpy(unsigned char *dest, const unsigned char *src, int count);
                       ^
/home/dcat/osdev/w2/include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/proc/elf/elfloader.c:61:5: note: in expansion of macro ‘dprintf’
     dprintf("elf entry point:%x", ehdr.e_entry);
     ^
In file included from /home/dcat/osdev/w2/proc/elf/elfloader.c:8:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/fs/vfs/include/vfs.h:8,
                 from /home/dcat/osdev/w2/proc/elf/elfloader.c:5:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/proc/elf/elfloader.c:61:5: note: in expansion of macro ‘dprintf’
     dprintf("elf entry point:%x", ehdr.e_entry);
     ^
In file included from /home/dcat/osdev/w2/proc/elf/elfloader.c:8:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/fs/vfs/include/vfs.h:8:0,
                 from /home/dcat/osdev/w2/proc/elf/elfloader.c:5:
/home/dcat/osdev/w2/include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/proc/elf/elfloader.c:64:5: note: in expansion of macro ‘dprintf’
     dprintf("elf load done.");
     ^
In file included from /home/dcat/osdev/w2/proc/elf/elfloader.c:8:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/fs/vfs/include/vfs.h:8,
                 from /home/dcat/osdev/w2/proc/elf/elfloader.c:5:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/proc/elf/elfloader.c:64:5: note: in expansion of macro ‘dprintf’
     dprintf("elf load done.");
     ^
In file included from /home/dcat/osdev/w2/proc/elf/elfloader.c:8:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
/home/dcat/osdev/w2/proc/elf/elfloader.c:66:15: warning: passing argument 1 of ‘kfree’ makes pointer from integer without a cast
         kfree(shdr_ptr);
               ^
In file included from /home/dcat/osdev/w2/proc/elf/elfloader.c:6:0:
/home/dcat/osdev/w2/include/kmalloc.h:19:6: note: expected ‘void *’ but argument is of type ‘uint32_t’
 void kfree(void *ptr);
      ^
/home/dcat/osdev/w2/proc/elf/elfloader.c:70:15: warning: passing argument 1 of ‘kfree’ makes pointer from integer without a cast
         kfree(shdr_ptr);
               ^
In file included from /home/dcat/osdev/w2/proc/elf/elfloader.c:6:0:
/home/dcat/osdev/w2/include/kmalloc.h:19:6: note: expected ‘void *’ but argument is of type ‘uint32_t’
 void kfree(void *ptr);
      ^
In file included from /home/dcat/osdev/w2/fs/vfs/include/vfs.h:8:0,
                 from /home/dcat/osdev/w2/proc/elf/elfloader.c:5:
/home/dcat/osdev/w2/include/system.h:97:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/proc/elf/elfloader.c:71:5: note: in expansion of macro ‘deprintf’
     deprintf("error happened during elf loading..");
     ^
In file included from /home/dcat/osdev/w2/proc/elf/elfloader.c:8:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/fs/vfs/include/vfs.h:8,
                 from /home/dcat/osdev/w2/proc/elf/elfloader.c:5:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:97:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/proc/elf/elfloader.c:71:5: note: in expansion of macro ‘deprintf’
     deprintf("error happened during elf loading..");
     ^
In file included from /home/dcat/osdev/w2/proc/elf/elfloader.c:8:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
/home/dcat/osdev/w2/proc/elf/elfloader.c: In function ‘elf_test’:
/home/dcat/osdev/w2/proc/elf/elfloader.c:77:17: warning: unused variable ‘catmfs’ [-Wunused-variable]
     extern fs_t catmfs;
                 ^
In file included from /home/dcat/osdev/w2/fs/vfs/include/vfs.h:8:0,
                 from /home/dcat/osdev/w2/proc/elf/elfloader.c:5:
/home/dcat/osdev/w2/proc/elf/elfloader.c: At top level:
/home/dcat/osdev/w2/include/system.h:82:27: warning: inline function ‘itoa’ declared but never defined
 extern inline const char *itoa(int i, char result[]);
                           ^
/home/dcat/osdev/w2/include/system.h:82:27: warning: inline function ‘itoa’ declared but never defined
/home/dcat/osdev/w2/proc/elf/elfloader.c: In function ‘elf_load’:
/home/dcat/osdev/w2/proc/elf/elfloader.c:70:9: warning: ‘shdr_ptr’ may be used uninitialized in this function [-Wmaybe-uninitialized]
         kfree(shdr_ptr);
         ^
/home/dcat/osdev/w2/proc/elf/elfloader.c: Assembler messages:
/home/dcat/osdev/w2/proc/elf/elfloader.c:86: Warning: indirect jmp without `*'
In file included from /home/dcat/osdev/w2/fs/vfs/include/vfs.h:9:0,
                 from /home/dcat/osdev/w2/proc/elf/include/proc.h:11,
                 from /home/dcat/osdev/w2/proc/exec.c:5:
/home/dcat/osdev/w2/include/fs_node.h:19:39: warning: ‘struct fs_node’ declared inside parameter list
 typedef int32_t (*read_type_t)(struct fs_node *, __fs_special_t *fsp, uint32_t, uint32_t, uint8_t *);
                                       ^
/home/dcat/osdev/w2/include/fs_node.h:19:39: warning: its scope is only this definition or declaration, which is probably not what you want
/home/dcat/osdev/w2/include/fs_node.h:21:40: warning: ‘struct fs_node’ declared inside parameter list
 typedef int32_t (*write_type_t)(struct fs_node *, __fs_special_t *fsp, uint32_t, uint32_t, uint8_t *);
                                        ^
/home/dcat/osdev/w2/include/fs_node.h:23:36: warning: ‘struct fs_node’ declared inside parameter list
 typedef void (*open_type_t)(struct fs_node *, __fs_special_t *fsp);
                                    ^
/home/dcat/osdev/w2/include/fs_node.h:25:37: warning: ‘struct fs_node’ declared inside parameter list
 typedef void (*close_type_t)(struct fs_node *, __fs_special_t *fsp);
                                     ^
/home/dcat/osdev/w2/include/fs_node.h:28:101: warning: ‘struct dirent’ declared inside parameter list
 typedef int32_t (*readdir_type_t)(struct fs_node *node, __fs_special_t *fsp, uint32_t count, struct dirent *result);
                                                                                                     ^
/home/dcat/osdev/w2/include/fs_node.h:28:101: warning: ‘struct fs_node’ declared inside parameter list
/home/dcat/osdev/w2/include/fs_node.h:30:95: warning: ‘struct fs_node’ declared inside parameter list
 typedef int (*finddir_type_t)(struct fs_node *, __fs_special_t *fsp, const char *name, struct fs_node *result_out);
                                                                                               ^
In file included from /home/dcat/osdev/w2/proc/elf/include/../../../include/page.h:8:0,
                 from /home/dcat/osdev/w2/proc/elf/include/proc.h:9,
                 from /home/dcat/osdev/w2/proc/exec.c:5:
/home/dcat/osdev/w2/proc/exec.c: In function ‘kexec’:
/home/dcat/osdev/w2/proc/elf/include/../../../include/system.h:97:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/proc/exec.c:13:9: note: in expansion of macro ‘deprintf’
         deprintf("process %x not exist.", pid);
         ^
In file included from /home/dcat/osdev/w2/proc/exec.c:6:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/proc/elf/include/../../../include/system.h:7:0,
                 from /home/dcat/osdev/w2/proc/elf/include/../../../include/page.h:8,
                 from /home/dcat/osdev/w2/proc/elf/include/proc.h:9,
                 from /home/dcat/osdev/w2/proc/exec.c:5:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/proc/elf/include/../../../include/system.h:97:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/proc/exec.c:13:9: note: in expansion of macro ‘deprintf’
         deprintf("process %x not exist.", pid);
         ^
In file included from /home/dcat/osdev/w2/proc/exec.c:6:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/proc/elf/include/../../../include/page.h:8:0,
                 from /home/dcat/osdev/w2/proc/elf/include/proc.h:9,
                 from /home/dcat/osdev/w2/proc/exec.c:5:
/home/dcat/osdev/w2/proc/elf/include/../../../include/system.h:97:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/proc/exec.c:18:9: note: in expansion of macro ‘deprintf’
         deprintf("cannot open elf:%s", path);
         ^
In file included from /home/dcat/osdev/w2/proc/exec.c:6:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/proc/elf/include/../../../include/system.h:7:0,
                 from /home/dcat/osdev/w2/proc/elf/include/../../../include/page.h:8,
                 from /home/dcat/osdev/w2/proc/elf/include/proc.h:9,
                 from /home/dcat/osdev/w2/proc/exec.c:5:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/proc/elf/include/../../../include/system.h:97:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/proc/exec.c:18:9: note: in expansion of macro ‘deprintf’
         deprintf("cannot open elf:%s", path);
         ^
In file included from /home/dcat/osdev/w2/proc/exec.c:6:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/proc/elf/include/../../../include/page.h:8:0,
                 from /home/dcat/osdev/w2/proc/elf/include/proc.h:9,
                 from /home/dcat/osdev/w2/proc/exec.c:5:
/home/dcat/osdev/w2/proc/elf/include/../../../include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/proc/exec.c:23:9: note: in expansion of macro ‘dprintf’
         dprintf("switch to proc's pd.");
         ^
In file included from /home/dcat/osdev/w2/proc/exec.c:6:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/proc/elf/include/../../../include/system.h:7:0,
                 from /home/dcat/osdev/w2/proc/elf/include/../../../include/page.h:8,
                 from /home/dcat/osdev/w2/proc/elf/include/proc.h:9,
                 from /home/dcat/osdev/w2/proc/exec.c:5:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/proc/elf/include/../../../include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/proc/exec.c:23:9: note: in expansion of macro ‘dprintf’
         dprintf("switch to proc's pd.");
         ^
In file included from /home/dcat/osdev/w2/proc/exec.c:6:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/proc/elf/include/../../../include/page.h:8:0,
                 from /home/dcat/osdev/w2/proc/elf/include/proc.h:9,
                 from /home/dcat/osdev/w2/proc/exec.c:5:
/home/dcat/osdev/w2/proc/elf/include/../../../include/system.h:97:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/proc/exec.c:28:9: note: in expansion of macro ‘deprintf’
         deprintf("error happened during elf load.");
         ^
In file included from /home/dcat/osdev/w2/proc/exec.c:6:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/proc/elf/include/../../../include/system.h:7:0,
                 from /home/dcat/osdev/w2/proc/elf/include/../../../include/page.h:8,
                 from /home/dcat/osdev/w2/proc/elf/include/proc.h:9,
                 from /home/dcat/osdev/w2/proc/exec.c:5:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/proc/elf/include/../../../include/system.h:97:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[ERROR][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/proc/exec.c:28:9: note: in expansion of macro ‘deprintf’
         deprintf("error happened during elf load.");
         ^
In file included from /home/dcat/osdev/w2/proc/exec.c:6:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/proc/elf/include/../../../include/page.h:8:0,
                 from /home/dcat/osdev/w2/proc/elf/include/proc.h:9,
                 from /home/dcat/osdev/w2/proc/exec.c:5:
/home/dcat/osdev/w2/proc/elf/include/../../../include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/proc/exec.c:32:5: note: in expansion of macro ‘dprintf’
     dprintf("elf load done.new PC:%x", eip);
     ^
In file included from /home/dcat/osdev/w2/proc/exec.c:6:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/proc/elf/include/../../../include/system.h:7:0,
                 from /home/dcat/osdev/w2/proc/elf/include/../../../include/page.h:8,
                 from /home/dcat/osdev/w2/proc/elf/include/proc.h:9,
                 from /home/dcat/osdev/w2/proc/exec.c:5:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/proc/elf/include/../../../include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/proc/exec.c:32:5: note: in expansion of macro ‘dprintf’
     dprintf("elf load done.new PC:%x", eip);
     ^
In file included from /home/dcat/osdev/w2/proc/exec.c:6:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/proc/elf/include/../../../include/page.h:8:0,
                 from /home/dcat/osdev/w2/proc/elf/include/proc.h:9,
                 from /home/dcat/osdev/w2/proc/exec.c:5:
/home/dcat/osdev/w2/proc/elf/include/../../../include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/proc/exec.c:39:9: note: in expansion of macro ‘dprintf’
         dprintf("push arg %x to %x", *esp, esp);
         ^
In file included from /home/dcat/osdev/w2/proc/exec.c:6:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/proc/elf/include/../../../include/system.h:7:0,
                 from /home/dcat/osdev/w2/proc/elf/include/../../../include/page.h:8,
                 from /home/dcat/osdev/w2/proc/elf/include/proc.h:9,
                 from /home/dcat/osdev/w2/proc/exec.c:5:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/proc/elf/include/../../../include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/proc/exec.c:39:9: note: in expansion of macro ‘dprintf’
         dprintf("push arg %x to %x", *esp, esp);
         ^
In file included from /home/dcat/osdev/w2/proc/exec.c:6:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/proc/elf/include/../../../include/page.h:8:0,
                 from /home/dcat/osdev/w2/proc/elf/include/proc.h:9,
                 from /home/dcat/osdev/w2/proc/exec.c:5:
/home/dcat/osdev/w2/proc/elf/include/../../../include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/proc/exec.c:46:9: note: in expansion of macro ‘dprintf’
         dprintf("switch back pd/");
         ^
In file included from /home/dcat/osdev/w2/proc/exec.c:6:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/proc/elf/include/../../../include/system.h:7:0,
                 from /home/dcat/osdev/w2/proc/elf/include/../../../include/page.h:8,
                 from /home/dcat/osdev/w2/proc/elf/include/proc.h:9,
                 from /home/dcat/osdev/w2/proc/exec.c:5:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/proc/elf/include/../../../include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/proc/exec.c:46:9: note: in expansion of macro ‘dprintf’
         dprintf("switch back pd/");
         ^
In file included from /home/dcat/osdev/w2/proc/exec.c:6:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/proc/elf/include/../../../include/page.h:8:0,
                 from /home/dcat/osdev/w2/proc/elf/include/proc.h:9,
                 from /home/dcat/osdev/w2/proc/exec.c:5:
/home/dcat/osdev/w2/proc/elf/include/../../../include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/proc/exec.c:49:5: note: in expansion of macro ‘dprintf’
     dprintf("kexec done.");
     ^
In file included from /home/dcat/osdev/w2/proc/exec.c:6:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/proc/elf/include/../../../include/system.h:7:0,
                 from /home/dcat/osdev/w2/proc/elf/include/../../../include/page.h:8,
                 from /home/dcat/osdev/w2/proc/elf/include/proc.h:9,
                 from /home/dcat/osdev/w2/proc/exec.c:5:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/proc/elf/include/../../../include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/proc/exec.c:49:5: note: in expansion of macro ‘dprintf’
     dprintf("kexec done.");
     ^
In file included from /home/dcat/osdev/w2/proc/exec.c:6:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/proc/elf/include/../../../include/page.h:8:0,
                 from /home/dcat/osdev/w2/proc/elf/include/proc.h:9,
                 from /home/dcat/osdev/w2/proc/exec.c:5:
/home/dcat/osdev/w2/proc/exec.c: At top level:
/home/dcat/osdev/w2/proc/elf/include/../../../include/system.h:82:27: warning: inline function ‘itoa’ declared but never defined
 extern inline const char *itoa(int i, char result[]);
                           ^
/home/dcat/osdev/w2/proc/elf/include/../../../include/system.h:82:27: warning: inline function ‘itoa’ declared but never defined
In file included from /home/dcat/osdev/w2/fs/vfs/include/vfs.h:9:0,
                 from /home/dcat/osdev/w2/proc/elf/include/proc.h:11,
                 from /home/dcat/osdev/w2/proc/proc.c:6:
/home/dcat/osdev/w2/include/fs_node.h:19:39: warning: ‘struct fs_node’ declared inside parameter list
 typedef int32_t (*read_type_t)(struct fs_node *, __fs_special_t *fsp, uint32_t, uint32_t, uint8_t *);
                                       ^
/home/dcat/osdev/w2/include/fs_node.h:19:39: warning: its scope is only this definition or declaration, which is probably not what you want
/home/dcat/osdev/w2/include/fs_node.h:21:40: warning: ‘struct fs_node’ declared inside parameter list
 typedef int32_t (*write_type_t)(struct fs_node *, __fs_special_t *fsp, uint32_t, uint32_t, uint8_t *);
                                        ^
/home/dcat/osdev/w2/include/fs_node.h:23:36: warning: ‘struct fs_node’ declared inside parameter list
 typedef void (*open_type_t)(struct fs_node *, __fs_special_t *fsp);
                                    ^
/home/dcat/osdev/w2/include/fs_node.h:25:37: warning: ‘struct fs_node’ declared inside parameter list
 typedef void (*close_type_t)(struct fs_node *, __fs_special_t *fsp);
                                     ^
/home/dcat/osdev/w2/include/fs_node.h:28:101: warning: ‘struct dirent’ declared inside parameter list
 typedef int32_t (*readdir_type_t)(struct fs_node *node, __fs_special_t *fsp, uint32_t count, struct dirent *result);
                                                                                                     ^
/home/dcat/osdev/w2/include/fs_node.h:28:101: warning: ‘struct fs_node’ declared inside parameter list
/home/dcat/osdev/w2/include/fs_node.h:30:95: warning: ‘struct fs_node’ declared inside parameter list
 typedef int (*finddir_type_t)(struct fs_node *, __fs_special_t *fsp, const char *name, struct fs_node *result_out);
                                                                                               ^
/home/dcat/osdev/w2/proc/proc.c: In function ‘create_first_proc’:
/home/dcat/osdev/w2/proc/proc.c:41:12: warning: passing argument 1 of ‘memcpy’ from incompatible pointer type
     memcpy(&init_pcb->tss, &tss_entry, sizeof(tss_entry_t));
            ^
In file included from /home/dcat/osdev/w2/include/str.h:9:0,
                 from /home/dcat/osdev/w2/proc/proc.c:5:
/home/dcat/osdev/w2/include/system.h:72:23: note: expected ‘unsigned char *’ but argument is of type ‘struct tss_entry_t *’
 extern unsigned char *memcpy(unsigned char *dest, const unsigned char *src, int count);
                       ^
/home/dcat/osdev/w2/proc/proc.c:41:28: warning: passing argument 2 of ‘memcpy’ from incompatible pointer type
     memcpy(&init_pcb->tss, &tss_entry, sizeof(tss_entry_t));
                            ^
In file included from /home/dcat/osdev/w2/include/str.h:9:0,
                 from /home/dcat/osdev/w2/proc/proc.c:5:
/home/dcat/osdev/w2/include/system.h:72:23: note: expected ‘const unsigned char *’ but argument is of type ‘struct tss_entry_t *’
 extern unsigned char *memcpy(unsigned char *dest, const unsigned char *src, int count);
                       ^
/home/dcat/osdev/w2/proc/proc.c: In function ‘idle’:
/home/dcat/osdev/w2/include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/proc/proc.c:47:5: note: in expansion of macro ‘dprintf’
     dprintf("now idle.");
     ^
In file included from /home/dcat/osdev/w2/proc/proc.c:5:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/str.h:9,
                 from /home/dcat/osdev/w2/proc/proc.c:5:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/proc/proc.c:47:5: note: in expansion of macro ‘dprintf’
     dprintf("now idle.");
     ^
In file included from /home/dcat/osdev/w2/proc/proc.c:5:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
/home/dcat/osdev/w2/proc/proc.c: In function ‘proc_install’:
/home/dcat/osdev/w2/proc/proc.c:71:12: warning: passing argument 1 of ‘memset’ from incompatible pointer type
     memset(processes, 0, sizeof(pcb_t) * MAX_PROC_COUNT);
            ^
In file included from /home/dcat/osdev/w2/include/str.h:9:0,
                 from /home/dcat/osdev/w2/proc/proc.c:5:
/home/dcat/osdev/w2/include/system.h:76:23: note: expected ‘unsigned char *’ but argument is of type ‘struct pcb_t *’
 extern unsigned char *memset(unsigned char *dest, unsigned char val, int count);
                       ^
/home/dcat/osdev/w2/proc/proc.c:73:12: warning: passing argument 1 of ‘memset’ from incompatible pointer type
     memset(proc_avali_queue, 0, 0x1000);
            ^
In file included from /home/dcat/osdev/w2/include/str.h:9:0,
                 from /home/dcat/osdev/w2/proc/proc.c:5:
/home/dcat/osdev/w2/include/system.h:76:23: note: expected ‘unsigned char *’ but argument is of type ‘struct proc_queue_t *’
 extern unsigned char *memset(unsigned char *dest, unsigned char val, int count);
                       ^
/home/dcat/osdev/w2/proc/proc.c:75:12: warning: passing argument 1 of ‘memset’ from incompatible pointer type
     memset(proc_ready_queue, 0, 0x1000);
            ^
In file included from /home/dcat/osdev/w2/include/str.h:9:0,
                 from /home/dcat/osdev/w2/proc/proc.c:5:
/home/dcat/osdev/w2/include/system.h:76:23: note: expected ‘unsigned char *’ but argument is of type ‘struct proc_queue_t *’
 extern unsigned char *memset(unsigned char *dest, unsigned char val, int count);
                       ^
/home/dcat/osdev/w2/proc/proc.c:77:12: warning: passing argument 1 of ‘memset’ from incompatible pointer type
     memset(proc_died_queue, 0, 0x1000);
            ^
In file included from /home/dcat/osdev/w2/include/str.h:9:0,
                 from /home/dcat/osdev/w2/proc/proc.c:5:
/home/dcat/osdev/w2/include/system.h:76:23: note: expected ‘unsigned char *’ but argument is of type ‘struct proc_queue_t *’
 extern unsigned char *memset(unsigned char *dest, unsigned char val, int count);
                       ^
/home/dcat/osdev/w2/proc/proc.c: In function ‘proc_exit’:
/home/dcat/osdev/w2/include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/proc/proc.c:94:5: note: in expansion of macro ‘dprintf’
     dprintf("[+] proc %x exited with ret:%x", getpid(), ret);
     ^
In file included from /home/dcat/osdev/w2/proc/proc.c:5:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/str.h:9,
                 from /home/dcat/osdev/w2/proc/proc.c:5:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/proc/proc.c:94:5: note: in expansion of macro ‘dprintf’
     dprintf("[+] proc %x exited with ret:%x", getpid(), ret);
     ^
In file included from /home/dcat/osdev/w2/proc/proc.c:5:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/str.h:9:0,
                 from /home/dcat/osdev/w2/proc/proc.c:5:
/home/dcat/osdev/w2/proc/proc.c: In function ‘switch_to_proc’:
/home/dcat/osdev/w2/include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/proc/proc.c:191:5: note: in expansion of macro ‘dprintf’
     dprintf("switch to task %x[PC:%x]", pcb->pid, pcb->tss.eip);
     ^
In file included from /home/dcat/osdev/w2/proc/proc.c:5:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/str.h:9,
                 from /home/dcat/osdev/w2/proc/proc.c:5:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/proc/proc.c:191:5: note: in expansion of macro ‘dprintf’
     dprintf("switch to task %x[PC:%x]", pcb->pid, pcb->tss.eip);
     ^
In file included from /home/dcat/osdev/w2/proc/proc.c:5:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/str.h:9:0,
                 from /home/dcat/osdev/w2/proc/proc.c:5:
/home/dcat/osdev/w2/proc/proc.c: In function ‘fork’:
/home/dcat/osdev/w2/include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/proc/proc.c:216:5: note: in expansion of macro ‘dprintf’
     dprintf("%x try to fork.child %x\n", fpid, cpid);
     ^
In file included from /home/dcat/osdev/w2/proc/proc.c:5:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/str.h:9,
                 from /home/dcat/osdev/w2/proc/proc.c:5:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/proc/proc.c:216:5: note: in expansion of macro ‘dprintf’
     dprintf("%x try to fork.child %x\n", fpid, cpid);
     ^
In file included from /home/dcat/osdev/w2/proc/proc.c:5:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
/home/dcat/osdev/w2/proc/proc.c:224:12: warning: passing argument 1 of ‘memcpy’ from incompatible pointer type
     memcpy(tss, &fpcb->tss, sizeof(tss_entry_t));
            ^
In file included from /home/dcat/osdev/w2/include/str.h:9:0,
                 from /home/dcat/osdev/w2/proc/proc.c:5:
/home/dcat/osdev/w2/include/system.h:72:23: note: expected ‘unsigned char *’ but argument is of type ‘struct tss_entry_t *’
 extern unsigned char *memcpy(unsigned char *dest, const unsigned char *src, int count);
                       ^
/home/dcat/osdev/w2/proc/proc.c:224:17: warning: passing argument 2 of ‘memcpy’ from incompatible pointer type
     memcpy(tss, &fpcb->tss, sizeof(tss_entry_t));
                 ^
In file included from /home/dcat/osdev/w2/include/str.h:9:0,
                 from /home/dcat/osdev/w2/proc/proc.c:5:
/home/dcat/osdev/w2/include/system.h:72:23: note: expected ‘const unsigned char *’ but argument is of type ‘struct tss_entry_t *’
 extern unsigned char *memcpy(unsigned char *dest, const unsigned char *src, int count);
                       ^
/home/dcat/osdev/w2/include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/proc/proc.c:234:9: note: in expansion of macro ‘dprintf’
         dprintf("[+] new user stack:[%x][%x]", tss->ebp, tss->esp);
         ^
In file included from /home/dcat/osdev/w2/proc/proc.c:5:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/str.h:9,
                 from /home/dcat/osdev/w2/proc/proc.c:5:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/proc/proc.c:234:9: note: in expansion of macro ‘dprintf’
         dprintf("[+] new user stack:[%x][%x]", tss->ebp, tss->esp);
         ^
In file included from /home/dcat/osdev/w2/proc/proc.c:5:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/str.h:9:0,
                 from /home/dcat/osdev/w2/proc/proc.c:5:
/home/dcat/osdev/w2/include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/proc/proc.c:253:5: note: in expansion of macro ‘dprintf’
     dprintf("proc cs[%x] es[%x]", r->cs, r->es);
     ^
In file included from /home/dcat/osdev/w2/proc/proc.c:5:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/str.h:9,
                 from /home/dcat/osdev/w2/proc/proc.c:5:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/proc/proc.c:253:5: note: in expansion of macro ‘dprintf’
     dprintf("proc cs[%x] es[%x]", r->cs, r->es);
     ^
In file included from /home/dcat/osdev/w2/proc/proc.c:5:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
/home/dcat/osdev/w2/proc/proc.c:257:12: warning: passing argument 1 of ‘memset’ makes pointer from integer without a cast
     memset(cpcb->reserved_page, 0, 0x1000);
            ^
In file included from /home/dcat/osdev/w2/include/str.h:9:0,
                 from /home/dcat/osdev/w2/proc/proc.c:5:
/home/dcat/osdev/w2/include/system.h:76:23: note: expected ‘unsigned char *’ but argument is of type ‘uint32_t’
 extern unsigned char *memset(unsigned char *dest, unsigned char val, int count);
                       ^
/home/dcat/osdev/w2/proc/proc.c: In function ‘copy_current_stack’:
/home/dcat/osdev/w2/include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/proc/proc.c:274:5: note: in expansion of macro ‘dprintf’
     dprintf("creating user stack:%x %x", start_addr, size);
     ^
In file included from /home/dcat/osdev/w2/proc/proc.c:5:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/str.h:9,
                 from /home/dcat/osdev/w2/proc/proc.c:5:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/proc/proc.c:274:5: note: in expansion of macro ‘dprintf’
     dprintf("creating user stack:%x %x", start_addr, size);
     ^
In file included from /home/dcat/osdev/w2/proc/proc.c:5:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/str.h:9:0,
                 from /home/dcat/osdev/w2/proc/proc.c:5:
/home/dcat/osdev/w2/include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/proc/proc.c:282:9: note: in expansion of macro ‘dprintf’
         dprintf("[%x]page addr:%x dir:%x", start_addr - x, page, dir);
         ^
In file included from /home/dcat/osdev/w2/proc/proc.c:5:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/str.h:9,
                 from /home/dcat/osdev/w2/proc/proc.c:5:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/proc/proc.c:282:9: note: in expansion of macro ‘dprintf’
         dprintf("[%x]page addr:%x dir:%x", start_addr - x, page, dir);
         ^
In file included from /home/dcat/osdev/w2/proc/proc.c:5:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/str.h:9:0,
                 from /home/dcat/osdev/w2/proc/proc.c:5:
/home/dcat/osdev/w2/include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/proc/proc.c:287:5: note: in expansion of macro ‘dprintf’
     dprintf("A[%x][%x][%x]B", old_base_pointer, old_stack_pointer, offset);
     ^
In file included from /home/dcat/osdev/w2/proc/proc.c:5:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/str.h:9,
                 from /home/dcat/osdev/w2/proc/proc.c:5:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/proc/proc.c:287:5: note: in expansion of macro ‘dprintf’
     dprintf("A[%x][%x][%x]B", old_base_pointer, old_stack_pointer, offset);
     ^
In file included from /home/dcat/osdev/w2/proc/proc.c:5:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/str.h:9:0,
                 from /home/dcat/osdev/w2/proc/proc.c:5:
/home/dcat/osdev/w2/include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/proc/proc.c:290:5: note: in expansion of macro ‘dprintf’
     dprintf("copy %x to %x size:%x", old_stack_pointer, new_stack_pointer, start_esp - old_stack_pointer);
     ^
In file included from /home/dcat/osdev/w2/proc/proc.c:5:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/str.h:9,
                 from /home/dcat/osdev/w2/proc/proc.c:5:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/proc/proc.c:290:5: note: in expansion of macro ‘dprintf’
     dprintf("copy %x to %x size:%x", old_stack_pointer, new_stack_pointer, start_esp - old_stack_pointer);
     ^
In file included from /home/dcat/osdev/w2/proc/proc.c:5:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
/home/dcat/osdev/w2/proc/proc.c:291:19: warning: initialization makes pointer from integer without a cast
     uint32_t *p = new_stack_pointer;
                   ^
/home/dcat/osdev/w2/proc/proc.c:292:12: warning: passing argument 1 of ‘memcpy’ makes pointer from integer without a cast
     memcpy(new_stack_pointer, old_stack_pointer, start_esp - old_stack_pointer);
            ^
In file included from /home/dcat/osdev/w2/include/str.h:9:0,
                 from /home/dcat/osdev/w2/proc/proc.c:5:
/home/dcat/osdev/w2/include/system.h:72:23: note: expected ‘unsigned char *’ but argument is of type ‘uint32_t’
 extern unsigned char *memcpy(unsigned char *dest, const unsigned char *src, int count);
                       ^
/home/dcat/osdev/w2/proc/proc.c:292:31: warning: passing argument 2 of ‘memcpy’ makes pointer from integer without a cast
     memcpy(new_stack_pointer, old_stack_pointer, start_esp - old_stack_pointer);
                               ^
In file included from /home/dcat/osdev/w2/include/str.h:9:0,
                 from /home/dcat/osdev/w2/proc/proc.c:5:
/home/dcat/osdev/w2/include/system.h:72:23: note: expected ‘const unsigned char *’ but argument is of type ‘uint32_t’
 extern unsigned char *memcpy(unsigned char *dest, const unsigned char *src, int count);
                       ^
/home/dcat/osdev/w2/include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/proc/proc.c:293:5: note: in expansion of macro ‘dprintf’
     dprintf("copy done.");
     ^
In file included from /home/dcat/osdev/w2/proc/proc.c:5:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/str.h:9,
                 from /home/dcat/osdev/w2/proc/proc.c:5:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/proc/proc.c:293:5: note: in expansion of macro ‘dprintf’
     dprintf("copy done.");
     ^
In file included from /home/dcat/osdev/w2/proc/proc.c:5:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/str.h:9:0,
                 from /home/dcat/osdev/w2/proc/proc.c:5:
/home/dcat/osdev/w2/include/system.h:94:12: warning: passing argument 1 of ‘strformatw’ from incompatible pointer type
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
            ^
/home/dcat/osdev/w2/proc/proc.c:311:5: note: in expansion of macro ‘dprintf’
     dprintf("all done.now ret.");
     ^
In file included from /home/dcat/osdev/w2/proc/proc.c:5:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void (*)(void *, char)’ but argument is of type ‘void (*)(uint16_t,  unsigned char)’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
In file included from /home/dcat/osdev/w2/include/system.h:7:0,
                 from /home/dcat/osdev/w2/include/str.h:9,
                 from /home/dcat/osdev/w2/proc/proc.c:5:
/home/dcat/osdev/w2/dev/include/serial.h:11:14: warning: passing argument 2 of ‘strformatw’ makes pointer from integer without a cast
 #define COM1 0x3F8
              ^
/home/dcat/osdev/w2/include/system.h:94:26: note: in expansion of macro ‘COM1’
 strformatw(serial_write, COM1,"[D][%s] " str "\n",__func__,##args);\
                          ^
/home/dcat/osdev/w2/proc/proc.c:311:5: note: in expansion of macro ‘dprintf’
     dprintf("all done.now ret.");
     ^
In file included from /home/dcat/osdev/w2/proc/proc.c:5:0:
/home/dcat/osdev/w2/include/str.h:29:6: note: expected ‘void *’ but argument is of type ‘int’
 uint strformatw(void (*writer)(void *extern_data, char c), void *extern_data, const char *fmt, ...);
      ^
/home/dcat/osdev/w2/proc/proc.c:291:15: warning: unused variable ‘p’ [-Wunused-variable]
     uint32_t *p = new_stack_pointer;
               ^
In file included from /home/dcat/osdev/w2/include/str.h:9:0,
                 from /home/dcat/osdev/w2/proc/proc.c:5:
/home/dcat/osdev/w2/proc/proc.c: At top level:
/home/dcat/osdev/w2/include/system.h:82:27: warning: inline function ‘itoa’ declared but never defined
 extern inline const char *itoa(int i, char result[]);
                           ^
/home/dcat/osdev/w2/include/system.h:82:27: warning: inline function ‘itoa’ declared but never defined
/home/dcat/osdev/w2/proc/proc.c: Assembler messages:
/home/dcat/osdev/w2/proc/proc.c:199: Warning: indirect ljmp without `*'
